(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();var wo={exports:{}},Vn={},jo={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function lf(){if(qu)return _e;qu=1;var a=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,w={};function O(k,$,ce){this.props=k,this.context=$,this.refs=w,this.updater=ce||E}O.prototype.isReactComponent={},O.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function U(){}U.prototype=O.prototype;function z(k,$,ce){this.props=k,this.context=$,this.refs=w,this.updater=ce||E}var V=z.prototype=new U;V.constructor=z,R(V,O.prototype),V.isPureReactComponent=!0;var G=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ae(k,$,ce){var fe,M={},Q=null,X=null;if($!=null)for(fe in $.ref!==void 0&&(X=$.ref),$.key!==void 0&&(Q=""+$.key),$)S.call($,fe)&&!H.hasOwnProperty(fe)&&(M[fe]=$[fe]);var be=arguments.length-2;if(be===1)M.children=ce;else if(1<be){for(var we=Array(be),Ze=0;Ze<be;Ze++)we[Ze]=arguments[Ze+2];M.children=we}if(k&&k.defaultProps)for(fe in be=k.defaultProps,be)M[fe]===void 0&&(M[fe]=be[fe]);return{$$typeof:a,type:k,key:Q,ref:X,props:M,_owner:A.current}}function le(k,$){return{$$typeof:a,type:k.type,key:$,ref:k.ref,props:k.props,_owner:k._owner}}function ge(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function Ne(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return $[ce]})}var ve=/\/+/g;function ye(k,$){return typeof k=="object"&&k!==null&&k.key!=null?Ne(""+k.key):$.toString(36)}function Xe(k,$,ce,fe,M){var Q=typeof k;(Q==="undefined"||Q==="boolean")&&(k=null);var X=!1;if(k===null)X=!0;else switch(Q){case"string":case"number":X=!0;break;case"object":switch(k.$$typeof){case a:case s:X=!0}}if(X)return X=k,M=M(X),k=fe===""?"."+ye(X,0):fe,G(M)?(ce="",k!=null&&(ce=k.replace(ve,"$&/")+"/"),Xe(M,$,ce,"",function(Ze){return Ze})):M!=null&&(ge(M)&&(M=le(M,ce+(!M.key||X&&X.key===M.key?"":(""+M.key).replace(ve,"$&/")+"/")+k)),$.push(M)),1;if(X=0,fe=fe===""?".":fe+":",G(k))for(var be=0;be<k.length;be++){Q=k[be];var we=fe+ye(Q,be);X+=Xe(Q,$,ce,we,M)}else if(we=N(k),typeof we=="function")for(k=we.call(k),be=0;!(Q=k.next()).done;)Q=Q.value,we=fe+ye(Q,be++),X+=Xe(Q,$,ce,we,M);else if(Q==="object")throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return X}function gt(k,$,ce){if(k==null)return k;var fe=[],M=0;return Xe(k,fe,"","",function(Q){return $.call(ce,Q,M++)}),fe}function He(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var Ee={current:null},q={transition:null},se={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:q,ReactCurrentOwner:A};function I(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:gt,forEach:function(k,$,ce){gt(k,function(){$.apply(this,arguments)},ce)},count:function(k){var $=0;return gt(k,function(){$++}),$},toArray:function(k){return gt(k,function($){return $})||[]},only:function(k){if(!ge(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},_e.Component=O,_e.Fragment=n,_e.Profiler=c,_e.PureComponent=z,_e.StrictMode=l,_e.Suspense=m,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,_e.act=I,_e.cloneElement=function(k,$,ce){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var fe=R({},k.props),M=k.key,Q=k.ref,X=k._owner;if($!=null){if($.ref!==void 0&&(Q=$.ref,X=A.current),$.key!==void 0&&(M=""+$.key),k.type&&k.type.defaultProps)var be=k.type.defaultProps;for(we in $)S.call($,we)&&!H.hasOwnProperty(we)&&(fe[we]=$[we]===void 0&&be!==void 0?be[we]:$[we])}var we=arguments.length-2;if(we===1)fe.children=ce;else if(1<we){be=Array(we);for(var Ze=0;Ze<we;Ze++)be[Ze]=arguments[Ze+2];fe.children=be}return{$$typeof:a,type:k.type,key:M,ref:Q,props:fe,_owner:X}},_e.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:u,_context:k},k.Consumer=k},_e.createElement=ae,_e.createFactory=function(k){var $=ae.bind(null,k);return $.type=k,$},_e.createRef=function(){return{current:null}},_e.forwardRef=function(k){return{$$typeof:f,render:k}},_e.isValidElement=ge,_e.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:He}},_e.memo=function(k,$){return{$$typeof:x,type:k,compare:$===void 0?null:$}},_e.startTransition=function(k){var $=q.transition;q.transition={};try{k()}finally{q.transition=$}},_e.unstable_act=I,_e.useCallback=function(k,$){return Ee.current.useCallback(k,$)},_e.useContext=function(k){return Ee.current.useContext(k)},_e.useDebugValue=function(){},_e.useDeferredValue=function(k){return Ee.current.useDeferredValue(k)},_e.useEffect=function(k,$){return Ee.current.useEffect(k,$)},_e.useId=function(){return Ee.current.useId()},_e.useImperativeHandle=function(k,$,ce){return Ee.current.useImperativeHandle(k,$,ce)},_e.useInsertionEffect=function(k,$){return Ee.current.useInsertionEffect(k,$)},_e.useLayoutEffect=function(k,$){return Ee.current.useLayoutEffect(k,$)},_e.useMemo=function(k,$){return Ee.current.useMemo(k,$)},_e.useReducer=function(k,$,ce){return Ee.current.useReducer(k,$,ce)},_e.useRef=function(k){return Ee.current.useRef(k)},_e.useState=function(k){return Ee.current.useState(k)},_e.useSyncExternalStore=function(k,$,ce){return Ee.current.useSyncExternalStore(k,$,ce)},_e.useTransition=function(){return Ee.current.useTransition()},_e.version="18.3.1",_e}var Hu;function Yo(){return Hu||(Hu=1,jo.exports=lf()),jo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku;function of(){if(Ku)return Vn;Ku=1;var a=Yo(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,x){var y,b={},N=null,E=null;x!==void 0&&(N=""+x),m.key!==void 0&&(N=""+m.key),m.ref!==void 0&&(E=m.ref);for(y in m)l.call(m,y)&&!u.hasOwnProperty(y)&&(b[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)b[y]===void 0&&(b[y]=m[y]);return{$$typeof:s,type:f,key:N,ref:E,props:b,_owner:c.current}}return Vn.Fragment=n,Vn.jsx=h,Vn.jsxs=h,Vn}var Gu;function cf(){return Gu||(Gu=1,wo.exports=of()),wo.exports}var t=cf(),hi={},No={exports:{}},kt={},_o={exports:{}},ko={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju;function df(){return Ju||(Ju=1,(function(a){function s(q,se){var I=q.length;q.push(se);e:for(;0<I;){var k=I-1>>>1,$=q[k];if(0<c($,se))q[k]=se,q[I]=$,I=k;else break e}}function n(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var se=q[0],I=q.pop();if(I!==se){q[0]=I;e:for(var k=0,$=q.length,ce=$>>>1;k<ce;){var fe=2*(k+1)-1,M=q[fe],Q=fe+1,X=q[Q];if(0>c(M,I))Q<$&&0>c(X,M)?(q[k]=X,q[Q]=I,k=Q):(q[k]=M,q[fe]=I,k=fe);else if(Q<$&&0>c(X,I))q[k]=X,q[Q]=I,k=Q;else break e}}return se}function c(q,se){var I=q.sortIndex-se.sortIndex;return I!==0?I:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();a.unstable_now=function(){return h.now()-f}}var m=[],x=[],y=1,b=null,N=3,E=!1,R=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(q){for(var se=n(x);se!==null;){if(se.callback===null)l(x);else if(se.startTime<=q)l(x),se.sortIndex=se.expirationTime,s(m,se);else break;se=n(x)}}function G(q){if(w=!1,V(q),!R)if(n(m)!==null)R=!0,He(S);else{var se=n(x);se!==null&&Ee(G,se.startTime-q)}}function S(q,se){R=!1,w&&(w=!1,U(ae),ae=-1),E=!0;var I=N;try{for(V(se),b=n(m);b!==null&&(!(b.expirationTime>se)||q&&!Ne());){var k=b.callback;if(typeof k=="function"){b.callback=null,N=b.priorityLevel;var $=k(b.expirationTime<=se);se=a.unstable_now(),typeof $=="function"?b.callback=$:b===n(m)&&l(m),V(se)}else l(m);b=n(m)}if(b!==null)var ce=!0;else{var fe=n(x);fe!==null&&Ee(G,fe.startTime-se),ce=!1}return ce}finally{b=null,N=I,E=!1}}var A=!1,H=null,ae=-1,le=5,ge=-1;function Ne(){return!(a.unstable_now()-ge<le)}function ve(){if(H!==null){var q=a.unstable_now();ge=q;var se=!0;try{se=H(!0,q)}finally{se?ye():(A=!1,H=null)}}else A=!1}var ye;if(typeof z=="function")ye=function(){z(ve)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,gt=Xe.port2;Xe.port1.onmessage=ve,ye=function(){gt.postMessage(null)}}else ye=function(){O(ve,0)};function He(q){H=q,A||(A=!0,ye())}function Ee(q,se){ae=O(function(){q(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_continueExecution=function(){R||E||(R=!0,He(S))},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_getFirstCallbackNode=function(){return n(m)},a.unstable_next=function(q){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var I=N;N=se;try{return q()}finally{N=I}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var I=N;N=q;try{return se()}finally{N=I}},a.unstable_scheduleCallback=function(q,se,I){var k=a.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?k+I:k):I=k,q){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=I+$,q={id:y++,callback:se,priorityLevel:q,startTime:I,expirationTime:$,sortIndex:-1},I>k?(q.sortIndex=I,s(x,q),n(m)===null&&q===n(x)&&(w?(U(ae),ae=-1):w=!0,Ee(G,I-k))):(q.sortIndex=$,s(m,q),R||E||(R=!0,He(S))),q},a.unstable_shouldYield=Ne,a.unstable_wrapCallback=function(q){var se=N;return function(){var I=N;N=se;try{return q.apply(this,arguments)}finally{N=I}}}})(ko)),ko}var Qu;function uf(){return Qu||(Qu=1,_o.exports=df()),_o.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function hf(){if(Yu)return kt;Yu=1;var a=Yo(),s=uf();function n(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function u(e,r){h(e,r),h(e+"Capture",r)}function h(e,r){for(c[e]=r,e=0;e<r.length;e++)l.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function N(e){return m.call(b,e)?!0:m.call(y,e)?!1:x.test(e)?b[e]=!0:(y[e]=!0,!1)}function E(e,r,i,o){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,r,i,o){if(r===null||typeof r>"u"||E(e,r,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function w(e,r,i,o,d,p,g){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=o,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=p,this.removeEmptyString=g}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];O[r]=new w(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(U,z);O[r]=new w(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(U,z);O[r]=new w(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(U,z);O[r]=new w(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function V(e,r,i,o){var d=O.hasOwnProperty(r)?O[r]:null;(d!==null?d.type!==0:o||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(R(r,i,d,o)&&(i=null),o||d===null?N(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(r=d.attributeName,o=d.attributeNamespace,i===null?e.removeAttribute(r):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,o?e.setAttributeNS(o,r,i):e.setAttribute(r,i))))}var G=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),A=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Ne=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),q=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var I=Object.assign,k;function $(e){if(k===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||""}return`
`+k+e}var ce=!1;function fe(e,r){if(!e||ce)return"";ce=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(T){var o=T}Reflect.construct(e,[],r)}else{try{r.call()}catch(T){o=T}e.call(r.prototype)}else{try{throw Error()}catch(T){o=T}e()}}catch(T){if(T&&o&&typeof T.stack=="string"){for(var d=T.stack.split(`
`),p=o.stack.split(`
`),g=d.length-1,v=p.length-1;1<=g&&0<=v&&d[g]!==p[v];)v--;for(;1<=g&&0<=v;g--,v--)if(d[g]!==p[v]){if(g!==1||v!==1)do if(g--,v--,0>v||d[g]!==p[v]){var j=`
`+d[g].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=g&&0<=v);break}}}finally{ce=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$(e):""}function M(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function Q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case A:return"Portal";case le:return"Profiler";case ae:return"StrictMode";case ye:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ne:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case ve:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gt:return r=e.displayName||null,r!==null?r:Q(e.type)||"Memo";case He:r=e._payload,e=e._init;try{return Q(e(r))}catch{}}return null}function X(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(r);case 8:return r===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ze(e){var r=we(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),o=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,p=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return d.call(this)},set:function(g){o=""+g,p.call(this,g)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Me(e){e._valueTracker||(e._valueTracker=Ze(e))}function L(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),o="";return e&&(o=we(e)?e.checked?"true":"false":e.value),e=o,e!==i?(r.setValue(e),!0):!1}function Z(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oe(e,r){var i=r.checked;return I({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function de(e,r){var i=r.defaultValue==null?"":r.defaultValue,o=r.checked!=null?r.checked:r.defaultChecked;i=be(r.value!=null?r.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function je(e,r){r=r.checked,r!=null&&V(e,"checked",r,!1)}function Ue(e,r){je(e,r);var i=be(r.value),o=r.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?nt(e,r.type,i):r.hasOwnProperty("defaultValue")&&nt(e,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function xt(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var o=r.type;if(!(o!=="submit"&&o!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function nt(e,r,i){(r!=="number"||Z(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ut=Array.isArray;function It(e,r,i,o){if(e=e.options,r){r={};for(var d=0;d<i.length;d++)r["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=r.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+be(i),r=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}r!==null||e[d].disabled||(r=e[d])}r!==null&&(r.selected=!0)}}function lr(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wr(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(n(92));if(ut(i)){if(1<i.length)throw Error(n(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:be(i)}}function ms(e,r){var i=be(r.value),o=be(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function or(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function qr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ti(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?qr(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var na,ac=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,o,d){MSApp.execUnsafeLocalFunction(function(){return e(r,i,o,d)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(na=na||document.createElement("div"),na.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function nn(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var an={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dp=["Webkit","ms","Moz","O"];Object.keys(an).forEach(function(e){dp.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),an[r]=an[e]})});function ic(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||an.hasOwnProperty(e)&&an[e]?(""+r).trim():r+"px"}function lc(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var o=i.indexOf("--")===0,d=ic(i,r[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,d):e[i]=d}}var up=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oi(e,r){if(r){if(up[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Ri(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,fs=null,gs=null;function oc(e){if(e=Cn(e)){if(typeof Di!="function")throw Error(n(280));var r=e.stateNode;r&&(r=Ea(r),Di(e.stateNode,e.type,r))}}function cc(e){fs?gs?gs.push(e):gs=[e]:fs=e}function dc(){if(fs){var e=fs,r=gs;if(gs=fs=null,oc(e),r)for(e=0;e<r.length;e++)oc(r[e])}}function uc(e,r){return e(r)}function hc(){}var $i=!1;function pc(e,r,i){if($i)return e(r,i);$i=!0;try{return uc(e,r,i)}finally{$i=!1,(fs!==null||gs!==null)&&(hc(),dc())}}function ln(e,r){var i=e.stateNode;if(i===null)return null;var o=Ea(i);if(o===null)return null;i=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,r,typeof i));return i}var Mi=!1;if(f)try{var on={};Object.defineProperty(on,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{Mi=!1}function hp(e,r,i,o,d,p,g,v,j){var T=Array.prototype.slice.call(arguments,3);try{r.apply(i,T)}catch(B){this.onError(B)}}var cn=!1,aa=null,ia=!1,Ui=null,pp={onError:function(e){cn=!0,aa=e}};function mp(e,r,i,o,d,p,g,v,j){cn=!1,aa=null,hp.apply(pp,arguments)}function fp(e,r,i,o,d,p,g,v,j){if(mp.apply(this,arguments),cn){if(cn){var T=aa;cn=!1,aa=null}else throw Error(n(198));ia||(ia=!0,Ui=T)}}function Hr(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function mc(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function fc(e){if(Hr(e)!==e)throw Error(n(188))}function gp(e){var r=e.alternate;if(!r){if(r=Hr(e),r===null)throw Error(n(188));return r!==e?null:e}for(var i=e,o=r;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return fc(d),e;if(p===o)return fc(d),r;p=p.sibling}throw Error(n(188))}if(i.return!==o.return)i=d,o=p;else{for(var g=!1,v=d.child;v;){if(v===i){g=!0,i=d,o=p;break}if(v===o){g=!0,o=d,i=p;break}v=v.sibling}if(!g){for(v=p.child;v;){if(v===i){g=!0,i=p,o=d;break}if(v===o){g=!0,o=p,i=d;break}v=v.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:r}function gc(e){return e=gp(e),e!==null?xc(e):null}function xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=xc(e);if(r!==null)return r;e=e.sibling}return null}var yc=s.unstable_scheduleCallback,vc=s.unstable_cancelCallback,xp=s.unstable_shouldYield,yp=s.unstable_requestPaint,Ve=s.unstable_now,vp=s.unstable_getCurrentPriorityLevel,Fi=s.unstable_ImmediatePriority,bc=s.unstable_UserBlockingPriority,la=s.unstable_NormalPriority,bp=s.unstable_LowPriority,wc=s.unstable_IdlePriority,oa=null,rr=null;function wp(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(oa,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:_p,jp=Math.log,Np=Math.LN2;function _p(e){return e>>>=0,e===0?32:31-(jp(e)/Np|0)|0}var ca=64,da=4194304;function dn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ua(e,r){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,p=e.pingedLanes,g=i&268435455;if(g!==0){var v=g&~d;v!==0?o=dn(v):(p&=g,p!==0&&(o=dn(p)))}else g=i&~d,g!==0?o=dn(g):p!==0&&(o=dn(p));if(o===0)return 0;if(r!==0&&r!==o&&(r&d)===0&&(d=o&-o,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if((o&4)!==0&&(o|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=o;0<r;)i=31-Vt(r),d=1<<i,o|=e[i],r&=~d;return o}function kp(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sp(e,r){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes;0<p;){var g=31-Vt(p),v=1<<g,j=d[g];j===-1?((v&i)===0||(v&o)!==0)&&(d[g]=kp(v,r)):j<=r&&(e.expiredLanes|=v),p&=~v}}function zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jc(){var e=ca;return ca<<=1,(ca&4194240)===0&&(ca=64),e}function Bi(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function un(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Vt(r),e[r]=i}function Ep(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Vt(i),p=1<<d;r[d]=0,o[d]=-1,e[d]=-1,i&=~p}}function Vi(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var o=31-Vt(i),d=1<<o;d&r|e[o]&r&&(e[o]|=r),i&=~d}}var Ce=0;function Nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _c,Wi,kc,Sc,Ec,qi=!1,ha=[],wr=null,jr=null,Nr=null,hn=new Map,pn=new Map,_r=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,r){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":hn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(r.pointerId)}}function mn(e,r,i,o,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:r,domEventName:i,eventSystemFlags:o,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Cn(r),r!==null&&Wi(r)),e):(e.eventSystemFlags|=o,r=e.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),e)}function Ap(e,r,i,o,d){switch(r){case"focusin":return wr=mn(wr,e,r,i,o,d),!0;case"dragenter":return jr=mn(jr,e,r,i,o,d),!0;case"mouseover":return Nr=mn(Nr,e,r,i,o,d),!0;case"pointerover":var p=d.pointerId;return hn.set(p,mn(hn.get(p)||null,e,r,i,o,d)),!0;case"gotpointercapture":return p=d.pointerId,pn.set(p,mn(pn.get(p)||null,e,r,i,o,d)),!0}return!1}function Ac(e){var r=Kr(e.target);if(r!==null){var i=Hr(r);if(i!==null){if(r=i.tag,r===13){if(r=mc(i),r!==null){e.blockedOn=r,Ec(e.priority,function(){kc(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=Ki(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Li=o,i.target.dispatchEvent(o),Li=null}else return r=Cn(i),r!==null&&Wi(r),e.blockedOn=i,!1;r.shift()}return!0}function Pc(e,r,i){pa(e)&&i.delete(r)}function Pp(){qi=!1,wr!==null&&pa(wr)&&(wr=null),jr!==null&&pa(jr)&&(jr=null),Nr!==null&&pa(Nr)&&(Nr=null),hn.forEach(Pc),pn.forEach(Pc)}function fn(e,r){e.blockedOn===r&&(e.blockedOn=null,qi||(qi=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pp)))}function gn(e){function r(d){return fn(d,e)}if(0<ha.length){fn(ha[0],e);for(var i=1;i<ha.length;i++){var o=ha[i];o.blockedOn===e&&(o.blockedOn=null)}}for(wr!==null&&fn(wr,e),jr!==null&&fn(jr,e),Nr!==null&&fn(Nr,e),hn.forEach(r),pn.forEach(r),i=0;i<_r.length;i++)o=_r[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<_r.length&&(i=_r[0],i.blockedOn===null);)Ac(i),i.blockedOn===null&&_r.shift()}var xs=G.ReactCurrentBatchConfig,ma=!0;function Tp(e,r,i,o){var d=Ce,p=xs.transition;xs.transition=null;try{Ce=1,Hi(e,r,i,o)}finally{Ce=d,xs.transition=p}}function Op(e,r,i,o){var d=Ce,p=xs.transition;xs.transition=null;try{Ce=4,Hi(e,r,i,o)}finally{Ce=d,xs.transition=p}}function Hi(e,r,i,o){if(ma){var d=Ki(e,r,i,o);if(d===null)dl(e,r,o,fa,i),Cc(e,o);else if(Ap(d,e,r,i,o))o.stopPropagation();else if(Cc(e,o),r&4&&-1<Cp.indexOf(e)){for(;d!==null;){var p=Cn(d);if(p!==null&&_c(p),p=Ki(e,r,i,o),p===null&&dl(e,r,o,fa,i),p===d)break;d=p}d!==null&&o.stopPropagation()}else dl(e,r,o,null,i)}}var fa=null;function Ki(e,r,i,o){if(fa=null,e=Ii(o),e=Kr(e),e!==null)if(r=Hr(e),r===null)e=null;else if(i=r.tag,i===13){if(e=mc(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return fa=e,null}function Tc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vp()){case Fi:return 1;case bc:return 4;case la:case bp:return 16;case wc:return 536870912;default:return 16}default:return 16}}var kr=null,Gi=null,ga=null;function Oc(){if(ga)return ga;var e,r=Gi,i=r.length,o,d="value"in kr?kr.value:kr.textContent,p=d.length;for(e=0;e<i&&r[e]===d[e];e++);var g=i-e;for(o=1;o<=g&&r[i-o]===d[p-o];o++);return ga=d.slice(e,1<o?1-o:void 0)}function xa(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function Rc(){return!1}function Et(e){function r(i,o,d,p,g){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(p):p[v]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ya:Rc,this.isPropagationStopped=Rc,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Et(ys),xn=I({},ys,{view:0,detail:0}),Rp=Et(xn),Qi,Yi,yn,va=I({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yn&&(yn&&e.type==="mousemove"?(Qi=e.screenX-yn.screenX,Yi=e.screenY-yn.screenY):Yi=Qi=0,yn=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:Yi}}),Lc=Et(va),Lp=I({},va,{dataTransfer:0}),Ip=Et(Lp),Dp=I({},xn,{relatedTarget:0}),Xi=Et(Dp),$p=I({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=Et($p),Up=I({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=Et(Up),zp=I({},ys,{data:0}),Ic=Et(zp),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Wp[e])?!!r[e]:!1}function Zi(){return qp}var Hp=I({},xn,{key:function(e){if(e.key){var r=Bp[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=Et(Hp),Gp=I({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Et(Gp),Jp=I({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),Qp=Et(Jp),Yp=I({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=Et(Yp),Zp=I({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),em=Et(Zp),tm=[9,13,27,32],el=f&&"CompositionEvent"in window,vn=null;f&&"documentMode"in document&&(vn=document.documentMode);var rm=f&&"TextEvent"in window&&!vn,$c=f&&(!el||vn&&8<vn&&11>=vn),Mc=" ",Uc=!1;function Fc(e,r){switch(e){case"keyup":return tm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function sm(e,r){switch(e){case"compositionend":return zc(r);case"keypress":return r.which!==32?null:(Uc=!0,Mc);case"textInput":return e=r.data,e===Mc&&Uc?null:e;default:return null}}function nm(e,r){if(vs)return e==="compositionend"||!el&&Fc(e,r)?(e=Oc(),ga=Gi=kr=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $c&&r.locale!=="ko"?null:r.data;default:return null}}var am={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!am[e.type]:r==="textarea"}function Vc(e,r,i,o){cc(o),r=_a(r,"onChange"),0<r.length&&(i=new Ji("onChange","change",null,i,o),e.push({event:i,listeners:r}))}var bn=null,wn=null;function im(e){ld(e,0)}function ba(e){var r=_s(e);if(L(r))return e}function lm(e,r){if(e==="change")return r}var Wc=!1;if(f){var tl;if(f){var rl="oninput"in document;if(!rl){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),rl=typeof qc.oninput=="function"}tl=rl}else tl=!1;Wc=tl&&(!document.documentMode||9<document.documentMode)}function Hc(){bn&&(bn.detachEvent("onpropertychange",Kc),wn=bn=null)}function Kc(e){if(e.propertyName==="value"&&ba(wn)){var r=[];Vc(r,wn,e,Ii(e)),pc(im,r)}}function om(e,r,i){e==="focusin"?(Hc(),bn=r,wn=i,bn.attachEvent("onpropertychange",Kc)):e==="focusout"&&Hc()}function cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(wn)}function dm(e,r){if(e==="click")return ba(r)}function um(e,r){if(e==="input"||e==="change")return ba(r)}function hm(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Wt=typeof Object.is=="function"?Object.is:hm;function jn(e,r){if(Wt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!m.call(r,d)||!Wt(e[d],r[d]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,r){var i=Gc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=r&&o>=r)return{node:i,offset:r-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Gc(i)}}function Qc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Qc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Yc(){for(var e=window,r=Z();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=Z(e.document)}return r}function sl(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function pm(e){var r=Yc(),i=e.focusedElem,o=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&Qc(i.ownerDocument.documentElement,i)){if(o!==null&&sl(i)){if(r=o.start,e=o.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,p=Math.min(o.start,d);o=o.end===void 0?p:Math.min(o.end,d),!e.extend&&p>o&&(d=o,o=p,p=d),d=Jc(i,p);var g=Jc(i,o);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),e.removeAllRanges(),p>o?(e.addRange(r),e.extend(g.node,g.offset)):(r.setEnd(g.node,g.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mm=f&&"documentMode"in document&&11>=document.documentMode,bs=null,nl=null,Nn=null,al=!1;function Xc(e,r,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;al||bs==null||bs!==Z(o)||(o=bs,"selectionStart"in o&&sl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Nn&&jn(Nn,o)||(Nn=o,o=_a(nl,"onSelect"),0<o.length&&(r=new Ji("onSelect","select",null,r,i),e.push({event:r,listeners:o}),r.target=bs)))}function wa(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var ws={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},il={},Zc={};f&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function ja(e){if(il[e])return il[e];if(!ws[e])return e;var r=ws[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in Zc)return il[e]=r[i];return e}var ed=ja("animationend"),td=ja("animationiteration"),rd=ja("animationstart"),sd=ja("transitionend"),nd=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,r){nd.set(e,r),u(r,[e])}for(var ll=0;ll<ad.length;ll++){var ol=ad[ll],fm=ol.toLowerCase(),gm=ol[0].toUpperCase()+ol.slice(1);Sr(fm,"on"+gm)}Sr(ed,"onAnimationEnd"),Sr(td,"onAnimationIteration"),Sr(rd,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(sd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xm=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function id(e,r,i){var o=e.type||"unknown-event";e.currentTarget=i,fp(o,r,void 0,e),e.currentTarget=null}function ld(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var p=void 0;if(r)for(var g=o.length-1;0<=g;g--){var v=o[g],j=v.instance,T=v.currentTarget;if(v=v.listener,j!==p&&d.isPropagationStopped())break e;id(d,v,T),p=j}else for(g=0;g<o.length;g++){if(v=o[g],j=v.instance,T=v.currentTarget,v=v.listener,j!==p&&d.isPropagationStopped())break e;id(d,v,T),p=j}}}if(ia)throw e=Ui,ia=!1,Ui=null,e}function Oe(e,r){var i=r[gl];i===void 0&&(i=r[gl]=new Set);var o=e+"__bubble";i.has(o)||(od(r,e,2,!1),i.add(o))}function cl(e,r,i){var o=0;r&&(o|=4),od(i,e,o,r)}var Na="_reactListening"+Math.random().toString(36).slice(2);function kn(e){if(!e[Na]){e[Na]=!0,l.forEach(function(i){i!=="selectionchange"&&(xm.has(i)||cl(i,!1,e),cl(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Na]||(r[Na]=!0,cl("selectionchange",!1,r))}}function od(e,r,i,o){switch(Tc(r)){case 1:var d=Tp;break;case 4:d=Op;break;default:d=Hi}i=d.bind(null,r,i,e),d=void 0,!Mi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(r,i,{capture:!0,passive:d}):e.addEventListener(r,i,!0):d!==void 0?e.addEventListener(r,i,{passive:d}):e.addEventListener(r,i,!1)}function dl(e,r,i,o,d){var p=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===d||v.nodeType===8&&v.parentNode===d)break;if(g===4)for(g=o.return;g!==null;){var j=g.tag;if((j===3||j===4)&&(j=g.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;g=g.return}for(;v!==null;){if(g=Kr(v),g===null)return;if(j=g.tag,j===5||j===6){o=p=g;continue e}v=v.parentNode}}o=o.return}pc(function(){var T=p,B=Ii(i),W=[];e:{var F=nd.get(e);if(F!==void 0){var Y=Ji,te=e;switch(e){case"keypress":if(xa(i)===0)break e;case"keydown":case"keyup":Y=Kp;break;case"focusin":te="focus",Y=Xi;break;case"focusout":te="blur",Y=Xi;break;case"beforeblur":case"afterblur":Y=Xi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Qp;break;case ed:case td:case rd:Y=Mp;break;case sd:Y=Xp;break;case"scroll":Y=Rp;break;case"wheel":Y=em;break;case"copy":case"cut":case"paste":Y=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Dc}var re=(r&4)!==0,We=!re&&e==="scroll",C=re?F!==null?F+"Capture":null:F;re=[];for(var _=T,P;_!==null;){P=_;var K=P.stateNode;if(P.tag===5&&K!==null&&(P=K,C!==null&&(K=ln(_,C),K!=null&&re.push(Sn(_,K,P)))),We)break;_=_.return}0<re.length&&(F=new Y(F,te,null,i,B),W.push({event:F,listeners:re}))}}if((r&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&i!==Li&&(te=i.relatedTarget||i.fromElement)&&(Kr(te)||te[cr]))break e;if((Y||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(te=i.relatedTarget||i.toElement,Y=T,te=te?Kr(te):null,te!==null&&(We=Hr(te),te!==We||te.tag!==5&&te.tag!==6)&&(te=null)):(Y=null,te=T),Y!==te)){if(re=Lc,K="onMouseLeave",C="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(re=Dc,K="onPointerLeave",C="onPointerEnter",_="pointer"),We=Y==null?F:_s(Y),P=te==null?F:_s(te),F=new re(K,_+"leave",Y,i,B),F.target=We,F.relatedTarget=P,K=null,Kr(B)===T&&(re=new re(C,_+"enter",te,i,B),re.target=P,re.relatedTarget=We,K=re),We=K,Y&&te)t:{for(re=Y,C=te,_=0,P=re;P;P=js(P))_++;for(P=0,K=C;K;K=js(K))P++;for(;0<_-P;)re=js(re),_--;for(;0<P-_;)C=js(C),P--;for(;_--;){if(re===C||C!==null&&re===C.alternate)break t;re=js(re),C=js(C)}re=null}else re=null;Y!==null&&cd(W,F,Y,re,!1),te!==null&&We!==null&&cd(W,We,te,re,!0)}}e:{if(F=T?_s(T):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ne=lm;else if(Bc(F))if(Wc)ne=um;else{ne=cm;var ue=om}else(Y=F.nodeName)&&Y.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ne=dm);if(ne&&(ne=ne(e,T))){Vc(W,ne,i,B);break e}ue&&ue(e,F,T),e==="focusout"&&(ue=F._wrapperState)&&ue.controlled&&F.type==="number"&&nt(F,"number",F.value)}switch(ue=T?_s(T):window,e){case"focusin":(Bc(ue)||ue.contentEditable==="true")&&(bs=ue,nl=T,Nn=null);break;case"focusout":Nn=nl=bs=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,Xc(W,i,B);break;case"selectionchange":if(mm)break;case"keydown":case"keyup":Xc(W,i,B)}var he;if(el)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else vs?Fc(e,i)&&(xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&($c&&i.locale!=="ko"&&(vs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&vs&&(he=Oc()):(kr=B,Gi="value"in kr?kr.value:kr.textContent,vs=!0)),ue=_a(T,xe),0<ue.length&&(xe=new Ic(xe,e,null,i,B),W.push({event:xe,listeners:ue}),he?xe.data=he:(he=zc(i),he!==null&&(xe.data=he)))),(he=rm?sm(e,i):nm(e,i))&&(T=_a(T,"onBeforeInput"),0<T.length&&(B=new Ic("onBeforeInput","beforeinput",null,i,B),W.push({event:B,listeners:T}),B.data=he))}ld(W,r)})}function Sn(e,r,i){return{instance:e,listener:r,currentTarget:i}}function _a(e,r){for(var i=r+"Capture",o=[];e!==null;){var d=e,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=ln(e,i),p!=null&&o.unshift(Sn(e,p,d)),p=ln(e,r),p!=null&&o.push(Sn(e,p,d))),e=e.return}return o}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cd(e,r,i,o,d){for(var p=r._reactName,g=[];i!==null&&i!==o;){var v=i,j=v.alternate,T=v.stateNode;if(j!==null&&j===o)break;v.tag===5&&T!==null&&(v=T,d?(j=ln(i,p),j!=null&&g.unshift(Sn(i,j,v))):d||(j=ln(i,p),j!=null&&g.push(Sn(i,j,v)))),i=i.return}g.length!==0&&e.push({event:r,listeners:g})}var ym=/\r\n?/g,vm=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(vm,"")}function ka(e,r,i){if(r=dd(r),dd(e)!==r&&i)throw Error(n(425))}function Sa(){}var ul=null,hl=null;function pl(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,bm=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,wm=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(jm)}:ml;function jm(e){setTimeout(function(){throw e})}function fl(e,r){var i=r,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(o===0){e.removeChild(d),gn(r);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=d}while(i);gn(r)}function Er(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function hd(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),sr="__reactFiber$"+Ns,En="__reactProps$"+Ns,cr="__reactContainer$"+Ns,gl="__reactEvents$"+Ns,Nm="__reactListeners$"+Ns,_m="__reactHandles$"+Ns;function Kr(e){var r=e[sr];if(r)return r;for(var i=e.parentNode;i;){if(r=i[cr]||i[sr]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=hd(e);e!==null;){if(i=e[sr])return i;e=hd(e)}return r}e=i,i=e.parentNode}return null}function Cn(e){return e=e[sr]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ea(e){return e[En]||null}var xl=[],ks=-1;function Cr(e){return{current:e}}function Re(e){0>ks||(e.current=xl[ks],xl[ks]=null,ks--)}function Pe(e,r){ks++,xl[ks]=e.current,e.current=r}var Ar={},ht=Cr(Ar),bt=Cr(!1),Gr=Ar;function Ss(e,r){var i=e.type.contextTypes;if(!i)return Ar;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===r)return o.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in i)d[p]=r[p];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=d),d}function wt(e){return e=e.childContextTypes,e!=null}function Ca(){Re(bt),Re(ht)}function pd(e,r,i){if(ht.current!==Ar)throw Error(n(168));Pe(ht,r),Pe(bt,i)}function md(e,r,i){var o=e.stateNode;if(r=r.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var d in o)if(!(d in r))throw Error(n(108,X(e)||"Unknown",d));return I({},i,o)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,Gr=ht.current,Pe(ht,e),Pe(bt,bt.current),!0}function fd(e,r,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=md(e,r,Gr),o.__reactInternalMemoizedMergedChildContext=e,Re(bt),Re(ht),Pe(ht,e)):Re(bt),Pe(bt,i)}var dr=null,Pa=!1,yl=!1;function gd(e){dr===null?dr=[e]:dr.push(e)}function km(e){Pa=!0,gd(e)}function Pr(){if(!yl&&dr!==null){yl=!0;var e=0,r=Ce;try{var i=dr;for(Ce=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}dr=null,Pa=!1}catch(d){throw dr!==null&&(dr=dr.slice(e+1)),yc(Fi,Pr),d}finally{Ce=r,yl=!1}}return null}var Es=[],Cs=0,Ta=null,Oa=0,Dt=[],$t=0,Jr=null,ur=1,hr="";function Qr(e,r){Es[Cs++]=Oa,Es[Cs++]=Ta,Ta=e,Oa=r}function xd(e,r,i){Dt[$t++]=ur,Dt[$t++]=hr,Dt[$t++]=Jr,Jr=e;var o=ur;e=hr;var d=32-Vt(o)-1;o&=~(1<<d),i+=1;var p=32-Vt(r)+d;if(30<p){var g=d-d%5;p=(o&(1<<g)-1).toString(32),o>>=g,d-=g,ur=1<<32-Vt(r)+d|i<<d|o,hr=p+e}else ur=1<<p|i<<d|o,hr=e}function vl(e){e.return!==null&&(Qr(e,1),xd(e,1,0))}function bl(e){for(;e===Ta;)Ta=Es[--Cs],Es[Cs]=null,Oa=Es[--Cs],Es[Cs]=null;for(;e===Jr;)Jr=Dt[--$t],Dt[$t]=null,hr=Dt[--$t],Dt[$t]=null,ur=Dt[--$t],Dt[$t]=null}var Ct=null,At=null,Le=!1,qt=null;function yd(e,r){var i=zt(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function vd(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Ct=e,At=Er(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Ct=e,At=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=Jr!==null?{id:ur,overflow:hr}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=zt(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,Ct=e,At=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(Le){var r=At;if(r){var i=r;if(!vd(e,r)){if(wl(e))throw Error(n(418));r=Er(i.nextSibling);var o=Ct;r&&vd(e,r)?yd(o,i):(e.flags=e.flags&-4097|2,Le=!1,Ct=e)}}else{if(wl(e))throw Error(n(418));e.flags=e.flags&-4097|2,Le=!1,Ct=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Ra(e){if(e!==Ct)return!1;if(!Le)return bd(e),Le=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!pl(e.type,e.memoizedProps)),r&&(r=At)){if(wl(e))throw wd(),Error(n(418));for(;r;)yd(e,r),r=Er(r.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){At=Er(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}At=null}}else At=Ct?Er(e.stateNode.nextSibling):null;return!0}function wd(){for(var e=At;e;)e=Er(e.nextSibling)}function As(){At=Ct=null,Le=!1}function Nl(e){qt===null?qt=[e]:qt.push(e)}var Sm=G.ReactCurrentBatchConfig;function An(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var d=o,p=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(g){var v=d.refs;g===null?delete v[p]:v[p]=g},r._stringRef=p,r)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function La(e,r){throw e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function jd(e){var r=e._init;return r(e._payload)}function Nd(e){function r(C,_){if(e){var P=C.deletions;P===null?(C.deletions=[_],C.flags|=16):P.push(_)}}function i(C,_){if(!e)return null;for(;_!==null;)r(C,_),_=_.sibling;return null}function o(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function d(C,_){return C=Mr(C,_),C.index=0,C.sibling=null,C}function p(C,_,P){return C.index=P,e?(P=C.alternate,P!==null?(P=P.index,P<_?(C.flags|=2,_):P):(C.flags|=2,_)):(C.flags|=1048576,_)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function v(C,_,P,K){return _===null||_.tag!==6?(_=fo(P,C.mode,K),_.return=C,_):(_=d(_,P),_.return=C,_)}function j(C,_,P,K){var ne=P.type;return ne===H?B(C,_,P.props.children,K,P.key):_!==null&&(_.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===He&&jd(ne)===_.type)?(K=d(_,P.props),K.ref=An(C,_,P),K.return=C,K):(K=ni(P.type,P.key,P.props,null,C.mode,K),K.ref=An(C,_,P),K.return=C,K)}function T(C,_,P,K){return _===null||_.tag!==4||_.stateNode.containerInfo!==P.containerInfo||_.stateNode.implementation!==P.implementation?(_=go(P,C.mode,K),_.return=C,_):(_=d(_,P.children||[]),_.return=C,_)}function B(C,_,P,K,ne){return _===null||_.tag!==7?(_=ns(P,C.mode,K,ne),_.return=C,_):(_=d(_,P),_.return=C,_)}function W(C,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return _=fo(""+_,C.mode,P),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case S:return P=ni(_.type,_.key,_.props,null,C.mode,P),P.ref=An(C,null,_),P.return=C,P;case A:return _=go(_,C.mode,P),_.return=C,_;case He:var K=_._init;return W(C,K(_._payload),P)}if(ut(_)||se(_))return _=ns(_,C.mode,P,null),_.return=C,_;La(C,_)}return null}function F(C,_,P,K){var ne=_!==null?_.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return ne!==null?null:v(C,_,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return P.key===ne?j(C,_,P,K):null;case A:return P.key===ne?T(C,_,P,K):null;case He:return ne=P._init,F(C,_,ne(P._payload),K)}if(ut(P)||se(P))return ne!==null?null:B(C,_,P,K,null);La(C,P)}return null}function Y(C,_,P,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number")return C=C.get(P)||null,v(_,C,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return C=C.get(K.key===null?P:K.key)||null,j(_,C,K,ne);case A:return C=C.get(K.key===null?P:K.key)||null,T(_,C,K,ne);case He:var ue=K._init;return Y(C,_,P,ue(K._payload),ne)}if(ut(K)||se(K))return C=C.get(P)||null,B(_,C,K,ne,null);La(_,K)}return null}function te(C,_,P,K){for(var ne=null,ue=null,he=_,xe=_=0,rt=null;he!==null&&xe<P.length;xe++){he.index>xe?(rt=he,he=null):rt=he.sibling;var Se=F(C,he,P[xe],K);if(Se===null){he===null&&(he=rt);break}e&&he&&Se.alternate===null&&r(C,he),_=p(Se,_,xe),ue===null?ne=Se:ue.sibling=Se,ue=Se,he=rt}if(xe===P.length)return i(C,he),Le&&Qr(C,xe),ne;if(he===null){for(;xe<P.length;xe++)he=W(C,P[xe],K),he!==null&&(_=p(he,_,xe),ue===null?ne=he:ue.sibling=he,ue=he);return Le&&Qr(C,xe),ne}for(he=o(C,he);xe<P.length;xe++)rt=Y(he,C,xe,P[xe],K),rt!==null&&(e&&rt.alternate!==null&&he.delete(rt.key===null?xe:rt.key),_=p(rt,_,xe),ue===null?ne=rt:ue.sibling=rt,ue=rt);return e&&he.forEach(function(Ur){return r(C,Ur)}),Le&&Qr(C,xe),ne}function re(C,_,P,K){var ne=se(P);if(typeof ne!="function")throw Error(n(150));if(P=ne.call(P),P==null)throw Error(n(151));for(var ue=ne=null,he=_,xe=_=0,rt=null,Se=P.next();he!==null&&!Se.done;xe++,Se=P.next()){he.index>xe?(rt=he,he=null):rt=he.sibling;var Ur=F(C,he,Se.value,K);if(Ur===null){he===null&&(he=rt);break}e&&he&&Ur.alternate===null&&r(C,he),_=p(Ur,_,xe),ue===null?ne=Ur:ue.sibling=Ur,ue=Ur,he=rt}if(Se.done)return i(C,he),Le&&Qr(C,xe),ne;if(he===null){for(;!Se.done;xe++,Se=P.next())Se=W(C,Se.value,K),Se!==null&&(_=p(Se,_,xe),ue===null?ne=Se:ue.sibling=Se,ue=Se);return Le&&Qr(C,xe),ne}for(he=o(C,he);!Se.done;xe++,Se=P.next())Se=Y(he,C,xe,Se.value,K),Se!==null&&(e&&Se.alternate!==null&&he.delete(Se.key===null?xe:Se.key),_=p(Se,_,xe),ue===null?ne=Se:ue.sibling=Se,ue=Se);return e&&he.forEach(function(af){return r(C,af)}),Le&&Qr(C,xe),ne}function We(C,_,P,K){if(typeof P=="object"&&P!==null&&P.type===H&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case S:e:{for(var ne=P.key,ue=_;ue!==null;){if(ue.key===ne){if(ne=P.type,ne===H){if(ue.tag===7){i(C,ue.sibling),_=d(ue,P.props.children),_.return=C,C=_;break e}}else if(ue.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===He&&jd(ne)===ue.type){i(C,ue.sibling),_=d(ue,P.props),_.ref=An(C,ue,P),_.return=C,C=_;break e}i(C,ue);break}else r(C,ue);ue=ue.sibling}P.type===H?(_=ns(P.props.children,C.mode,K,P.key),_.return=C,C=_):(K=ni(P.type,P.key,P.props,null,C.mode,K),K.ref=An(C,_,P),K.return=C,C=K)}return g(C);case A:e:{for(ue=P.key;_!==null;){if(_.key===ue)if(_.tag===4&&_.stateNode.containerInfo===P.containerInfo&&_.stateNode.implementation===P.implementation){i(C,_.sibling),_=d(_,P.children||[]),_.return=C,C=_;break e}else{i(C,_);break}else r(C,_);_=_.sibling}_=go(P,C.mode,K),_.return=C,C=_}return g(C);case He:return ue=P._init,We(C,_,ue(P._payload),K)}if(ut(P))return te(C,_,P,K);if(se(P))return re(C,_,P,K);La(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,_!==null&&_.tag===6?(i(C,_.sibling),_=d(_,P),_.return=C,C=_):(i(C,_),_=fo(P,C.mode,K),_.return=C,C=_),g(C)):i(C,_)}return We}var Ps=Nd(!0),_d=Nd(!1),Ia=Cr(null),Da=null,Ts=null,_l=null;function kl(){_l=Ts=Da=null}function Sl(e){var r=Ia.current;Re(Ia),e._currentValue=r}function El(e,r,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),e===i)break;e=e.return}}function Os(e,r){Da=e,_l=Ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(jt=!0),e.firstContext=null)}function Mt(e){var r=e._currentValue;if(_l!==e)if(e={context:e,memoizedValue:r,next:null},Ts===null){if(Da===null)throw Error(n(308));Ts=e,Da.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return r}var Yr=null;function Cl(e){Yr===null?Yr=[e]:Yr.push(e)}function kd(e,r,i,o){var d=r.interleaved;return d===null?(i.next=i,Cl(r)):(i.next=d.next,d.next=i),r.interleaved=i,pr(e,o)}function pr(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Tr=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Or(e,r,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ke&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,pr(e,i)}return d=o.interleaved,d===null?(r.next=r,Cl(o)):(r.next=d.next,d.next=r),o.interleaved=r,pr(e,i)}function $a(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var o=r.lanes;o&=e.pendingLanes,i|=o,r.lanes=i,Vi(e,i)}}function Ed(e,r){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};p===null?d=p=g:p=p.next=g,i=i.next}while(i!==null);p===null?d=p=r:p=p.next=r}else d=p=r;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function Ma(e,r,i,o){var d=e.updateQueue;Tr=!1;var p=d.firstBaseUpdate,g=d.lastBaseUpdate,v=d.shared.pending;if(v!==null){d.shared.pending=null;var j=v,T=j.next;j.next=null,g===null?p=T:g.next=T,g=j;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==g&&(v===null?B.firstBaseUpdate=T:v.next=T,B.lastBaseUpdate=j))}if(p!==null){var W=d.baseState;g=0,B=T=j=null,v=p;do{var F=v.lane,Y=v.eventTime;if((o&F)===F){B!==null&&(B=B.next={eventTime:Y,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var te=e,re=v;switch(F=r,Y=i,re.tag){case 1:if(te=re.payload,typeof te=="function"){W=te.call(Y,W,F);break e}W=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,F=typeof te=="function"?te.call(Y,W,F):te,F==null)break e;W=I({},W,F);break e;case 2:Tr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,F=d.effects,F===null?d.effects=[v]:F.push(v))}else Y={eventTime:Y,lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(T=B=Y,j=W):B=B.next=Y,g|=F;if(v=v.next,v===null){if(v=d.shared.pending,v===null)break;F=v,v=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);if(B===null&&(j=W),d.baseState=j,d.firstBaseUpdate=T,d.lastBaseUpdate=B,r=d.shared.interleaved,r!==null){d=r;do g|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);es|=g,e.lanes=g,e.memoizedState=W}}function Cd(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var o=e[r],d=o.callback;if(d!==null){if(o.callback=null,o=i,typeof d!="function")throw Error(n(191,d));d.call(o)}}}var Pn={},nr=Cr(Pn),Tn=Cr(Pn),On=Cr(Pn);function Xr(e){if(e===Pn)throw Error(n(174));return e}function Pl(e,r){switch(Pe(On,r),Pe(Tn,e),Pe(nr,Pn),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ti(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Ti(r,e)}Re(nr),Pe(nr,r)}function Rs(){Re(nr),Re(Tn),Re(On)}function Ad(e){Xr(On.current);var r=Xr(nr.current),i=Ti(r,e.type);r!==i&&(Pe(Tn,e),Pe(nr,i))}function Tl(e){Tn.current===e&&(Re(nr),Re(Tn))}var Ie=Cr(0);function Ua(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ol=[];function Rl(){for(var e=0;e<Ol.length;e++)Ol[e]._workInProgressVersionPrimary=null;Ol.length=0}var Fa=G.ReactCurrentDispatcher,Ll=G.ReactCurrentBatchConfig,Zr=0,De=null,Je=null,et=null,za=!1,Rn=!1,Ln=0,Em=0;function pt(){throw Error(n(321))}function Il(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!Wt(e[i],r[i]))return!1;return!0}function Dl(e,r,i,o,d,p){if(Zr=p,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Fa.current=e===null||e.memoizedState===null?Tm:Om,e=i(o,d),Rn){p=0;do{if(Rn=!1,Ln=0,25<=p)throw Error(n(301));p+=1,et=Je=null,r.updateQueue=null,Fa.current=Rm,e=i(o,d)}while(Rn)}if(Fa.current=Wa,r=Je!==null&&Je.next!==null,Zr=0,et=Je=De=null,za=!1,r)throw Error(n(300));return e}function $l(){var e=Ln!==0;return Ln=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=e:et=et.next=e,et}function Ut(){if(Je===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var r=et===null?De.memoizedState:et.next;if(r!==null)et=r,Je=e;else{if(e===null)throw Error(n(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?De.memoizedState=et=e:et=et.next=e}return et}function In(e,r){return typeof r=="function"?r(e):r}function Ml(e){var r=Ut(),i=r.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=Je,d=o.baseQueue,p=i.pending;if(p!==null){if(d!==null){var g=d.next;d.next=p.next,p.next=g}o.baseQueue=d=p,i.pending=null}if(d!==null){p=d.next,o=o.baseState;var v=g=null,j=null,T=p;do{var B=T.lane;if((Zr&B)===B)j!==null&&(j=j.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),o=T.hasEagerState?T.eagerState:e(o,T.action);else{var W={lane:B,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};j===null?(v=j=W,g=o):j=j.next=W,De.lanes|=B,es|=B}T=T.next}while(T!==null&&T!==p);j===null?g=o:j.next=v,Wt(o,r.memoizedState)||(jt=!0),r.memoizedState=o,r.baseState=g,r.baseQueue=j,i.lastRenderedState=o}if(e=i.interleaved,e!==null){d=e;do p=d.lane,De.lanes|=p,es|=p,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function Ul(e){var r=Ut(),i=r.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,p=r.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do p=e(p,g.action),g=g.next;while(g!==d);Wt(p,r.memoizedState)||(jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),i.lastRenderedState=p}return[p,o]}function Pd(){}function Td(e,r){var i=De,o=Ut(),d=r(),p=!Wt(o.memoizedState,d);if(p&&(o.memoizedState=d,jt=!0),o=o.queue,Fl(Ld.bind(null,i,o,e),[e]),o.getSnapshot!==r||p||et!==null&&et.memoizedState.tag&1){if(i.flags|=2048,Dn(9,Rd.bind(null,i,o,d,r),void 0,null),tt===null)throw Error(n(349));(Zr&30)!==0||Od(i,r,d)}return d}function Od(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function Rd(e,r,i,o){r.value=i,r.getSnapshot=o,Id(r)&&Dd(e)}function Ld(e,r,i){return i(function(){Id(r)&&Dd(e)})}function Id(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!Wt(e,i)}catch{return!0}}function Dd(e){var r=pr(e,1);r!==null&&Jt(r,e,1,-1)}function $d(e){var r=ar();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},r.queue=e,e=e.dispatch=Pm.bind(null,De,e),[r.memoizedState,e]}function Dn(e,r,i,o){return e={tag:e,create:r,destroy:i,deps:o,next:null},r=De.updateQueue,r===null?(r={lastEffect:null,stores:null},De.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,r.lastEffect=e)),e}function Md(){return Ut().memoizedState}function Ba(e,r,i,o){var d=ar();De.flags|=e,d.memoizedState=Dn(1|r,i,void 0,o===void 0?null:o)}function Va(e,r,i,o){var d=Ut();o=o===void 0?null:o;var p=void 0;if(Je!==null){var g=Je.memoizedState;if(p=g.destroy,o!==null&&Il(o,g.deps)){d.memoizedState=Dn(r,i,p,o);return}}De.flags|=e,d.memoizedState=Dn(1|r,i,p,o)}function Ud(e,r){return Ba(8390656,8,e,r)}function Fl(e,r){return Va(2048,8,e,r)}function Fd(e,r){return Va(4,2,e,r)}function zd(e,r){return Va(4,4,e,r)}function Bd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Vd(e,r,i){return i=i!=null?i.concat([e]):null,Va(4,4,Bd.bind(null,r,e),i)}function zl(){}function Wd(e,r){var i=Ut();r=r===void 0?null:r;var o=i.memoizedState;return o!==null&&r!==null&&Il(r,o[1])?o[0]:(i.memoizedState=[e,r],e)}function qd(e,r){var i=Ut();r=r===void 0?null:r;var o=i.memoizedState;return o!==null&&r!==null&&Il(r,o[1])?o[0]:(e=e(),i.memoizedState=[e,r],e)}function Hd(e,r,i){return(Zr&21)===0?(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=i):(Wt(i,r)||(i=jc(),De.lanes|=i,es|=i,e.baseState=!0),r)}function Cm(e,r){var i=Ce;Ce=i!==0&&4>i?i:4,e(!0);var o=Ll.transition;Ll.transition={};try{e(!1),r()}finally{Ce=i,Ll.transition=o}}function Kd(){return Ut().memoizedState}function Am(e,r,i){var o=Dr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Gd(e))Jd(r,i);else if(i=kd(e,r,i,o),i!==null){var d=vt();Jt(i,e,o,d),Qd(i,r,o)}}function Pm(e,r,i){var o=Dr(e),d={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gd(e))Jd(r,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var g=r.lastRenderedState,v=p(g,i);if(d.hasEagerState=!0,d.eagerState=v,Wt(v,g)){var j=r.interleaved;j===null?(d.next=d,Cl(r)):(d.next=j.next,j.next=d),r.interleaved=d;return}}catch{}finally{}i=kd(e,r,d,o),i!==null&&(d=vt(),Jt(i,e,o,d),Qd(i,r,o))}}function Gd(e){var r=e.alternate;return e===De||r!==null&&r===De}function Jd(e,r){Rn=za=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function Qd(e,r,i){if((i&4194240)!==0){var o=r.lanes;o&=e.pendingLanes,i|=o,r.lanes=i,Vi(e,i)}}var Wa={readContext:Mt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Tm={readContext:Mt,useCallback:function(e,r){return ar().memoizedState=[e,r===void 0?null:r],e},useContext:Mt,useEffect:Ud,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,Ba(4194308,4,Bd.bind(null,r,e),i)},useLayoutEffect:function(e,r){return Ba(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ba(4,2,e,r)},useMemo:function(e,r){var i=ar();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var o=ar();return r=i!==void 0?i(r):r,o.memoizedState=o.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o.queue=e,e=e.dispatch=Am.bind(null,De,e),[o.memoizedState,e]},useRef:function(e){var r=ar();return e={current:e},r.memoizedState=e},useState:$d,useDebugValue:zl,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=$d(!1),r=e[0];return e=Cm.bind(null,e[1]),ar().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var o=De,d=ar();if(Le){if(i===void 0)throw Error(n(407));i=i()}else{if(i=r(),tt===null)throw Error(n(349));(Zr&30)!==0||Od(o,r,i)}d.memoizedState=i;var p={value:i,getSnapshot:r};return d.queue=p,Ud(Ld.bind(null,o,p,e),[e]),o.flags|=2048,Dn(9,Rd.bind(null,o,p,i,r),void 0,null),i},useId:function(){var e=ar(),r=tt.identifierPrefix;if(Le){var i=hr,o=ur;i=(o&~(1<<32-Vt(o)-1)).toString(32)+i,r=":"+r+"R"+i,i=Ln++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=Em++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Om={readContext:Mt,useCallback:Wd,useContext:Mt,useEffect:Fl,useImperativeHandle:Vd,useInsertionEffect:Fd,useLayoutEffect:zd,useMemo:qd,useReducer:Ml,useRef:Md,useState:function(){return Ml(In)},useDebugValue:zl,useDeferredValue:function(e){var r=Ut();return Hd(r,Je.memoizedState,e)},useTransition:function(){var e=Ml(In)[0],r=Ut().memoizedState;return[e,r]},useMutableSource:Pd,useSyncExternalStore:Td,useId:Kd,unstable_isNewReconciler:!1},Rm={readContext:Mt,useCallback:Wd,useContext:Mt,useEffect:Fl,useImperativeHandle:Vd,useInsertionEffect:Fd,useLayoutEffect:zd,useMemo:qd,useReducer:Ul,useRef:Md,useState:function(){return Ul(In)},useDebugValue:zl,useDeferredValue:function(e){var r=Ut();return Je===null?r.memoizedState=e:Hd(r,Je.memoizedState,e)},useTransition:function(){var e=Ul(In)[0],r=Ut().memoizedState;return[e,r]},useMutableSource:Pd,useSyncExternalStore:Td,useId:Kd,unstable_isNewReconciler:!1};function Ht(e,r){if(e&&e.defaultProps){r=I({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function Bl(e,r,i,o){r=e.memoizedState,i=i(o,r),i=i==null?r:I({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var qa={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var o=vt(),d=Dr(e),p=mr(o,d);p.payload=r,i!=null&&(p.callback=i),r=Or(e,p,d),r!==null&&(Jt(r,e,d,o),$a(r,e,d))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var o=vt(),d=Dr(e),p=mr(o,d);p.tag=1,p.payload=r,i!=null&&(p.callback=i),r=Or(e,p,d),r!==null&&(Jt(r,e,d,o),$a(r,e,d))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=vt(),o=Dr(e),d=mr(i,o);d.tag=2,r!=null&&(d.callback=r),r=Or(e,d,o),r!==null&&(Jt(r,e,o,i),$a(r,e,o))}};function Yd(e,r,i,o,d,p,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,g):r.prototype&&r.prototype.isPureReactComponent?!jn(i,o)||!jn(d,p):!0}function Xd(e,r,i){var o=!1,d=Ar,p=r.contextType;return typeof p=="object"&&p!==null?p=Mt(p):(d=wt(r)?Gr:ht.current,o=r.contextTypes,p=(o=o!=null)?Ss(e,d):Ar),r=new r(i,p),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=qa,e.stateNode=r,r._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=p),r}function Zd(e,r,i,o){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,o),r.state!==e&&qa.enqueueReplaceState(r,r.state,null)}function Vl(e,r,i,o){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},Al(e);var p=r.contextType;typeof p=="object"&&p!==null?d.context=Mt(p):(p=wt(r)?Gr:ht.current,d.context=Ss(e,p)),d.state=e.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Bl(e,r,p,i),d.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&qa.enqueueReplaceState(d,d.state,null),Ma(e,i,d,o),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,r){try{var i="",o=r;do i+=M(o),o=o.return;while(o);var d=i}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:r,stack:d,digest:null}}function Wl(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function ql(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var Lm=typeof WeakMap=="function"?WeakMap:Map;function eu(e,r,i){i=mr(-1,i),i.tag=3,i.payload={element:null};var o=r.value;return i.callback=function(){Xa||(Xa=!0,io=o),ql(e,r)},i}function tu(e,r,i){i=mr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var d=r.value;i.payload=function(){return o(d)},i.callback=function(){ql(e,r)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(i.callback=function(){ql(e,r),typeof o!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var g=r.stack;this.componentDidCatch(r.value,{componentStack:g!==null?g:""})}),i}function ru(e,r,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Lm;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(i)||(d.add(i),e=Gm.bind(null,e,r,i),r.then(e,e))}function su(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function nu(e,r,i,o,d){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=mr(-1,1),r.tag=2,Or(i,r,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Im=G.ReactCurrentOwner,jt=!1;function yt(e,r,i,o){r.child=e===null?_d(r,null,i,o):Ps(r,e.child,i,o)}function au(e,r,i,o,d){i=i.render;var p=r.ref;return Os(r,d),o=Dl(e,r,i,o,p,d),i=$l(),e!==null&&!jt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~d,fr(e,r,d)):(Le&&i&&vl(r),r.flags|=1,yt(e,r,o,d),r.child)}function iu(e,r,i,o,d){if(e===null){var p=i.type;return typeof p=="function"&&!mo(p)&&p.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=p,lu(e,r,p,o,d)):(e=ni(i.type,null,o,r,r.mode,d),e.ref=r.ref,e.return=r,r.child=e)}if(p=e.child,(e.lanes&d)===0){var g=p.memoizedProps;if(i=i.compare,i=i!==null?i:jn,i(g,o)&&e.ref===r.ref)return fr(e,r,d)}return r.flags|=1,e=Mr(p,o),e.ref=r.ref,e.return=r,r.child=e}function lu(e,r,i,o,d){if(e!==null){var p=e.memoizedProps;if(jn(p,o)&&e.ref===r.ref)if(jt=!1,r.pendingProps=o=p,(e.lanes&d)!==0)(e.flags&131072)!==0&&(jt=!0);else return r.lanes=e.lanes,fr(e,r,d)}return Hl(e,r,i,o,d)}function ou(e,r,i){var o=r.pendingProps,d=o.children,p=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ds,Pt),Pt|=i;else{if((i&1073741824)===0)return e=p!==null?p.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Pe(Ds,Pt),Pt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=p!==null?p.baseLanes:i,Pe(Ds,Pt),Pt|=o}else p!==null?(o=p.baseLanes|i,r.memoizedState=null):o=i,Pe(Ds,Pt),Pt|=o;return yt(e,r,d,i),r.child}function cu(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function Hl(e,r,i,o,d){var p=wt(i)?Gr:ht.current;return p=Ss(r,p),Os(r,d),i=Dl(e,r,i,o,p,d),o=$l(),e!==null&&!jt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~d,fr(e,r,d)):(Le&&o&&vl(r),r.flags|=1,yt(e,r,i,d),r.child)}function du(e,r,i,o,d){if(wt(i)){var p=!0;Aa(r)}else p=!1;if(Os(r,d),r.stateNode===null)Ka(e,r),Xd(r,i,o),Vl(r,i,o,d),o=!0;else if(e===null){var g=r.stateNode,v=r.memoizedProps;g.props=v;var j=g.context,T=i.contextType;typeof T=="object"&&T!==null?T=Mt(T):(T=wt(i)?Gr:ht.current,T=Ss(r,T));var B=i.getDerivedStateFromProps,W=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function";W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==o||j!==T)&&Zd(r,g,o,T),Tr=!1;var F=r.memoizedState;g.state=F,Ma(r,o,g,d),j=r.memoizedState,v!==o||F!==j||bt.current||Tr?(typeof B=="function"&&(Bl(r,i,B,o),j=r.memoizedState),(v=Tr||Yd(r,i,v,o,F,j,T))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=j),g.props=o,g.state=j,g.context=T,o=v):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{g=r.stateNode,Sd(e,r),v=r.memoizedProps,T=r.type===r.elementType?v:Ht(r.type,v),g.props=T,W=r.pendingProps,F=g.context,j=i.contextType,typeof j=="object"&&j!==null?j=Mt(j):(j=wt(i)?Gr:ht.current,j=Ss(r,j));var Y=i.getDerivedStateFromProps;(B=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==W||F!==j)&&Zd(r,g,o,j),Tr=!1,F=r.memoizedState,g.state=F,Ma(r,o,g,d);var te=r.memoizedState;v!==W||F!==te||bt.current||Tr?(typeof Y=="function"&&(Bl(r,i,Y,o),te=r.memoizedState),(T=Tr||Yd(r,i,T,o,F,te,j)||!1)?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,te,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=te),g.props=o,g.state=te,g.context=j,o=T):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),o=!1)}return Kl(e,r,i,o,p,d)}function Kl(e,r,i,o,d,p){cu(e,r);var g=(r.flags&128)!==0;if(!o&&!g)return d&&fd(r,i,!1),fr(e,r,p);o=r.stateNode,Im.current=r;var v=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return r.flags|=1,e!==null&&g?(r.child=Ps(r,e.child,null,p),r.child=Ps(r,null,v,p)):yt(e,r,v,p),r.memoizedState=o.state,d&&fd(r,i,!0),r.child}function uu(e){var r=e.stateNode;r.pendingContext?pd(e,r.pendingContext,r.pendingContext!==r.context):r.context&&pd(e,r.context,!1),Pl(e,r.containerInfo)}function hu(e,r,i,o,d){return As(),Nl(d),r.flags|=256,yt(e,r,i,o),r.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pu(e,r,i){var o=r.pendingProps,d=Ie.current,p=!1,g=(r.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(d&2)!==0),v?(p=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Pe(Ie,d&1),e===null)return jl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(g=o.children,e=o.fallback,p?(o=r.mode,p=r.child,g={mode:"hidden",children:g},(o&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=g):p=ai(g,o,0,null),e=ns(e,o,i,null),p.return=r,e.return=r,p.sibling=e,r.child=p,r.child.memoizedState=Jl(i),r.memoizedState=Gl,e):Ql(r,g));if(d=e.memoizedState,d!==null&&(v=d.dehydrated,v!==null))return Dm(e,r,g,o,v,d,i);if(p){p=o.fallback,g=r.mode,d=e.child,v=d.sibling;var j={mode:"hidden",children:o.children};return(g&1)===0&&r.child!==d?(o=r.child,o.childLanes=0,o.pendingProps=j,r.deletions=null):(o=Mr(d,j),o.subtreeFlags=d.subtreeFlags&14680064),v!==null?p=Mr(v,p):(p=ns(p,g,i,null),p.flags|=2),p.return=r,o.return=r,o.sibling=p,r.child=o,o=p,p=r.child,g=e.child.memoizedState,g=g===null?Jl(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},p.memoizedState=g,p.childLanes=e.childLanes&~i,r.memoizedState=Gl,o}return p=e.child,e=p.sibling,o=Mr(p,{mode:"visible",children:o.children}),(r.mode&1)===0&&(o.lanes=i),o.return=r,o.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=o,r.memoizedState=null,o}function Ql(e,r){return r=ai({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Ha(e,r,i,o){return o!==null&&Nl(o),Ps(r,e.child,null,i),e=Ql(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Dm(e,r,i,o,d,p,g){if(i)return r.flags&256?(r.flags&=-257,o=Wl(Error(n(422))),Ha(e,r,g,o)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(p=o.fallback,d=r.mode,o=ai({mode:"visible",children:o.children},d,0,null),p=ns(p,d,g,null),p.flags|=2,o.return=r,p.return=r,o.sibling=p,r.child=o,(r.mode&1)!==0&&Ps(r,e.child,null,g),r.child.memoizedState=Jl(g),r.memoizedState=Gl,p);if((r.mode&1)===0)return Ha(e,r,g,null);if(d.data==="$!"){if(o=d.nextSibling&&d.nextSibling.dataset,o)var v=o.dgst;return o=v,p=Error(n(419)),o=Wl(p,o,void 0),Ha(e,r,g,o)}if(v=(g&e.childLanes)!==0,jt||v){if(o=tt,o!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(o.suspendedLanes|g))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,pr(e,d),Jt(o,e,d,-1))}return po(),o=Wl(Error(n(421))),Ha(e,r,g,o)}return d.data==="$?"?(r.flags|=128,r.child=e.child,r=Jm.bind(null,e),d._reactRetry=r,null):(e=p.treeContext,At=Er(d.nextSibling),Ct=r,Le=!0,qt=null,e!==null&&(Dt[$t++]=ur,Dt[$t++]=hr,Dt[$t++]=Jr,ur=e.id,hr=e.overflow,Jr=r),r=Ql(r,o.children),r.flags|=4096,r)}function mu(e,r,i){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r),El(e.return,r,i)}function Yl(e,r,i,o,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=i,p.tailMode=d)}function fu(e,r,i){var o=r.pendingProps,d=o.revealOrder,p=o.tail;if(yt(e,r,o.children,i),o=Ie.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mu(e,i,r);else if(e.tag===19)mu(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Pe(Ie,o),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(i=r.child,d=null;i!==null;)e=i.alternate,e!==null&&Ua(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=r.child,r.child=null):(d=i.sibling,i.sibling=null),Yl(r,!1,d,i,p);break;case"backwards":for(i=null,d=r.child,r.child=null;d!==null;){if(e=d.alternate,e!==null&&Ua(e)===null){r.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Yl(r,!0,i,null,p);break;case"together":Yl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ka(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function fr(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),es|=r.lanes,(i&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,i=Mr(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Mr(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function $m(e,r,i){switch(r.tag){case 3:uu(r),As();break;case 5:Ad(r);break;case 1:wt(r.type)&&Aa(r);break;case 4:Pl(r,r.stateNode.containerInfo);break;case 10:var o=r.type._context,d=r.memoizedProps.value;Pe(Ia,o._currentValue),o._currentValue=d;break;case 13:if(o=r.memoizedState,o!==null)return o.dehydrated!==null?(Pe(Ie,Ie.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?pu(e,r,i):(Pe(Ie,Ie.current&1),e=fr(e,r,i),e!==null?e.sibling:null);Pe(Ie,Ie.current&1);break;case 19:if(o=(i&r.childLanes)!==0,(e.flags&128)!==0){if(o)return fu(e,r,i);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Pe(Ie,Ie.current),o)break;return null;case 22:case 23:return r.lanes=0,ou(e,r,i)}return fr(e,r,i)}var gu,Xl,xu,yu;gu=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Xl=function(){},xu=function(e,r,i,o){var d=e.memoizedProps;if(d!==o){e=r.stateNode,Xr(nr.current);var p=null;switch(i){case"input":d=oe(e,d),o=oe(e,o),p=[];break;case"select":d=I({},d,{value:void 0}),o=I({},o,{value:void 0}),p=[];break;case"textarea":d=lr(e,d),o=lr(e,o),p=[];break;default:typeof d.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Sa)}Oi(i,o);var g;i=null;for(T in d)if(!o.hasOwnProperty(T)&&d.hasOwnProperty(T)&&d[T]!=null)if(T==="style"){var v=d[T];for(g in v)v.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(c.hasOwnProperty(T)?p||(p=[]):(p=p||[]).push(T,null));for(T in o){var j=o[T];if(v=d?.[T],o.hasOwnProperty(T)&&j!==v&&(j!=null||v!=null))if(T==="style")if(v){for(g in v)!v.hasOwnProperty(g)||j&&j.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in j)j.hasOwnProperty(g)&&v[g]!==j[g]&&(i||(i={}),i[g]=j[g])}else i||(p||(p=[]),p.push(T,i)),i=j;else T==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,v=v?v.__html:void 0,j!=null&&v!==j&&(p=p||[]).push(T,j)):T==="children"?typeof j!="string"&&typeof j!="number"||(p=p||[]).push(T,""+j):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(c.hasOwnProperty(T)?(j!=null&&T==="onScroll"&&Oe("scroll",e),p||v===j||(p=[])):(p=p||[]).push(T,j))}i&&(p=p||[]).push("style",i);var T=p;(r.updateQueue=T)&&(r.flags|=4)}},yu=function(e,r,i,o){i!==o&&(r.flags|=4)};function $n(e,r){if(!Le)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function mt(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(r)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&14680064,o|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,r}function Mm(e,r,i){var o=r.pendingProps;switch(bl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return wt(r.type)&&Ca(),mt(r),null;case 3:return o=r.stateNode,Rs(),Re(bt),Re(ht),Rl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ra(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,qt!==null&&(co(qt),qt=null))),Xl(e,r),mt(r),null;case 5:Tl(r);var d=Xr(On.current);if(i=r.type,e!==null&&r.stateNode!=null)xu(e,r,i,o,d),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(r.stateNode===null)throw Error(n(166));return mt(r),null}if(e=Xr(nr.current),Ra(r)){o=r.stateNode,i=r.type;var p=r.memoizedProps;switch(o[sr]=r,o[En]=p,e=(r.mode&1)!==0,i){case"dialog":Oe("cancel",o),Oe("close",o);break;case"iframe":case"object":case"embed":Oe("load",o);break;case"video":case"audio":for(d=0;d<_n.length;d++)Oe(_n[d],o);break;case"source":Oe("error",o);break;case"img":case"image":case"link":Oe("error",o),Oe("load",o);break;case"details":Oe("toggle",o);break;case"input":de(o,p),Oe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!p.multiple},Oe("invalid",o);break;case"textarea":Wr(o,p),Oe("invalid",o)}Oi(i,p),d=null;for(var g in p)if(p.hasOwnProperty(g)){var v=p[g];g==="children"?typeof v=="string"?o.textContent!==v&&(p.suppressHydrationWarning!==!0&&ka(o.textContent,v,e),d=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(p.suppressHydrationWarning!==!0&&ka(o.textContent,v,e),d=["children",""+v]):c.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&Oe("scroll",o)}switch(i){case"input":Me(o),xt(o,p,!0);break;case"textarea":Me(o),or(o);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(o.onclick=Sa)}o=d,r.updateQueue=o,o!==null&&(r.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qr(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[sr]=r,e[En]=o,gu(e,r,!1,!1),r.stateNode=e;e:{switch(g=Ri(i,o),i){case"dialog":Oe("cancel",e),Oe("close",e),d=o;break;case"iframe":case"object":case"embed":Oe("load",e),d=o;break;case"video":case"audio":for(d=0;d<_n.length;d++)Oe(_n[d],e);d=o;break;case"source":Oe("error",e),d=o;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),d=o;break;case"details":Oe("toggle",e),d=o;break;case"input":de(e,o),d=oe(e,o),Oe("invalid",e);break;case"option":d=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},d=I({},o,{value:void 0}),Oe("invalid",e);break;case"textarea":Wr(e,o),d=lr(e,o),Oe("invalid",e);break;default:d=o}Oi(i,d),v=d;for(p in v)if(v.hasOwnProperty(p)){var j=v[p];p==="style"?lc(e,j):p==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ac(e,j)):p==="children"?typeof j=="string"?(i!=="textarea"||j!=="")&&nn(e,j):typeof j=="number"&&nn(e,""+j):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?j!=null&&p==="onScroll"&&Oe("scroll",e):j!=null&&V(e,p,j,g))}switch(i){case"input":Me(e),xt(e,o,!1);break;case"textarea":Me(e),or(e);break;case"option":o.value!=null&&e.setAttribute("value",""+be(o.value));break;case"select":e.multiple=!!o.multiple,p=o.value,p!=null?It(e,!!o.multiple,p,!1):o.defaultValue!=null&&It(e,!!o.multiple,o.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Sa)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return mt(r),null;case 6:if(e&&r.stateNode!=null)yu(e,r,e.memoizedProps,o);else{if(typeof o!="string"&&r.stateNode===null)throw Error(n(166));if(i=Xr(On.current),Xr(nr.current),Ra(r)){if(o=r.stateNode,i=r.memoizedProps,o[sr]=r,(p=o.nodeValue!==i)&&(e=Ct,e!==null))switch(e.tag){case 3:ka(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(o.nodeValue,i,(e.mode&1)!==0)}p&&(r.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[sr]=r,r.stateNode=o}return mt(r),null;case 13:if(Re(Ie),o=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&At!==null&&(r.mode&1)!==0&&(r.flags&128)===0)wd(),As(),r.flags|=98560,p=!1;else if(p=Ra(r),o!==null&&o.dehydrated!==null){if(e===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[sr]=r}else As(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),p=!1}else qt!==null&&(co(qt),qt=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Qe===0&&(Qe=3):po())),r.updateQueue!==null&&(r.flags|=4),mt(r),null);case 4:return Rs(),Xl(e,r),e===null&&kn(r.stateNode.containerInfo),mt(r),null;case 10:return Sl(r.type._context),mt(r),null;case 17:return wt(r.type)&&Ca(),mt(r),null;case 19:if(Re(Ie),p=r.memoizedState,p===null)return mt(r),null;if(o=(r.flags&128)!==0,g=p.rendering,g===null)if(o)$n(p,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(g=Ua(e),g!==null){for(r.flags|=128,$n(p,!1),o=g.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),r.subtreeFlags=0,o=i,i=r.child;i!==null;)p=i,e=o,p.flags&=14680066,g=p.alternate,g===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=g.childLanes,p.lanes=g.lanes,p.child=g.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=g.memoizedProps,p.memoizedState=g.memoizedState,p.updateQueue=g.updateQueue,p.type=g.type,e=g.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Pe(Ie,Ie.current&1|2),r.child}e=e.sibling}p.tail!==null&&Ve()>$s&&(r.flags|=128,o=!0,$n(p,!1),r.lanes=4194304)}else{if(!o)if(e=Ua(g),e!==null){if(r.flags|=128,o=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),$n(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Le)return mt(r),null}else 2*Ve()-p.renderingStartTime>$s&&i!==1073741824&&(r.flags|=128,o=!0,$n(p,!1),r.lanes=4194304);p.isBackwards?(g.sibling=r.child,r.child=g):(i=p.last,i!==null?i.sibling=g:r.child=g,p.last=g)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Ve(),r.sibling=null,i=Ie.current,Pe(Ie,o?i&1|2:i&1),r):(mt(r),null);case 22:case 23:return ho(),o=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(Pt&1073741824)!==0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Um(e,r){switch(bl(r),r.tag){case 1:return wt(r.type)&&Ca(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Rs(),Re(bt),Re(ht),Rl(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return Tl(r),null;case 13:if(Re(Ie),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));As()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Re(Ie),null;case 4:return Rs(),null;case 10:return Sl(r.type._context),null;case 22:case 23:return ho(),null;case 24:return null;default:return null}}var Ga=!1,ft=!1,Fm=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Is(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Fe(e,r,o)}else i.current=null}function Zl(e,r,i){try{i()}catch(o){Fe(e,r,o)}}var vu=!1;function zm(e,r){if(ul=ma,e=Yc(),sl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var g=0,v=-1,j=-1,T=0,B=0,W=e,F=null;t:for(;;){for(var Y;W!==i||d!==0&&W.nodeType!==3||(v=g+d),W!==p||o!==0&&W.nodeType!==3||(j=g+o),W.nodeType===3&&(g+=W.nodeValue.length),(Y=W.firstChild)!==null;)F=W,W=Y;for(;;){if(W===e)break t;if(F===i&&++T===d&&(v=g),F===p&&++B===o&&(j=g),(Y=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=Y}i=v===-1||j===-1?null:{start:v,end:j}}else i=null}i=i||{start:0,end:0}}else i=null;for(hl={focusedElem:e,selectionRange:i},ma=!1,ee=r;ee!==null;)if(r=ee,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ee=e;else for(;ee!==null;){r=ee;try{var te=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,We=te.memoizedState,C=r.stateNode,_=C.getSnapshotBeforeUpdate(r.elementType===r.type?re:Ht(r.type,re),We);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var P=r.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Fe(r,r.return,K)}if(e=r.sibling,e!==null){e.return=r.return,ee=e;break}ee=r.return}return te=vu,vu=!1,te}function Mn(e,r,i){var o=r.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&e)===e){var p=d.destroy;d.destroy=void 0,p!==void 0&&Zl(r,i,p)}d=d.next}while(d!==o)}}function Ja(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==r)}}function eo(e){var r=e.ref;if(r!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof r=="function"?r(e):r.current=e}}function bu(e){var r=e.alternate;r!==null&&(e.alternate=null,bu(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[sr],delete r[En],delete r[gl],delete r[Nm],delete r[_m])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wu(e){return e.tag===5||e.tag===3||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function to(e,r,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Sa));else if(o!==4&&(e=e.child,e!==null))for(to(e,r,i),e=e.sibling;e!==null;)to(e,r,i),e=e.sibling}function ro(e,r,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ro(e,r,i),e=e.sibling;e!==null;)ro(e,r,i),e=e.sibling}var at=null,Kt=!1;function Rr(e,r,i){for(i=i.child;i!==null;)Nu(e,r,i),i=i.sibling}function Nu(e,r,i){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(oa,i)}catch{}switch(i.tag){case 5:ft||Is(i,r);case 6:var o=at,d=Kt;at=null,Rr(e,r,i),at=o,Kt=d,at!==null&&(Kt?(e=at,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):at.removeChild(i.stateNode));break;case 18:at!==null&&(Kt?(e=at,i=i.stateNode,e.nodeType===8?fl(e.parentNode,i):e.nodeType===1&&fl(e,i),gn(e)):fl(at,i.stateNode));break;case 4:o=at,d=Kt,at=i.stateNode.containerInfo,Kt=!0,Rr(e,r,i),at=o,Kt=d;break;case 0:case 11:case 14:case 15:if(!ft&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){d=o=o.next;do{var p=d,g=p.destroy;p=p.tag,g!==void 0&&((p&2)!==0||(p&4)!==0)&&Zl(i,r,g),d=d.next}while(d!==o)}Rr(e,r,i);break;case 1:if(!ft&&(Is(i,r),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){Fe(i,r,v)}Rr(e,r,i);break;case 21:Rr(e,r,i);break;case 22:i.mode&1?(ft=(o=ft)||i.memoizedState!==null,Rr(e,r,i),ft=o):Rr(e,r,i);break;default:Rr(e,r,i)}}function _u(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Fm),r.forEach(function(o){var d=Qm.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}}function Gt(e,r){var i=r.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];try{var p=e,g=r,v=g;e:for(;v!==null;){switch(v.tag){case 5:at=v.stateNode,Kt=!1;break e;case 3:at=v.stateNode.containerInfo,Kt=!0;break e;case 4:at=v.stateNode.containerInfo,Kt=!0;break e}v=v.return}if(at===null)throw Error(n(160));Nu(p,g,d),at=null,Kt=!1;var j=d.alternate;j!==null&&(j.return=null),d.return=null}catch(T){Fe(d,r,T)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ku(r,e),r=r.sibling}function ku(e,r){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(r,e),ir(e),o&4){try{Mn(3,e,e.return),Ja(3,e)}catch(re){Fe(e,e.return,re)}try{Mn(5,e,e.return)}catch(re){Fe(e,e.return,re)}}break;case 1:Gt(r,e),ir(e),o&512&&i!==null&&Is(i,i.return);break;case 5:if(Gt(r,e),ir(e),o&512&&i!==null&&Is(i,i.return),e.flags&32){var d=e.stateNode;try{nn(d,"")}catch(re){Fe(e,e.return,re)}}if(o&4&&(d=e.stateNode,d!=null)){var p=e.memoizedProps,g=i!==null?i.memoizedProps:p,v=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{v==="input"&&p.type==="radio"&&p.name!=null&&je(d,p),Ri(v,g);var T=Ri(v,p);for(g=0;g<j.length;g+=2){var B=j[g],W=j[g+1];B==="style"?lc(d,W):B==="dangerouslySetInnerHTML"?ac(d,W):B==="children"?nn(d,W):V(d,B,W,T)}switch(v){case"input":Ue(d,p);break;case"textarea":ms(d,p);break;case"select":var F=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var Y=p.value;Y!=null?It(d,!!p.multiple,Y,!1):F!==!!p.multiple&&(p.defaultValue!=null?It(d,!!p.multiple,p.defaultValue,!0):It(d,!!p.multiple,p.multiple?[]:"",!1))}d[En]=p}catch(re){Fe(e,e.return,re)}}break;case 6:if(Gt(r,e),ir(e),o&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,p=e.memoizedProps;try{d.nodeValue=p}catch(re){Fe(e,e.return,re)}}break;case 3:if(Gt(r,e),ir(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{gn(r.containerInfo)}catch(re){Fe(e,e.return,re)}break;case 4:Gt(r,e),ir(e);break;case 13:Gt(r,e),ir(e),d=e.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(ao=Ve())),o&4&&_u(e);break;case 22:if(B=i!==null&&i.memoizedState!==null,e.mode&1?(ft=(T=ft)||B,Gt(r,e),ft=T):Gt(r,e),ir(e),o&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!B&&(e.mode&1)!==0)for(ee=e,B=e.child;B!==null;){for(W=ee=B;ee!==null;){switch(F=ee,Y=F.child,F.tag){case 0:case 11:case 14:case 15:Mn(4,F,F.return);break;case 1:Is(F,F.return);var te=F.stateNode;if(typeof te.componentWillUnmount=="function"){o=F,i=F.return;try{r=o,te.props=r.memoizedProps,te.state=r.memoizedState,te.componentWillUnmount()}catch(re){Fe(o,i,re)}}break;case 5:Is(F,F.return);break;case 22:if(F.memoizedState!==null){Cu(W);continue}}Y!==null?(Y.return=F,ee=Y):Cu(W)}B=B.sibling}e:for(B=null,W=e;;){if(W.tag===5){if(B===null){B=W;try{d=W.stateNode,T?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(v=W.stateNode,j=W.memoizedProps.style,g=j!=null&&j.hasOwnProperty("display")?j.display:null,v.style.display=ic("display",g))}catch(re){Fe(e,e.return,re)}}}else if(W.tag===6){if(B===null)try{W.stateNode.nodeValue=T?"":W.memoizedProps}catch(re){Fe(e,e.return,re)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;B===W&&(B=null),W=W.return}B===W&&(B=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Gt(r,e),ir(e),o&4&&_u(e);break;case 21:break;default:Gt(r,e),ir(e)}}function ir(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(wu(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var d=o.stateNode;o.flags&32&&(nn(d,""),o.flags&=-33);var p=ju(e);ro(e,p,d);break;case 3:case 4:var g=o.stateNode.containerInfo,v=ju(e);to(e,v,g);break;default:throw Error(n(161))}}catch(j){Fe(e,e.return,j)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Bm(e,r,i){ee=e,Su(e)}function Su(e,r,i){for(var o=(e.mode&1)!==0;ee!==null;){var d=ee,p=d.child;if(d.tag===22&&o){var g=d.memoizedState!==null||Ga;if(!g){var v=d.alternate,j=v!==null&&v.memoizedState!==null||ft;v=Ga;var T=ft;if(Ga=g,(ft=j)&&!T)for(ee=d;ee!==null;)g=ee,j=g.child,g.tag===22&&g.memoizedState!==null?Au(d):j!==null?(j.return=g,ee=j):Au(d);for(;p!==null;)ee=p,Su(p),p=p.sibling;ee=d,Ga=v,ft=T}Eu(e)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ee=p):Eu(e)}}function Eu(e){for(;ee!==null;){var r=ee;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:ft||Ja(5,r);break;case 1:var o=r.stateNode;if(r.flags&4&&!ft)if(i===null)o.componentDidMount();else{var d=r.elementType===r.type?i.memoizedProps:Ht(r.type,i.memoizedProps);o.componentDidUpdate(d,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Cd(r,p,o);break;case 3:var g=r.updateQueue;if(g!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}Cd(r,g,i)}break;case 5:var v=r.stateNode;if(i===null&&r.flags&4){i=v;var j=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&i.focus();break;case"img":j.src&&(i.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var T=r.alternate;if(T!==null){var B=T.memoizedState;if(B!==null){var W=B.dehydrated;W!==null&&gn(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||r.flags&512&&eo(r)}catch(F){Fe(r,r.return,F)}}if(r===e){ee=null;break}if(i=r.sibling,i!==null){i.return=r.return,ee=i;break}ee=r.return}}function Cu(e){for(;ee!==null;){var r=ee;if(r===e){ee=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ee=i;break}ee=r.return}}function Au(e){for(;ee!==null;){var r=ee;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{Ja(4,r)}catch(j){Fe(r,i,j)}break;case 1:var o=r.stateNode;if(typeof o.componentDidMount=="function"){var d=r.return;try{o.componentDidMount()}catch(j){Fe(r,d,j)}}var p=r.return;try{eo(r)}catch(j){Fe(r,p,j)}break;case 5:var g=r.return;try{eo(r)}catch(j){Fe(r,g,j)}}}catch(j){Fe(r,r.return,j)}if(r===e){ee=null;break}var v=r.sibling;if(v!==null){v.return=r.return,ee=v;break}ee=r.return}}var Vm=Math.ceil,Qa=G.ReactCurrentDispatcher,so=G.ReactCurrentOwner,Ft=G.ReactCurrentBatchConfig,ke=0,tt=null,Ke=null,it=0,Pt=0,Ds=Cr(0),Qe=0,Un=null,es=0,Ya=0,no=0,Fn=null,Nt=null,ao=0,$s=1/0,gr=null,Xa=!1,io=null,Lr=null,Za=!1,Ir=null,ei=0,zn=0,lo=null,ti=-1,ri=0;function vt(){return(ke&6)!==0?Ve():ti!==-1?ti:ti=Ve()}function Dr(e){return(e.mode&1)===0?1:(ke&2)!==0&&it!==0?it&-it:Sm.transition!==null?(ri===0&&(ri=jc()),ri):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Tc(e.type)),e)}function Jt(e,r,i,o){if(50<zn)throw zn=0,lo=null,Error(n(185));un(e,i,o),((ke&2)===0||e!==tt)&&(e===tt&&((ke&2)===0&&(Ya|=i),Qe===4&&$r(e,it)),_t(e,o),i===1&&ke===0&&(r.mode&1)===0&&($s=Ve()+500,Pa&&Pr()))}function _t(e,r){var i=e.callbackNode;Sp(e,r);var o=ua(e,e===tt?it:0);if(o===0)i!==null&&vc(i),e.callbackNode=null,e.callbackPriority=0;else if(r=o&-o,e.callbackPriority!==r){if(i!=null&&vc(i),r===1)e.tag===0?km(Tu.bind(null,e)):gd(Tu.bind(null,e)),wm(function(){(ke&6)===0&&Pr()}),i=null;else{switch(Nc(o)){case 1:i=Fi;break;case 4:i=bc;break;case 16:i=la;break;case 536870912:i=wc;break;default:i=la}i=Uu(i,Pu.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function Pu(e,r){if(ti=-1,ri=0,(ke&6)!==0)throw Error(n(327));var i=e.callbackNode;if(Ms()&&e.callbackNode!==i)return null;var o=ua(e,e===tt?it:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||r)r=si(e,o);else{r=o;var d=ke;ke|=2;var p=Ru();(tt!==e||it!==r)&&(gr=null,$s=Ve()+500,rs(e,r));do try{Hm();break}catch(v){Ou(e,v)}while(!0);kl(),Qa.current=p,ke=d,Ke!==null?r=0:(tt=null,it=0,r=Qe)}if(r!==0){if(r===2&&(d=zi(e),d!==0&&(o=d,r=oo(e,d))),r===1)throw i=Un,rs(e,0),$r(e,o),_t(e,Ve()),i;if(r===6)$r(e,o);else{if(d=e.current.alternate,(o&30)===0&&!Wm(d)&&(r=si(e,o),r===2&&(p=zi(e),p!==0&&(o=p,r=oo(e,p))),r===1))throw i=Un,rs(e,0),$r(e,o),_t(e,Ve()),i;switch(e.finishedWork=d,e.finishedLanes=o,r){case 0:case 1:throw Error(n(345));case 2:ss(e,Nt,gr);break;case 3:if($r(e,o),(o&130023424)===o&&(r=ao+500-Ve(),10<r)){if(ua(e,0)!==0)break;if(d=e.suspendedLanes,(d&o)!==o){vt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ml(ss.bind(null,e,Nt,gr),r);break}ss(e,Nt,gr);break;case 4:if($r(e,o),(o&4194240)===o)break;for(r=e.eventTimes,d=-1;0<o;){var g=31-Vt(o);p=1<<g,g=r[g],g>d&&(d=g),o&=~p}if(o=d,o=Ve()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Vm(o/1960))-o,10<o){e.timeoutHandle=ml(ss.bind(null,e,Nt,gr),o);break}ss(e,Nt,gr);break;case 5:ss(e,Nt,gr);break;default:throw Error(n(329))}}}return _t(e,Ve()),e.callbackNode===i?Pu.bind(null,e):null}function oo(e,r){var i=Fn;return e.current.memoizedState.isDehydrated&&(rs(e,r).flags|=256),e=si(e,r),e!==2&&(r=Nt,Nt=i,r!==null&&co(r)),e}function co(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function Wm(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var d=i[o],p=d.getSnapshot;d=d.value;try{if(!Wt(p(),d))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(e,r){for(r&=~no,r&=~Ya,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Vt(r),o=1<<i;e[i]=-1,r&=~o}}function Tu(e){if((ke&6)!==0)throw Error(n(327));Ms();var r=ua(e,0);if((r&1)===0)return _t(e,Ve()),null;var i=si(e,r);if(e.tag!==0&&i===2){var o=zi(e);o!==0&&(r=o,i=oo(e,o))}if(i===1)throw i=Un,rs(e,0),$r(e,r),_t(e,Ve()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,ss(e,Nt,gr),_t(e,Ve()),null}function uo(e,r){var i=ke;ke|=1;try{return e(r)}finally{ke=i,ke===0&&($s=Ve()+500,Pa&&Pr())}}function ts(e){Ir!==null&&Ir.tag===0&&(ke&6)===0&&Ms();var r=ke;ke|=1;var i=Ft.transition,o=Ce;try{if(Ft.transition=null,Ce=1,e)return e()}finally{Ce=o,Ft.transition=i,ke=r,(ke&6)===0&&Pr()}}function ho(){Pt=Ds.current,Re(Ds)}function rs(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,bm(i)),Ke!==null)for(i=Ke.return;i!==null;){var o=i;switch(bl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ca();break;case 3:Rs(),Re(bt),Re(ht),Rl();break;case 5:Tl(o);break;case 4:Rs();break;case 13:Re(Ie);break;case 19:Re(Ie);break;case 10:Sl(o.type._context);break;case 22:case 23:ho()}i=i.return}if(tt=e,Ke=e=Mr(e.current,null),it=Pt=r,Qe=0,Un=null,no=Ya=es=0,Nt=Fn=null,Yr!==null){for(r=0;r<Yr.length;r++)if(i=Yr[r],o=i.interleaved,o!==null){i.interleaved=null;var d=o.next,p=i.pending;if(p!==null){var g=p.next;p.next=d,o.next=g}i.pending=o}Yr=null}return e}function Ou(e,r){do{var i=Ke;try{if(kl(),Fa.current=Wa,za){for(var o=De.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}za=!1}if(Zr=0,et=Je=De=null,Rn=!1,Ln=0,so.current=null,i===null||i.return===null){Qe=1,Un=r,Ke=null;break}e:{var p=e,g=i.return,v=i,j=r;if(r=it,v.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var T=j,B=v,W=B.tag;if((B.mode&1)===0&&(W===0||W===11||W===15)){var F=B.alternate;F?(B.updateQueue=F.updateQueue,B.memoizedState=F.memoizedState,B.lanes=F.lanes):(B.updateQueue=null,B.memoizedState=null)}var Y=su(g);if(Y!==null){Y.flags&=-257,nu(Y,g,v,p,r),Y.mode&1&&ru(p,T,r),r=Y,j=T;var te=r.updateQueue;if(te===null){var re=new Set;re.add(j),r.updateQueue=re}else te.add(j);break e}else{if((r&1)===0){ru(p,T,r),po();break e}j=Error(n(426))}}else if(Le&&v.mode&1){var We=su(g);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),nu(We,g,v,p,r),Nl(Ls(j,v));break e}}p=j=Ls(j,v),Qe!==4&&(Qe=2),Fn===null?Fn=[p]:Fn.push(p),p=g;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var C=eu(p,j,r);Ed(p,C);break e;case 1:v=j;var _=p.type,P=p.stateNode;if((p.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Lr===null||!Lr.has(P)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=tu(p,v,r);Ed(p,K);break e}}p=p.return}while(p!==null)}Iu(i)}catch(ne){r=ne,Ke===i&&i!==null&&(Ke=i=i.return);continue}break}while(!0)}function Ru(){var e=Qa.current;return Qa.current=Wa,e===null?Wa:e}function po(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),tt===null||(es&268435455)===0&&(Ya&268435455)===0||$r(tt,it)}function si(e,r){var i=ke;ke|=2;var o=Ru();(tt!==e||it!==r)&&(gr=null,rs(e,r));do try{qm();break}catch(d){Ou(e,d)}while(!0);if(kl(),ke=i,Qa.current=o,Ke!==null)throw Error(n(261));return tt=null,it=0,Qe}function qm(){for(;Ke!==null;)Lu(Ke)}function Hm(){for(;Ke!==null&&!xp();)Lu(Ke)}function Lu(e){var r=Mu(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,r===null?Iu(e):Ke=r,so.current=null}function Iu(e){var r=e;do{var i=r.alternate;if(e=r.return,(r.flags&32768)===0){if(i=Mm(i,r,Pt),i!==null){Ke=i;return}}else{if(i=Um(i,r),i!==null){i.flags&=32767,Ke=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}if(r=r.sibling,r!==null){Ke=r;return}Ke=r=e}while(r!==null);Qe===0&&(Qe=5)}function ss(e,r,i){var o=Ce,d=Ft.transition;try{Ft.transition=null,Ce=1,Km(e,r,i,o)}finally{Ft.transition=d,Ce=o}return null}function Km(e,r,i,o){do Ms();while(Ir!==null);if((ke&6)!==0)throw Error(n(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var p=i.lanes|i.childLanes;if(Ep(e,p),e===tt&&(Ke=tt=null,it=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Za||(Za=!0,Uu(la,function(){return Ms(),null})),p=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||p){p=Ft.transition,Ft.transition=null;var g=Ce;Ce=1;var v=ke;ke|=4,so.current=null,zm(e,i),ku(i,e),pm(hl),ma=!!ul,hl=ul=null,e.current=i,Bm(i),yp(),ke=v,Ce=g,Ft.transition=p}else e.current=i;if(Za&&(Za=!1,Ir=e,ei=d),p=e.pendingLanes,p===0&&(Lr=null),wp(i.stateNode),_t(e,Ve()),r!==null)for(o=e.onRecoverableError,i=0;i<r.length;i++)d=r[i],o(d.value,{componentStack:d.stack,digest:d.digest});if(Xa)throw Xa=!1,e=io,io=null,e;return(ei&1)!==0&&e.tag!==0&&Ms(),p=e.pendingLanes,(p&1)!==0?e===lo?zn++:(zn=0,lo=e):zn=0,Pr(),null}function Ms(){if(Ir!==null){var e=Nc(ei),r=Ft.transition,i=Ce;try{if(Ft.transition=null,Ce=16>e?16:e,Ir===null)var o=!1;else{if(e=Ir,Ir=null,ei=0,(ke&6)!==0)throw Error(n(331));var d=ke;for(ke|=4,ee=e.current;ee!==null;){var p=ee,g=p.child;if((ee.flags&16)!==0){var v=p.deletions;if(v!==null){for(var j=0;j<v.length;j++){var T=v[j];for(ee=T;ee!==null;){var B=ee;switch(B.tag){case 0:case 11:case 15:Mn(8,B,p)}var W=B.child;if(W!==null)W.return=B,ee=W;else for(;ee!==null;){B=ee;var F=B.sibling,Y=B.return;if(bu(B),B===T){ee=null;break}if(F!==null){F.return=Y,ee=F;break}ee=Y}}}var te=p.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var We=re.sibling;re.sibling=null,re=We}while(re!==null)}}ee=p}}if((p.subtreeFlags&2064)!==0&&g!==null)g.return=p,ee=g;else e:for(;ee!==null;){if(p=ee,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Mn(9,p,p.return)}var C=p.sibling;if(C!==null){C.return=p.return,ee=C;break e}ee=p.return}}var _=e.current;for(ee=_;ee!==null;){g=ee;var P=g.child;if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,ee=P;else e:for(g=_;ee!==null;){if(v=ee,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Ja(9,v)}}catch(ne){Fe(v,v.return,ne)}if(v===g){ee=null;break e}var K=v.sibling;if(K!==null){K.return=v.return,ee=K;break e}ee=v.return}}if(ke=d,Pr(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(oa,e)}catch{}o=!0}return o}finally{Ce=i,Ft.transition=r}}return!1}function Du(e,r,i){r=Ls(i,r),r=eu(e,r,1),e=Or(e,r,1),r=vt(),e!==null&&(un(e,1,r),_t(e,r))}function Fe(e,r,i){if(e.tag===3)Du(e,e,i);else for(;r!==null;){if(r.tag===3){Du(r,e,i);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Lr===null||!Lr.has(o))){e=Ls(i,e),e=tu(r,e,1),r=Or(r,e,1),e=vt(),r!==null&&(un(r,1,e),_t(r,e));break}}r=r.return}}function Gm(e,r,i){var o=e.pingCache;o!==null&&o.delete(r),r=vt(),e.pingedLanes|=e.suspendedLanes&i,tt===e&&(it&i)===i&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Ve()-ao?rs(e,0):no|=i),_t(e,r)}function $u(e,r){r===0&&((e.mode&1)===0?r=1:(r=da,da<<=1,(da&130023424)===0&&(da=4194304)));var i=vt();e=pr(e,r),e!==null&&(un(e,r,i),_t(e,i))}function Jm(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),$u(e,i)}function Qm(e,r){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(r),$u(e,i)}var Mu;Mu=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||bt.current)jt=!0;else{if((e.lanes&i)===0&&(r.flags&128)===0)return jt=!1,$m(e,r,i);jt=(e.flags&131072)!==0}else jt=!1,Le&&(r.flags&1048576)!==0&&xd(r,Oa,r.index);switch(r.lanes=0,r.tag){case 2:var o=r.type;Ka(e,r),e=r.pendingProps;var d=Ss(r,ht.current);Os(r,i),d=Dl(null,r,o,e,d,i);var p=$l();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wt(o)?(p=!0,Aa(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Al(r),d.updater=qa,r.stateNode=d,d._reactInternals=r,Vl(r,o,e,i),r=Kl(null,r,o,!0,p,i)):(r.tag=0,Le&&p&&vl(r),yt(null,r,d,i),r=r.child),r;case 16:o=r.elementType;e:{switch(Ka(e,r),e=r.pendingProps,d=o._init,o=d(o._payload),r.type=o,d=r.tag=Xm(o),e=Ht(o,e),d){case 0:r=Hl(null,r,o,e,i);break e;case 1:r=du(null,r,o,e,i);break e;case 11:r=au(null,r,o,e,i);break e;case 14:r=iu(null,r,o,Ht(o.type,e),i);break e}throw Error(n(306,o,""))}return r;case 0:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ht(o,d),Hl(e,r,o,d,i);case 1:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ht(o,d),du(e,r,o,d,i);case 3:e:{if(uu(r),e===null)throw Error(n(387));o=r.pendingProps,p=r.memoizedState,d=p.element,Sd(e,r),Ma(r,o,null,i);var g=r.memoizedState;if(o=g.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=Ls(Error(n(423)),r),r=hu(e,r,o,i,d);break e}else if(o!==d){d=Ls(Error(n(424)),r),r=hu(e,r,o,i,d);break e}else for(At=Er(r.stateNode.containerInfo.firstChild),Ct=r,Le=!0,qt=null,i=_d(r,null,o,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(As(),o===d){r=fr(e,r,i);break e}yt(e,r,o,i)}r=r.child}return r;case 5:return Ad(r),e===null&&jl(r),o=r.type,d=r.pendingProps,p=e!==null?e.memoizedProps:null,g=d.children,pl(o,d)?g=null:p!==null&&pl(o,p)&&(r.flags|=32),cu(e,r),yt(e,r,g,i),r.child;case 6:return e===null&&jl(r),null;case 13:return pu(e,r,i);case 4:return Pl(r,r.stateNode.containerInfo),o=r.pendingProps,e===null?r.child=Ps(r,null,o,i):yt(e,r,o,i),r.child;case 11:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ht(o,d),au(e,r,o,d,i);case 7:return yt(e,r,r.pendingProps,i),r.child;case 8:return yt(e,r,r.pendingProps.children,i),r.child;case 12:return yt(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(o=r.type._context,d=r.pendingProps,p=r.memoizedProps,g=d.value,Pe(Ia,o._currentValue),o._currentValue=g,p!==null)if(Wt(p.value,g)){if(p.children===d.children&&!bt.current){r=fr(e,r,i);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){g=p.child;for(var j=v.firstContext;j!==null;){if(j.context===o){if(p.tag===1){j=mr(-1,i&-i),j.tag=2;var T=p.updateQueue;if(T!==null){T=T.shared;var B=T.pending;B===null?j.next=j:(j.next=B.next,B.next=j),T.pending=j}}p.lanes|=i,j=p.alternate,j!==null&&(j.lanes|=i),El(p.return,i,r),v.lanes|=i;break}j=j.next}}else if(p.tag===10)g=p.type===r.type?null:p.child;else if(p.tag===18){if(g=p.return,g===null)throw Error(n(341));g.lanes|=i,v=g.alternate,v!==null&&(v.lanes|=i),El(g,i,r),g=p.sibling}else g=p.child;if(g!==null)g.return=p;else for(g=p;g!==null;){if(g===r){g=null;break}if(p=g.sibling,p!==null){p.return=g.return,g=p;break}g=g.return}p=g}yt(e,r,d.children,i),r=r.child}return r;case 9:return d=r.type,o=r.pendingProps.children,Os(r,i),d=Mt(d),o=o(d),r.flags|=1,yt(e,r,o,i),r.child;case 14:return o=r.type,d=Ht(o,r.pendingProps),d=Ht(o.type,d),iu(e,r,o,d,i);case 15:return lu(e,r,r.type,r.pendingProps,i);case 17:return o=r.type,d=r.pendingProps,d=r.elementType===o?d:Ht(o,d),Ka(e,r),r.tag=1,wt(o)?(e=!0,Aa(r)):e=!1,Os(r,i),Xd(r,o,d),Vl(r,o,d,i),Kl(null,r,o,!0,e,i);case 19:return fu(e,r,i);case 22:return ou(e,r,i)}throw Error(n(156,r.tag))};function Uu(e,r){return yc(e,r)}function Ym(e,r,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,r,i,o){return new Ym(e,r,i,o)}function mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xm(e){if(typeof e=="function")return mo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ve)return 11;if(e===gt)return 14}return 2}function Mr(e,r){var i=e.alternate;return i===null?(i=zt(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ni(e,r,i,o,d,p){var g=2;if(o=e,typeof e=="function")mo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case H:return ns(i.children,d,p,r);case ae:g=8,d|=8;break;case le:return e=zt(12,i,r,d|2),e.elementType=le,e.lanes=p,e;case ye:return e=zt(13,i,r,d),e.elementType=ye,e.lanes=p,e;case Xe:return e=zt(19,i,r,d),e.elementType=Xe,e.lanes=p,e;case Ee:return ai(i,d,p,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:g=10;break e;case Ne:g=9;break e;case ve:g=11;break e;case gt:g=14;break e;case He:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return r=zt(g,i,r,d),r.elementType=e,r.type=o,r.lanes=p,r}function ns(e,r,i,o){return e=zt(7,e,o,r),e.lanes=i,e}function ai(e,r,i,o){return e=zt(22,e,o,r),e.elementType=Ee,e.lanes=i,e.stateNode={isHidden:!1},e}function fo(e,r,i){return e=zt(6,e,null,r),e.lanes=i,e}function go(e,r,i){return r=zt(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Zm(e,r,i,o,d){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=o,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function xo(e,r,i,o,d,p,g,v,j){return e=new Zm(e,r,i,v,j),r===1?(r=1,p===!0&&(r|=8)):r=0,p=zt(3,null,null,r),e.current=p,p.stateNode=e,p.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(p),e}function ef(e,r,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:o==null?null:""+o,children:e,containerInfo:r,implementation:i}}function Fu(e){if(!e)return Ar;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(n(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(wt(i))return md(e,i,r)}return r}function zu(e,r,i,o,d,p,g,v,j){return e=xo(i,o,!0,e,d,p,g,v,j),e.context=Fu(null),i=e.current,o=vt(),d=Dr(i),p=mr(o,d),p.callback=r??null,Or(i,p,d),e.current.lanes=d,un(e,d,o),_t(e,o),e}function ii(e,r,i,o){var d=r.current,p=vt(),g=Dr(d);return i=Fu(i),r.context===null?r.context=i:r.pendingContext=i,r=mr(p,g),r.payload={element:e},o=o===void 0?null:o,o!==null&&(r.callback=o),e=Or(d,r,g),e!==null&&(Jt(e,d,g,p),$a(e,d,g)),g}function li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bu(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function yo(e,r){Bu(e,r),(e=e.alternate)&&Bu(e,r)}function tf(){return null}var Vu=typeof reportError=="function"?reportError:function(e){console.error(e)};function vo(e){this._internalRoot=e}oi.prototype.render=vo.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));ii(e,r,null,null)},oi.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ts(function(){ii(null,e,null,null)}),r[cr]=null}};function oi(e){this._internalRoot=e}oi.prototype.unstable_scheduleHydration=function(e){if(e){var r=Sc();e={blockedOn:null,target:e,priority:r};for(var i=0;i<_r.length&&r!==0&&r<_r[i].priority;i++);_r.splice(i,0,e),i===0&&Ac(e)}};function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ci(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wu(){}function rf(e,r,i,o,d){if(d){if(typeof o=="function"){var p=o;o=function(){var T=li(g);p.call(T)}}var g=zu(r,o,e,0,null,!1,!1,"",Wu);return e._reactRootContainer=g,e[cr]=g.current,kn(e.nodeType===8?e.parentNode:e),ts(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof o=="function"){var v=o;o=function(){var T=li(j);v.call(T)}}var j=xo(e,0,!1,null,null,!1,!1,"",Wu);return e._reactRootContainer=j,e[cr]=j.current,kn(e.nodeType===8?e.parentNode:e),ts(function(){ii(r,j,i,o)}),j}function di(e,r,i,o,d){var p=i._reactRootContainer;if(p){var g=p;if(typeof d=="function"){var v=d;d=function(){var j=li(g);v.call(j)}}ii(r,g,e,d)}else g=rf(i,r,e,d,o);return li(g)}_c=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=dn(r.pendingLanes);i!==0&&(Vi(r,i|1),_t(r,Ve()),(ke&6)===0&&($s=Ve()+500,Pr()))}break;case 13:ts(function(){var o=pr(e,1);if(o!==null){var d=vt();Jt(o,e,1,d)}}),yo(e,1)}},Wi=function(e){if(e.tag===13){var r=pr(e,134217728);if(r!==null){var i=vt();Jt(r,e,134217728,i)}yo(e,134217728)}},kc=function(e){if(e.tag===13){var r=Dr(e),i=pr(e,r);if(i!==null){var o=vt();Jt(i,e,r,o)}yo(e,r)}},Sc=function(){return Ce},Ec=function(e,r){var i=Ce;try{return Ce=e,r()}finally{Ce=i}},Di=function(e,r,i){switch(r){case"input":if(Ue(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var o=i[r];if(o!==e&&o.form===e.form){var d=Ea(o);if(!d)throw Error(n(90));L(o),Ue(o,d)}}}break;case"textarea":ms(e,i);break;case"select":r=i.value,r!=null&&It(e,!!i.multiple,r,!1)}},uc=uo,hc=ts;var sf={usingClientEntryPoint:!1,Events:[Cn,_s,Ea,cc,dc,uo]},Bn={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nf={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gc(e),e===null?null:e.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{oa=ui.inject(nf),rr=ui}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sf,kt.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bo(r))throw Error(n(200));return ef(e,r,null,i)},kt.createRoot=function(e,r){if(!bo(e))throw Error(n(299));var i=!1,o="",d=Vu;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=xo(e,1,!1,null,null,i,!1,o,d),e[cr]=r.current,kn(e.nodeType===8?e.parentNode:e),new vo(r)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=gc(r),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return ts(e)},kt.hydrate=function(e,r,i){if(!ci(r))throw Error(n(200));return di(null,e,r,!0,i)},kt.hydrateRoot=function(e,r,i){if(!bo(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,d=!1,p="",g=Vu;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),r=zu(r,null,e,1,i??null,d,!1,p,g),e[cr]=r.current,kn(e),o)for(e=0;e<o.length;e++)i=o[e],d=i._getVersion,d=d(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,d]:r.mutableSourceEagerHydrationData.push(i,d);return new oi(r)},kt.render=function(e,r,i){if(!ci(r))throw Error(n(200));return di(null,e,r,!1,i)},kt.unmountComponentAtNode=function(e){if(!ci(e))throw Error(n(40));return e._reactRootContainer?(ts(function(){di(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1},kt.unstable_batchedUpdates=uo,kt.unstable_renderSubtreeIntoContainer=function(e,r,i,o){if(!ci(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return di(e,r,i,!1,o)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var Xu;function pf(){if(Xu)return No.exports;Xu=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(s){console.error(s)}}return a(),No.exports=hf(),No.exports}var Zu;function mf(){if(Zu)return hi;Zu=1;var a=pf();return hi.createRoot=a.createRoot,hi.hydrateRoot=a.hydrateRoot,hi}var ff=mf(),D=Yo();const qe=[{id:"AUTO-001",name:"Maria Garcia",email:"maria.garcia@email.com",phone:"+63 917 123 4567",nationality:"Philippines",position:"Housemaid",country:"Saudi Arabia",experience:3,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Cleaning","Cooking","Child Care","Laundry"],appliedDate:"2025-12-13",languages:["English","Tagalog","Arabic (Basic)"],aiScore:7.2,autoExtracted:!0,extractionConfidence:88,needsReview:!1,cvUrl:"Maria_Garcia_CV.pdf"},{id:"AUTO-002",name:"John Smith",email:"john.smith@email.com",phone:"+92 301 987 6543",nationality:"Pakistan",position:"Construction Worker",country:"UAE",experience:6,status:"Applied",source:"Email",passportAvailable:!0,skills:["Masonry","Carpentry","Concrete Work","Safety"],appliedDate:"2025-12-13",languages:["English","Urdu"],aiScore:8,autoExtracted:!0,extractionConfidence:72,needsReview:!0,cvUrl:"John_Smith_CV.docx"},{id:"AUTO-003",name:"Mohammed Aslam",email:"",phone:"+92 302 555 1234",nationality:"Pakistan",position:"Driver",country:"Saudi Arabia",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Light Vehicle","Heavy Vehicle","Clean License"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:7.8,autoExtracted:!0,extractionConfidence:68,needsReview:!0,cvUrl:"Mohammed_Aslam_CV.pdf"},{id:"1",name:"Ahmed Hassan",email:"ahmed.hassan@email.com",phone:"+92 300 1234567",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:5,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Electrical Installation","Maintenance","Industrial Wiring","Safety Standards"],appliedDate:"2025-12-10",languages:["English","Urdu","Arabic"],aiScore:8.5,age:32,dateOfBirth:"1993-05-15",passportNumber:"AB1234567",passportExpiry:"2028-03-20",medicalExpiry:"2026-01-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Lahore, Pakistan",salaryExpectation:"AED 2,000",availableFrom:"2026-01-01",lastContacted:"2025-12-15",interviewDate:"2025-12-22",interviewStatus:"Scheduled",linkedinUrl:"https://linkedin.com/in/ahmed-hassan-electrician",whatsappLink:"https://wa.me/923001234567",videoLink:"https://youtube.com/watch?v=abc123xyz",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"2",name:"Mohammed Ali",email:"mohammed.ali@email.com",phone:"+92 301 2345678",nationality:"Pakistan",position:"Welder",country:"Saudi Arabia",experience:7,status:"Deployed",source:"Form",passportAvailable:!0,skills:["TIG Welding","MIG Welding","Arc Welding","Metal Fabrication"],appliedDate:"2025-11-15",languages:["English","Urdu"],aiScore:9.2,age:35,dateOfBirth:"1990-08-22",passportNumber:"CD9876543",passportExpiry:"2029-06-10",medicalExpiry:"2026-11-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Riyadh, Saudi Arabia",salaryExpectation:"SAR 2,500",availableFrom:"Currently Working",lastContacted:"2025-12-01",linkedinUrl:"https://linkedin.com/in/mohammed-ali-welder",whatsappLink:"https://wa.me/923012345678",videoLink:"https://youtube.com/watch?v=def456uvw",drivingLicense:"None",yearsInGCC:5,englishLevel:"Basic",arabicLevel:"Intermediate"},{id:"3",name:"Rajesh Kumar",email:"rajesh.kumar@email.com",phone:"+91 98765 43210",nationality:"India",position:"Mason",country:"Qatar",experience:4,status:"Applied",source:"Email",passportAvailable:!0,skills:["Bricklaying","Plastering","Tiling","Construction"],appliedDate:"2025-12-13",languages:["English","Hindi"],aiScore:7.8,age:28,dateOfBirth:"1997-03-10",passportNumber:"J1234567",passportExpiry:"2027-09-15",religion:"Hindu",maritalStatus:"Single",currentLocation:"Mumbai, India",salaryExpectation:"QAR 1,600",availableFrom:"2026-02-01",lastContacted:"2025-12-14",whatsappLink:"https://wa.me/919876543210",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"4",name:"Suresh Patel",email:"suresh.patel@email.com",phone:"+91 87654 32109",nationality:"India",position:"Plumber",country:"UAE",experience:6,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Pipe Installation","Drainage Systems","Water Systems","Maintenance"],appliedDate:"2025-12-11",languages:["English","Hindi","Gujarati"],aiScore:8.1,age:29,dateOfBirth:"1996-07-18",passportNumber:"K9876543",passportExpiry:"2028-12-05",religion:"Hindu",maritalStatus:"Married",currentLocation:"Ahmedabad, India",salaryExpectation:"AED 1,800",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/918765432109",videoLink:"https://youtube.com/watch?v=plumber-demo-video",drivingLicense:"None",yearsInGCC:1,englishLevel:"Intermediate",arabicLevel:"None"},{id:"5",name:"Kamal Uddin",email:"kamal.uddin@email.com",phone:"+880 1712 345678",nationality:"Bangladesh",position:"Carpenter",country:"Oman",experience:8,status:"Applied",source:"Form",passportAvailable:!1,skills:["Woodwork","Furniture Making","Interior Finishing","Blueprint Reading"],appliedDate:"2025-12-12",languages:["English","Bengali"],aiScore:7.5,age:34,dateOfBirth:"1991-02-20",currentLocation:"Dhaka, Bangladesh",salaryExpectation:"OMR 220",availableFrom:"2026-02-01",whatsappLink:"https://wa.me/8801712345678",videoLink:"https://youtube.com/watch?v=carpenter-skills-demo",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Basic",arabicLevel:"None"},{id:"6",name:"Imran Sheikh",email:"imran.sheikh@email.com",phone:"+92 302 3456789",nationality:"Pakistan",position:"Electrician",country:"Saudi Arabia",experience:3,status:"Cancelled",source:"Manual",passportAvailable:!0,skills:["Residential Wiring","Troubleshooting","Panel Installation"],appliedDate:"2025-12-08",languages:["English","Urdu"],aiScore:6.5,videoLink:"https://youtube.com/watch?v=electrical-work-sample",whatsappLink:"https://wa.me/923023456789"},{id:"7",name:"Vijay Singh",email:"vijay.singh@email.com",phone:"+91 99887 76655",nationality:"India",position:"Heavy Driver",country:"UAE",experience:10,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Truck Driving","Heavy Equipment","UAE License","Logistics"],appliedDate:"2025-11-20",languages:["English","Hindi","Punjabi"],aiScore:9,age:38,dateOfBirth:"1987-11-10",passportNumber:"L5544332",passportExpiry:"2027-08-15",religion:"Sikh",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 3,500",availableFrom:"Currently Working",linkedinUrl:"https://linkedin.com/in/vijay-singh-driver",whatsappLink:"https://wa.me/919988776655",videoLink:"https://youtube.com/watch?v=heavy-vehicle-driving",drivingLicense:"Heavy Vehicle",yearsInGCC:8,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"8",name:"Abdul Rahman",email:"abdul.rahman@email.com",phone:"+92 303 4567890",nationality:"Pakistan",position:"Steel Fixer",country:"Qatar",experience:5,status:"Pending",source:"Email",passportAvailable:!0,skills:["Rebar Installation","Blueprint Reading","Construction","Safety"],appliedDate:"2025-12-09",languages:["English","Urdu","Arabic"],aiScore:8.3,age:31,dateOfBirth:"1994-04-12",passportNumber:"EF7788990",passportExpiry:"2029-01-25",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"QAR 1,700",availableFrom:"2026-01-10",lastContacted:"2025-12-10",whatsappLink:"https://wa.me/923034567890",videoLink:"https://youtube.com/watch?v=steel-fixing-work",linkedinUrl:"https://linkedin.com/in/abdul-rahman-steel",drivingLicense:"None",yearsInGCC:3,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"9",name:"Usman Tariq",email:"usman.tariq@email.com",phone:"+92 304 5678901",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Electrical Installation","AC Systems","Building Wiring","Troubleshooting"],appliedDate:"2025-12-14",languages:["English","Urdu"],aiScore:7.9,age:27,dateOfBirth:"1998-02-14",passportNumber:"GH2345678",passportExpiry:"2028-11-10",medicalExpiry:"2026-03-15",religion:"Muslim",maritalStatus:"Single",currentLocation:"Islamabad, Pakistan",salaryExpectation:"AED 1,900",availableFrom:"2026-01-20",whatsappLink:"https://wa.me/923045678901",videoLink:"https://youtube.com/watch?v=electrician-usman",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Intermediate",arabicLevel:"None"},{id:"10",name:"Shahid Mahmood",email:"shahid.mahmood@email.com",phone:"+92 305 6789012",nationality:"Pakistan",position:"Electrician",country:"Saudi Arabia",experience:8,status:"Pending",source:"Email",passportAvailable:!0,skills:["Industrial Wiring","PLC Systems","Motor Control","High Voltage"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:8.8,age:36,dateOfBirth:"1989-06-20",passportNumber:"IJ3456789",passportExpiry:"2029-04-15",medicalExpiry:"2026-08-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Faisalabad, Pakistan",salaryExpectation:"SAR 2,200",availableFrom:"2026-01-05",lastContacted:"2025-12-13",whatsappLink:"https://wa.me/923056789012",videoLink:"https://youtube.com/watch?v=electrician-shahid",linkedinUrl:"https://linkedin.com/in/shahid-mahmood-electrician",drivingLicense:"None",yearsInGCC:4,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"11",name:"Naveed Akhtar",email:"naveed.akhtar@email.com",phone:"+92 306 7890123",nationality:"Pakistan",position:"Electrician",country:"Serbia",experience:6,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Residential Wiring","Commercial Setup","Safety Compliance"],appliedDate:"2025-12-15",languages:["English","Urdu"],aiScore:8.2,age:33,dateOfBirth:"1992-09-08",passportNumber:"KL4567890",passportExpiry:"2028-07-25",medicalExpiry:"2026-12-10",religion:"Muslim",maritalStatus:"Married",currentLocation:"Rawalpindi, Pakistan",salaryExpectation:"EUR 1,200",availableFrom:"2026-02-15",whatsappLink:"https://wa.me/923067890123",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"12",name:"Zubair Hussain",email:"zubair.hussain@email.com",phone:"+92 307 8901234",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:5,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Building Management Systems","Fire Alarm","CCTV Installation","Networking"],appliedDate:"2025-11-28",languages:["English","Urdu","Arabic"],aiScore:8.6,age:30,dateOfBirth:"1995-04-17",passportNumber:"MN5678901",passportExpiry:"2027-10-30",religion:"Muslim",maritalStatus:"Single",currentLocation:"Abu Dhabi, UAE",salaryExpectation:"AED 2,100",availableFrom:"Currently Working",lastContacted:"2025-12-05",whatsappLink:"https://wa.me/923078901234",videoLink:"https://youtube.com/watch?v=electrician-zubair",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"13",name:"Waqas Ali",email:"waqas.ali@email.com",phone:"+92 308 9012345",nationality:"Pakistan",position:"Light Driver",country:"UAE",experience:7,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Personal Driving","UAE License","Safe Driving","Navigation"],appliedDate:"2025-12-16",languages:["English","Urdu","Arabic"],aiScore:8,age:34,dateOfBirth:"1991-07-22",passportNumber:"OP6789012",passportExpiry:"2028-05-18",medicalExpiry:"2026-09-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Multan, Pakistan",salaryExpectation:"AED 2,500",availableFrom:"2026-01-10",whatsappLink:"https://wa.me/923089012345",videoLink:"https://youtube.com/watch?v=driver-waqas",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"14",name:"Fahad Malik",email:"fahad.malik@email.com",phone:"+92 309 0123456",nationality:"Pakistan",position:"Heavy Driver",country:"Saudi Arabia",experience:9,status:"Pending",source:"Email",passportAvailable:!0,skills:["Truck Driving","Trailer Operation","Long Distance","Logistics"],appliedDate:"2025-12-11",languages:["English","Urdu","Arabic"],aiScore:8.9,age:40,dateOfBirth:"1985-03-30",passportNumber:"QR7890123",passportExpiry:"2029-02-20",medicalExpiry:"2026-06-25",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sialkot, Pakistan",salaryExpectation:"SAR 3,000",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/923090123456",videoLink:"https://youtube.com/watch?v=heavy-driver-fahad",linkedinUrl:"https://linkedin.com/in/fahad-malik-driver",drivingLicense:"Heavy Vehicle",yearsInGCC:6,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"15",name:"Bilal Ahmed",email:"bilal.ahmed@email.com",phone:"+92 310 1234567",nationality:"Pakistan",position:"Light Driver",country:"Kosovo",experience:5,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Driving","GPS Navigation","Customer Service","Safe Driving"],appliedDate:"2025-12-17",languages:["English","Urdu"],aiScore:7.6,age:29,dateOfBirth:"1996-11-05",passportNumber:"ST8901234",passportExpiry:"2028-08-12",medicalExpiry:"2026-10-18",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"EUR 900",availableFrom:"2026-02-20",whatsappLink:"https://wa.me/923101234567",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"16",name:"Asif Raza",email:"asif.raza@email.com",phone:"+92 311 2345678",nationality:"Pakistan",position:"Heavy Driver",country:"UAE",experience:12,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Dump Truck","Crane Operation","Heavy Equipment","Construction Sites"],appliedDate:"2025-11-22",languages:["English","Urdu","Arabic"],aiScore:9.1,age:42,dateOfBirth:"1983-01-15",passportNumber:"UV9012345",passportExpiry:"2027-12-08",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sharjah, UAE",salaryExpectation:"AED 4,000",availableFrom:"Currently Working",lastContacted:"2025-12-08",whatsappLink:"https://wa.me/923112345678",videoLink:"https://youtube.com/watch?v=heavy-driver-asif",drivingLicense:"Heavy Vehicle",yearsInGCC:10,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"17",name:"Kashif Mehmood",email:"kashif.mehmood@email.com",phone:"+92 312 3456789",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:6,status:"Applied",source:"Email",passportAvailable:!0,skills:["Pipe Installation","Sanitary Fitting","Water Heaters","Drainage"],appliedDate:"2025-12-14",languages:["English","Urdu"],aiScore:8.1,age:31,dateOfBirth:"1994-08-25",passportNumber:"WX0123456",passportExpiry:"2028-09-30",medicalExpiry:"2026-11-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Gujranwala, Pakistan",salaryExpectation:"AED 1,850",availableFrom:"2026-01-25",whatsappLink:"https://wa.me/923123456789",videoLink:"https://youtube.com/watch?v=plumber-kashif",drivingLicense:"None",yearsInGCC:1,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"18",name:"Hamza Qureshi",email:"hamza.qureshi@email.com",phone:"+92 313 4567890",nationality:"Pakistan",position:"Plumber",country:"Saudi Arabia",experience:7,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Commercial Plumbing","HVAC Systems","Maintenance","Repair"],appliedDate:"2025-12-10",languages:["English","Urdu","Arabic"],aiScore:8.4,age:35,dateOfBirth:"1990-05-12",passportNumber:"YZ1234567",passportExpiry:"2029-03-18",medicalExpiry:"2026-07-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Peshawar, Pakistan",salaryExpectation:"SAR 2,000",availableFrom:"2026-01-08",lastContacted:"2025-12-11",whatsappLink:"https://wa.me/923134567890",videoLink:"https://youtube.com/watch?v=plumber-hamza",linkedinUrl:"https://linkedin.com/in/hamza-qureshi-plumber",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"19",name:"Tariq Aziz",email:"tariq.aziz@email.com",phone:"+92 314 5678901",nationality:"Pakistan",position:"Plumber",country:"Serbia",experience:5,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Residential Plumbing","Bathroom Fitting","Kitchen Setup"],appliedDate:"2025-12-18",languages:["English","Urdu"],aiScore:7.8,age:28,dateOfBirth:"1997-10-03",passportNumber:"AB2345678",passportExpiry:"2028-06-14",medicalExpiry:"2026-12-05",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"EUR 1,100",availableFrom:"2026-02-28",whatsappLink:"https://wa.me/923145678901",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"20",name:"Rizwan Shah",email:"rizwan.shah@email.com",phone:"+92 315 6789012",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:9,status:"Deployed",source:"Email",passportAvailable:!0,skills:["High-rise Buildings","Fire Fighting Systems","Water Supply","Pump Installation"],appliedDate:"2025-11-25",languages:["English","Urdu","Arabic"],aiScore:8.7,age:38,dateOfBirth:"1987-02-28",passportNumber:"CD3456789",passportExpiry:"2027-11-22",religion:"Muslim",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 2,200",availableFrom:"Currently Working",lastContacted:"2025-12-02",whatsappLink:"https://wa.me/923156789012",videoLink:"https://youtube.com/watch?v=plumber-rizwan",drivingLicense:"Light Vehicle",yearsInGCC:7,englishLevel:"Fluent",arabicLevel:"Fluent"},{id:"21",name:"Ayesha Malik",email:"ayesha.malik@email.com",phone:"+92 316 7890123",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:5,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Makeup Artist","Hair Styling","Bridal Makeup","Facial Treatments"],appliedDate:"2025-12-15",languages:["English","Urdu","Arabic"],aiScore:8.3,age:27,dateOfBirth:"1998-06-12",passportNumber:"EF4567890",passportExpiry:"2028-04-20",medicalExpiry:"2026-08-15",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"AED 2,500",availableFrom:"2026-01-20",whatsappLink:"https://wa.me/923167890123",videoLink:"https://youtube.com/watch?v=beautician-ayesha",drivingLicense:"None",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"Basic"},{id:"22",name:"Sana Tariq",email:"sana.tariq@email.com",phone:"+92 317 8901234",nationality:"Pakistan",position:"Beautician",country:"Saudi Arabia",experience:6,status:"Pending",source:"Form",passportAvailable:!0,skills:["Nail Art","Spa Treatments","Waxing","Threading","Manicure & Pedicure"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:8.5,age:29,dateOfBirth:"1996-09-18",passportNumber:"GH5678901",passportExpiry:"2028-12-10",medicalExpiry:"2026-10-22",religion:"Muslim",maritalStatus:"Married",currentLocation:"Islamabad, Pakistan",salaryExpectation:"SAR 2,200",availableFrom:"2026-01-12",lastContacted:"2025-12-13",whatsappLink:"https://wa.me/923178901234",videoLink:"https://youtube.com/watch?v=beautician-sana",linkedinUrl:"https://linkedin.com/in/sana-tariq-beautician",drivingLicense:"None",yearsInGCC:2,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"23",name:"Hina Khan",email:"hina.khan@email.com",phone:"+92 318 9012345",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:8,status:"Deployed",source:"Email",passportAvailable:!0,skills:["Permanent Makeup","Laser Treatments","Anti-aging","Skin Care"],appliedDate:"2025-11-18",languages:["English","Urdu","Arabic"],aiScore:9,age:33,dateOfBirth:"1992-03-22",passportNumber:"IJ6789012",passportExpiry:"2027-10-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 3,500",availableFrom:"Currently Working",lastContacted:"2025-12-05",whatsappLink:"https://wa.me/923189012345",videoLink:"https://youtube.com/watch?v=beautician-hina",drivingLicense:"Light Vehicle",yearsInGCC:5,englishLevel:"Fluent",arabicLevel:"Fluent"},{id:"24",name:"Farah Naz",email:"farah.naz@email.com",phone:"+92 319 0123456",nationality:"Pakistan",position:"Beautician",country:"Kosovo",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Hair Coloring","Hair Extensions","European Styling","Makeup"],appliedDate:"2025-12-19",languages:["English","Urdu"],aiScore:7.7,age:26,dateOfBirth:"1999-07-08",passportNumber:"KL7890123",passportExpiry:"2028-05-28",medicalExpiry:"2026-09-10",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"EUR 950",availableFrom:"2026-03-01",whatsappLink:"https://wa.me/923190123456",drivingLicense:"None",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"25",name:"Imran Abbas",email:"imran.abbas@email.com",phone:"+92 320 1234567",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:7,status:"Applied",source:"Email",passportAvailable:!0,skills:["Solar Panel Installation","Renewable Energy","Electrical Design","Testing"],appliedDate:"2025-12-13",languages:["English","Urdu","Arabic"],aiScore:8.6,age:34,dateOfBirth:"1991-12-02",passportNumber:"MN8901234",passportExpiry:"2029-01-18",medicalExpiry:"2026-05-25",religion:"Muslim",maritalStatus:"Married",currentLocation:"Multan, Pakistan",salaryExpectation:"AED 2,300",availableFrom:"2026-01-18",whatsappLink:"https://wa.me/923201234567",videoLink:"https://youtube.com/watch?v=electrician-imran",linkedinUrl:"https://linkedin.com/in/imran-abbas-electrician",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"26",name:"Salman Rashid",email:"salman.rashid@email.com",phone:"+92 321 2345678",nationality:"Pakistan",position:"Electrician",country:"Germany",experience:9,status:"Pending",source:"Form",passportAvailable:!0,skills:["German Standards","VDE Compliance","Automation","Industrial Control"],appliedDate:"2025-12-16",languages:["English","Urdu","German (Basic)"],aiScore:8.9,age:37,dateOfBirth:"1988-04-15",passportNumber:"OP9012345",passportExpiry:"2028-08-22",medicalExpiry:"2026-11-30",religion:"Muslim",maritalStatus:"Married",currentLocation:"Faisalabad, Pakistan",salaryExpectation:"EUR 2,200",availableFrom:"2026-03-15",whatsappLink:"https://wa.me/923212345678",videoLink:"https://youtube.com/watch?v=electrician-salman",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"27",name:"Yasir Mehmood",email:"yasir.mehmood@email.com",phone:"+92 322 3456789",nationality:"Pakistan",position:"Light Driver",country:"Saudi Arabia",experience:6,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Family Driver","Airport Pickup","Safe Driving","Vehicle Maintenance"],appliedDate:"2025-12-17",languages:["English","Urdu","Arabic"],aiScore:8,age:32,dateOfBirth:"1993-08-10",passportNumber:"QR0123456",passportExpiry:"2028-07-05",medicalExpiry:"2026-10-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sialkot, Pakistan",salaryExpectation:"SAR 2,400",availableFrom:"2026-01-22",whatsappLink:"https://wa.me/923223456789",videoLink:"https://youtube.com/watch?v=driver-yasir",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Intermediate"},{id:"28",name:"Nadeem Ali",email:"nadeem.ali@email.com",phone:"+92 323 4567890",nationality:"Pakistan",position:"Heavy Driver",country:"UAE",experience:11,status:"Deployed",source:"Email",passportAvailable:!0,skills:["Trailer Truck","Container Transport","Port Operations","Long Haul"],appliedDate:"2025-11-20",languages:["English","Urdu","Arabic"],aiScore:9.2,age:43,dateOfBirth:"1982-06-18",passportNumber:"ST1234567",passportExpiry:"2027-09-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Jebel Ali, UAE",salaryExpectation:"AED 4,500",availableFrom:"Currently Working",lastContacted:"2025-12-10",whatsappLink:"https://wa.me/923234567890",videoLink:"https://youtube.com/watch?v=heavy-driver-nadeem",drivingLicense:"Heavy Vehicle",yearsInGCC:9,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"29",name:"Aamir Siddique",email:"aamir.siddique@email.com",phone:"+92 324 5678901",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:8,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Villa Plumbing","Swimming Pool Systems","Jacuzzi Installation","Luxury Homes"],appliedDate:"2025-12-14",languages:["English","Urdu","Arabic"],aiScore:8.5,age:36,dateOfBirth:"1989-11-28",passportNumber:"UV2345678",passportExpiry:"2029-02-14",medicalExpiry:"2026-06-18",religion:"Muslim",maritalStatus:"Married",currentLocation:"Rawalpindi, Pakistan",salaryExpectation:"AED 2,100",availableFrom:"2026-01-28",whatsappLink:"https://wa.me/923245678901",videoLink:"https://youtube.com/watch?v=plumber-aamir",linkedinUrl:"https://linkedin.com/in/aamir-siddique-plumber",drivingLicense:"Light Vehicle",yearsInGCC:4,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"30",name:"Faisal Khan",email:"faisal.khan@email.com",phone:"+92 325 6789012",nationality:"Pakistan",position:"Plumber",country:"Austria",experience:6,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Heating Systems","Radiator Installation","Gas Fitting"],appliedDate:"2025-12-18",languages:["English","Urdu"],aiScore:8.2,age:33,dateOfBirth:"1992-01-20",passportNumber:"WX3456789",passportExpiry:"2028-10-08",medicalExpiry:"2026-12-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Gujranwala, Pakistan",salaryExpectation:"EUR 1,800",availableFrom:"2026-03-10",whatsappLink:"https://wa.me/923256789012",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"31",name:"Zainab Riaz",email:"zainab.riaz@email.com",phone:"+92 326 7890123",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:7,status:"Pending",source:"Email",passportAvailable:!0,skills:["Microblading","Eyelash Extensions","Henna Art","Makeup Training"],appliedDate:"2025-12-11",languages:["English","Urdu","Arabic"],aiScore:8.7,age:31,dateOfBirth:"1994-05-16",passportNumber:"YZ4567890",passportExpiry:"2028-11-25",medicalExpiry:"2026-08-08",religion:"Muslim",maritalStatus:"Married",currentLocation:"Peshawar, Pakistan",salaryExpectation:"AED 3,000",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/923267890123",videoLink:"https://youtube.com/watch?v=beautician-zainab",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"32",name:"Mehwish Ahmed",email:"mehwish.ahmed@email.com",phone:"+92 327 8901234",nationality:"Pakistan",position:"Beautician",country:"Saudi Arabia",experience:5,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Hijab Styling","Arabic Makeup","Traditional Henna","Party Makeup"],appliedDate:"2025-12-16",languages:["English","Urdu","Arabic"],aiScore:8.1,age:28,dateOfBirth:"1997-09-03",passportNumber:"AB5678901",passportExpiry:"2028-06-30",medicalExpiry:"2026-09-22",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"SAR 2,500",availableFrom:"2026-02-05",whatsappLink:"https://wa.me/923278901234",videoLink:"https://youtube.com/watch?v=beautician-mehwish",drivingLicense:"None",yearsInGCC:1,englishLevel:"Fluent",arabicLevel:"Intermediate"}],Hs=[{id:"1",companyName:"Al Majid Construction LLC",country:"UAE",contactPerson:"Hassan Al Majid",email:"hr@almajid.ae",phone:"+971 4 123 4567",categories:["Electrician","Plumber","Mason","Carpenter"],activeJobs:3},{id:"2",companyName:"Saudi Build Group",country:"Saudi Arabia",contactPerson:"Abdullah bin Salman",email:"recruitment@saudibuild.sa",phone:"+966 11 234 5678",categories:["Welder","Electrician","Steel Fixer"],activeJobs:2},{id:"3",companyName:"Qatar Development Co.",country:"Qatar",contactPerson:"Mohammed Al Thani",email:"jobs@qatardev.qa",phone:"+974 4444 5555",categories:["Mason","Carpenter","Heavy Driver"],activeJobs:4},{id:"4",companyName:"Oman Infrastructure",country:"Oman",contactPerson:"Said Al Balushi",email:"hr@omaninfra.om",phone:"+968 2456 7890",categories:["Electrician","Plumber","Carpenter"],activeJobs:1}],ds=[{id:"1",employerId:"1",employerName:"Al Majid Construction LLC",position:"Electrician",country:"UAE",salary:"AED 1,800 - 2,200",candidates:5,urgency:"High",skills:["Electrical Installation","Industrial Wiring","Safety Standards","Maintenance"],status:"Open",createdDate:"2025-12-01"},{id:"2",employerId:"2",employerName:"Saudi Build Group",position:"Welder",country:"Saudi Arabia",salary:"SAR 2,000 - 2,500",candidates:10,urgency:"High",skills:["TIG Welding","MIG Welding","Arc Welding","Metal Fabrication"],status:"Open",createdDate:"2025-11-28"},{id:"3",employerId:"1",employerName:"Al Majid Construction LLC",position:"Plumber",country:"UAE",salary:"AED 1,600 - 2,000",candidates:3,urgency:"Medium",skills:["Pipe Installation","Water Systems","Drainage Systems","Maintenance"],status:"Open",createdDate:"2025-12-05"},{id:"4",employerId:"3",employerName:"Qatar Development Co.",position:"Mason",country:"Qatar",salary:"QAR 1,500 - 1,800",candidates:8,urgency:"Low",skills:["Bricklaying","Plastering","Tiling","Construction"],status:"Open",createdDate:"2025-11-25"},{id:"5",employerId:"4",employerName:"Oman Infrastructure",position:"Carpenter",country:"Oman",salary:"OMR 200 - 250",candidates:2,urgency:"Medium",skills:["Woodwork","Furniture Making","Interior Finishing","Blueprint Reading"],status:"Open",createdDate:"2025-12-07"},{id:"6",employerId:"3",employerName:"Qatar Development Co.",position:"Heavy Driver",country:"Qatar",salary:"QAR 2,200 - 2,800",candidates:15,urgency:"High",skills:["Truck Driving","Heavy Equipment","Valid License","Logistics"],status:"Closed",createdDate:"2025-11-10"}];/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xf=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,l)=>l?l.toUpperCase():n.toLowerCase()),eh=a=>{const s=xf(a);return s.charAt(0).toUpperCase()+s.slice(1)},Ih=(...a)=>a.filter((s,n,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=D.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:h,...f},m)=>D.createElement("svg",{ref:m,...yf,width:s,height:s,stroke:a,strokeWidth:l?Number(n)*24/Number(s):n,className:Ih("lucide",c),...f},[...h.map(([x,y])=>D.createElement(x,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(a,s)=>{const n=D.forwardRef(({className:l,...c},u)=>D.createElement(vf,{ref:u,iconNode:s,className:Ih(`lucide-${gf(eh(a))}`,`lucide-${a}`,l),...c}));return n.displayName=eh(a),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wf=J("activity",bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nf=J("arrow-left",jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$o=J("award",_f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sf=J("bell",kf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],th=J("bot",Ef);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zt=J("briefcase",Cf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],_i=J("building-2",Af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vr=J("calendar",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Of=J("camera",Tf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rh=J("chart-column",Rf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],If=J("chart-pie",Lf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ki=J("check",Df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dh=J("chevron-down",$f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Uf=J("chevron-right",Mf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ct=J("circle-alert",Ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ae=J("circle-check-big",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ks=J("circle-x",Bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$h=J("clock",Vf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mh=J("copy",Wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hf=J("database",qf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gf=J("dollar-sign",Kf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Lt=J("download",Jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yf=J("eye-off",Qf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tr=J("eye",Xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dt=J("file-text",Zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],bi=J("file",e0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],r0=J("folder-open",t0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],n0=J("folder-tree",s0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],sh=J("folder",a0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l0=J("funnel",i0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zs=J("globe",o0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],d0=J("grid-3x3",c0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Uh=J("image",u0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Fh=J("inbox",h0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],m0=J("layout-dashboard",p0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Xo=J("link-2",f0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],x0=J("list",g0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],So=J("loader",y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],b0=J("lock",v0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],j0=J("log-in",w0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],_0=J("log-out",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],st=J("mail",k0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],er=J("map-pin",S0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],nh=J("message-circle",E0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],yr=J("message-square",C0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mo=J("pen",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Br=J("phone",P0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],zh=J("play",T0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Si=J("plus",O0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ah=J("qr-code",R0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],I0=J("refresh-cw",L0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ih=J("save",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Vr=J("search",$0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pi=J("send",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uo=J("settings",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Bt=J("shield",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Eo=J("smartphone",z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],vi=J("sparkles",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],W0=J("square-pen",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Jn=J("star",q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ei=J("trash-2",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],G0=J("trash",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Bh=J("trending-up",J0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],en=J("triangle-alert",Q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],rn=J("upload",Y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Qn=J("user-check",X0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vh=J("user",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],St=J("users",eg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],rg=J("video",tg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sn=J("x",sg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ag=J("zap",ng);function lh(){const a=qe.length,s=qe.filter(m=>m.appliedDate==="2025-12-13").length;qe.filter(m=>new Date(m.appliedDate)>=new Date("2025-12-06")).length;const n={Applied:qe.filter(m=>m.status==="Applied").length,Pending:qe.filter(m=>m.status==="Pending").length,Deployed:qe.filter(m=>m.status==="Deployed").length,Cancelled:qe.filter(m=>m.status==="Cancelled").length},l={WhatsApp:qe.filter(m=>m.source==="WhatsApp").length,Email:qe.filter(m=>m.source==="Email").length,Form:qe.filter(m=>m.source==="Form").length,Manual:qe.filter(m=>m.source==="Manual").length},c={};qe.forEach(m=>{c[m.country]=(c[m.country]||0)+1});const u={};qe.forEach(m=>{u[m.position]=(u[m.position]||0)+1});const h=ds.filter(m=>m.status==="Open").length,f=Hs.length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Welcome to Falisha Manpower Recruitment Portal"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90",children:"Total Candidates"}),t.jsx("p",{className:"text-4xl font-bold mt-2",children:a}),t.jsxs("p",{className:"text-sm mt-2 bg-white bg-opacity-20 px-2 py-1 rounded inline-block",children:["+",s," today"]})]}),t.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx(St,{className:"w-8 h-8"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90",children:"Open Job Orders"}),t.jsx("p",{className:"text-4xl font-bold mt-2",children:h}),t.jsxs("p",{className:"text-sm mt-2 opacity-75",children:[ds.length," total orders"]})]}),t.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx(Zt,{className:"w-8 h-8"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90",children:"Active Employers"}),t.jsx("p",{className:"text-4xl font-bold mt-2",children:f}),t.jsx("p",{className:"text-sm mt-2 opacity-75",children:"Registered companies"})]}),t.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx(_i,{className:"w-8 h-8"})})]})}),t.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90",children:"Deployed"}),t.jsx("p",{className:"text-4xl font-bold mt-2",children:n.Deployed}),t.jsx("p",{className:"text-sm mt-2 opacity-75",children:"Successfully placed"})]}),t.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx(Qn,{className:"w-8 h-8"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Status Breakdown"}),t.jsx("div",{className:"space-y-5",children:Object.entries(n).map(([m,x])=>{const y=x/a*100,b={Applied:{bg:"bg-blue-50",bar:"bg-gradient-to-r from-blue-500 to-blue-600",text:"text-blue-700"},Pending:{bg:"bg-yellow-50",bar:"bg-gradient-to-r from-yellow-500 to-yellow-600",text:"text-yellow-700"},Deployed:{bg:"bg-green-50",bar:"bg-gradient-to-r from-green-500 to-green-600",text:"text-green-700"},Cancelled:{bg:"bg-red-50",bar:"bg-gradient-to-r from-red-500 to-red-600",text:"text-red-700"}};return t.jsxs("div",{className:`p-3 rounded-lg ${b[m].bg}`,children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:`text-sm font-semibold ${b[m].text}`,children:m}),t.jsxs("span",{className:`text-sm font-bold ${b[m].text}`,children:[x," (",y.toFixed(0),"%)"]})]}),t.jsx("div",{className:"w-full bg-white rounded-full h-3 shadow-inner",children:t.jsx("div",{className:`h-3 rounded-full ${b[m].bar} shadow-sm transition-all duration-500`,style:{width:`${y}%`}})})]},m)})})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Application Source"}),t.jsx("div",{className:"space-y-5",children:Object.entries(l).map(([m,x])=>{const y=x/a*100,b={WhatsApp:{bg:"bg-green-50",bar:"bg-gradient-to-r from-green-500 to-emerald-600"},Email:{bg:"bg-blue-50",bar:"bg-gradient-to-r from-blue-500 to-cyan-600"},Form:{bg:"bg-purple-50",bar:"bg-gradient-to-r from-purple-500 to-pink-600"},Manual:{bg:"bg-gray-50",bar:"bg-gradient-to-r from-gray-500 to-slate-600"}};return t.jsxs("div",{className:`p-3 rounded-lg ${b[m].bg}`,children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:m}),t.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[x," (",y.toFixed(0),"%)"]})]}),t.jsx("div",{className:"w-full bg-white rounded-full h-3 shadow-inner",children:t.jsx("div",{className:`h-3 rounded-full ${b[m].bar} shadow-sm transition-all duration-500`,style:{width:`${y}%`}})})]},m)})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(er,{className:"w-5 h-5 text-blue-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Country Distribution"})]}),t.jsx("div",{className:"space-y-3",children:Object.entries(c).sort((m,x)=>x[1]-m[1]).map(([m,x],y)=>t.jsxs("div",{className:"flex justify-between items-center py-3 px-4 rounded-lg hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),t.jsx("span",{className:"font-medium text-gray-900",children:m})]}),t.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:x})]},m))})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx($o,{className:"w-5 h-5 text-green-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Position Distribution"})]}),t.jsx("div",{className:"space-y-3",children:Object.entries(u).sort((m,x)=>x[1]-m[1]).map(([m,x],y)=>t.jsxs("div",{className:"flex justify-between items-center py-3 px-4 rounded-lg hover:bg-green-50 transition-colors border-b border-gray-100 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),t.jsx("span",{className:"font-medium text-gray-900",children:m})]}),t.jsx("span",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:x})]},m))})]})]}),t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Bh,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-blue-900",children:"AI Insights & Recommendations"}),t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsxs("p",{className:"text-sm text-blue-800",children:[" ",t.jsx("strong",{children:"Electrician applications increased by 32%"})," this week. High demand for UAE positions."]}),t.jsxs("p",{className:"text-sm text-blue-800",children:[" ",t.jsx("strong",{children:"Saudi Arabia is currently the top demand destination"})," with ",c["Saudi Arabia"]," active candidates."]}),t.jsxs("p",{className:"text-sm text-blue-800",children:[" ",t.jsx("strong",{children:"Recommendation:"})," Push marketing for Welder and Steel Fixer positions - high AI matching scores detected."]}),t.jsxs("p",{className:"text-sm text-blue-800",children:[" ",t.jsx("strong",{children:"Alert:"})," 5 candidates pending document verification for more than 3 days. Follow-up required."]})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(vr,{className:"w-5 h-5 text-gray-600"}),t.jsx("h3",{children:"Recent Applications"})]}),t.jsx("div",{className:"space-y-3",children:qe.slice(0,5).map(m=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx(St,{className:"w-5 h-5 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("p",{children:m.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[m.position,"  ",m.country]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${m.status==="Applied"?"bg-blue-100 text-blue-700":m.status==="Pending"?"bg-yellow-100 text-yellow-700":m.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.appliedDate})]})]},m.id))})]})]})}const ig={},lg="https://recruitment-portal-backend-production-d1f7.up.railway.app/api",og=()=>{const a=ig?.VITE_API_BASE_URL;return a&&a!=="/api"&&a.trim()!==""?a:typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?lg:"/api"},Ys=og();console.log("[API Client] API_BASE_URL:",Ys);console.log("[API Client] Environment:","production");console.log("[API Client] Hostname:",typeof window<"u"?window.location.hostname:"server");async function as(a,s={}){const n=`${Ys}${a}`,l=await fetch(n,{headers:{"Content-Type":"application/json",...s.headers||{}},...s});if(!l.ok){const c=await l.text().catch(()=>"");throw new Error(`${l.status}: ${c||l.statusText}`)}if(l.status!==204)return await l.json()}const is={async listInboxMessages(a){const s=new URLSearchParams;return a?.limit!=null&&s.set("limit",String(a.limit)),a?.offset!=null&&s.set("offset",String(a.offset)),a?.source&&s.set("source",a.source),a?.status&&s.set("status",a.status),as(`/cv-inbox?${s.toString()}`)},async listAttachments(a){return as(`/cv-inbox/${a}/attachments`)},async createInboxMessage(a){return as("/cv-inbox",{method:"POST",body:JSON.stringify(a)})},async uploadAttachment(a,s){return as(`/cv-inbox/${a}/attachments`,{method:"POST",body:JSON.stringify(s)})},async deleteAttachment(a){return as(`/cv-inbox/attachments/${a}`,{method:"DELETE"})},async triggerParsing(a){return as(`/cv-inbox/attachments/${a}/process`,{method:"POST",body:JSON.stringify({})})},async getParsingJob(a){return as(`/parsing-jobs/${a}`)}};class cg{async request(s,n={}){const l=`${Ys}${s}`,c=await fetch(l,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!c.ok){const u=await c.text();throw new Error(`API Error: ${c.status} ${u}`)}return c.json()}async getCandidates(s={}){const n=new URLSearchParams;s.search&&n.append("search",s.search),s.status&&s.status!=="all"&&n.append("status",s.status),s.position&&s.position!=="all"&&n.append("position",s.position),s.country_of_interest&&s.country_of_interest!=="all"&&n.append("country_of_interest",s.country_of_interest),s.documents&&s.documents!=="all"&&n.append("documents",s.documents),s.limit&&n.append("limit",s.limit.toString()),s.offset&&n.append("offset",s.offset.toString());const l=n.toString();return this.request(`/candidates${l?`?${l}`:""}`)}async bulkUpdateCandidateStatus(s,n){return this.request("/candidates/bulk/status",{method:"PATCH",body:JSON.stringify({candidateIds:s,status:n})})}async getCandidate(s){return(await this.request(`/candidates/${s}`)).candidate}async createCandidate(s){return(await this.request("/candidates",{method:"POST",body:JSON.stringify(s)})).candidate}async updateCandidate(s,n){return(await this.request(`/candidates/${s}`,{method:"PUT",body:JSON.stringify(n)})).candidate}async deleteCandidate(s){await this.request(`/candidates/${s}`,{method:"DELETE"})}async uploadDocument(s,n,l,c=!1){const u=new FormData;u.append("file",s),u.append("candidate_id",n),u.append("doc_type",l),u.append("is_primary",c.toString());const h=`${Ys}/documents`,f=await fetch(h,{method:"POST",body:u});if(!f.ok){const x=await f.text();throw new Error(`API Error: ${f.status} ${x}`)}return(await f.json()).document}async getDocument(s){return(await this.request(`/documents/${s}`)).document}async listCandidateDocuments(s){return(await this.request(`/documents/candidate/${s}`)).documents}async getDocumentDownloadUrl(s,n=3600){return(await this.request(`/documents/${s}/download?expiresIn=${n}`)).signedUrl}async getCandidateCVDownload(s){return await this.request(`/candidates/${s}/documents/cv/download`)}async linkCandidateCV(s){return await this.request(`/candidates/${s}/link-cv`,{method:"POST"})}async uploadCandidatePhoto(s,n){const l=new FormData;l.append("photo",n);const c=`${Ys}/candidates/${s}/photo`,u=await fetch(c,{method:"POST",body:l});if(!u.ok){const h=await u.text();throw new Error(`API Error: ${u.status} ${h}`)}return await u.json()}async deleteDocument(s){await this.request(`/documents/${s}`,{method:"DELETE"})}async uploadCandidateDocument(s,n,l="web"){const c=new FormData;c.append("file",s),c.append("candidate_id",n),c.append("source",l);const u=s.size/(1024*1024),h=Math.max(12e4,12e4+u*1e4),f=new AbortController,m=setTimeout(()=>{f.abort()},h);try{const x=`${Ys}/documents/candidate-documents`,b=await fetch(x,{method:"POST",body:c,signal:f.signal});if(clearTimeout(m),!b.ok){const N=await b.text().catch(()=>"");throw new Error(`API Error: ${b.status} ${N}`)}return await b.json()}catch(x){throw clearTimeout(m),x.name==="AbortError"||x.message?.includes("aborted")?new Error(`Upload timeout: The file (${u.toFixed(2)}MB) took too long to upload. Please check your connection and try again.`):x.message?.includes("Failed to fetch")||x.message?.includes("NetworkError")?new Error("Network error: Unable to connect to server. Please check your internet connection and try again."):x}}async getCandidateDocument(s){return await this.request(`/documents/candidate-documents/${s}`)}async updateCandidateDocument(s,n){return await this.request(`/documents/candidate-documents/${s}`,{method:"PATCH",body:JSON.stringify(n)})}async getCandidateDocumentDownload(s){return await this.request(`/documents/candidate-documents/${s}/download`)}async deleteCandidateDocument(s){await this.request(`/documents/candidate-documents/${s}`,{method:"DELETE"})}async listCandidateDocumentsNew(s){return(await this.request(`/documents/candidates/${s}/documents`)).documents||[]}async getVerificationLogsByDocument(s){return await this.request(`/verification-logs/document/${s}`)}async getVerificationLogsByCandidate(s){return await this.request(`/verification-logs/candidate/${s}`)}async getVerificationTimeline(s){const n=new URLSearchParams;return s.candidateId&&n.append("candidateId",s.candidateId),s.documentId&&n.append("documentId",s.documentId),s.limit&&n.append("limit",s.limit.toString()),await this.request(`/verification-logs/timeline?${n.toString()}`)}async getCandidateTimeline(s,n={}){const l=new URLSearchParams;n.limit&&l.append("limit",n.limit.toString()),n.offset&&l.append("offset",n.offset.toString()),n.category&&l.append("category",n.category),n.startDate&&l.append("startDate",n.startDate),n.endDate&&l.append("endDate",n.endDate);const c=l.toString();return this.request(`/timeline/candidate/${s}${c?`?${c}`:""}`)}async getTimelineEvent(s){return(await this.request(`/timeline/${s}`)).event}async createTimelineEvent(s){return(await this.request("/timeline",{method:"POST",body:JSON.stringify(s)})).event}async getEmployers(s={}){const n=new URLSearchParams;s.search&&n.append("search",s.search),s.limit&&n.append("limit",s.limit.toString()),s.offset&&n.append("offset",s.offset.toString());const l=n.toString();return this.request(`/employers${l?`?${l}`:""}`)}async getEmployer(s){return(await this.request(`/employers/${s}`)).employer}async createEmployer(s){return(await this.request("/employers",{method:"POST",body:JSON.stringify(s)})).employer}async updateEmployer(s,n){return(await this.request(`/employers/${s}`,{method:"PUT",body:JSON.stringify(n)})).employer}async deleteEmployer(s){await this.request(`/employers/${s}`,{method:"DELETE"})}async generateJobCode(){return(await this.request("/job-orders/generate-code")).jobCode}async getJobOrders(s={},n=!1){const l=new URLSearchParams;s.search&&l.append("search",s.search),s.employer_id&&l.append("employer_id",s.employer_id),s.limit&&l.append("limit",s.limit.toString()),s.offset&&l.append("offset",s.offset.toString()),n&&l.append("includeEmployer","true");const c=l.toString();return this.request(`/job-orders${c?`?${c}`:""}`)}async getJobOrder(s,n=!1){const l=n?"?includeEmployer=true":"";return(await this.request(`/job-orders/${s}${l}`)).jobOrder}async createJobOrder(s){return(await this.request("/job-orders",{method:"POST",body:JSON.stringify(s)})).jobOrder}async updateJobOrder(s,n){return(await this.request(`/job-orders/${s}`,{method:"PUT",body:JSON.stringify(n)})).jobOrder}async deleteJobOrder(s){await this.request(`/job-orders/${s}`,{method:"DELETE"})}async extractCandidateData(s,n){const l=new AbortController,c=setTimeout(()=>l.abort(),3e4);try{const u=await this.request(`/candidates/${s}/extract`,{method:"POST",body:JSON.stringify({cvUrl:n}),signal:l.signal});return clearTimeout(c),u}catch(u){throw clearTimeout(c),u.name==="AbortError"?new Error("Extraction timeout: The process took too long. Please try again."):u}}async updateExtraction(s,n,l,c){return this.request(`/candidates/${s}/extraction`,{method:"PUT",body:JSON.stringify({extractedData:n,approved:l,notes:c})})}async approveExtraction(s,n,l){return this.updateExtraction(s,n,!0,l)}async getExtractionHistory(s){return this.request(`/candidates/${s}/extraction-history`)}}const Be=new cg;function dg({candidateId:a,extractedData:s,onClose:n,onApprove:l,onReject:c}){const[u,h]=D.useState(s),[f,m]=D.useState(""),[x,y]=D.useState([]),[b,N]=D.useState(!1),[E,R]=D.useState(!1);D.useEffect(()=>{w()},[a]);const w=async()=>{try{const S=await Be.getExtractionHistory(a);y(S.history||[])}catch(S){console.error("Failed to load extraction history:",S)}},O=S=>S?S>=.9?"text-green-600":S>=.7?"text-yellow-600":"text-red-600":"text-gray-400",U=S=>S?S>=.9?"High":S>=.7?"Medium":"Low":"Unknown",z=async()=>{R(!0);try{await l(u,f),n()}catch(S){console.error("Failed to approve extraction:",S)}finally{R(!1)}},V=async()=>{if(!f.trim()){alert("Please provide a reason for rejection");return}R(!0);try{await c(f),n()}catch(S){console.error("Failed to reject extraction:",S)}finally{R(!1)}},G=(S,A)=>{h(H=>({...H,[S]:A}))};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Extracted Data"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and edit the automatically extracted CV data before saving"})]}),t.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(sn,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[t.jsx(th,{className:"w-5 h-5"}),t.jsx("span",{className:"font-semibold",children:"AI-Extracted Data"})]}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This data was automatically extracted from the CV. Please review and correct any errors."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nationality",u.extraction_confidence?.nationality&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.nationality)}`,children:["(",U(u.extraction_confidence.nationality)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.nationality||"",onChange:S=>G("nationality",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position",u.extraction_confidence?.position&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.position)}`,children:["(",U(u.extraction_confidence.position)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.position||"",onChange:S=>G("position",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Years of Experience",u.extraction_confidence?.experience_years&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.experience_years)}`,children:["(",U(u.extraction_confidence.experience_years)," confidence)"]})]}),t.jsx("input",{type:"number",value:u.experience_years||"",onChange:S=>G("experience_years",parseInt(S.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country of Interest",u.extraction_confidence?.country_of_interest&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.country_of_interest)}`,children:["(",U(u.extraction_confidence.country_of_interest)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.country_of_interest||"",onChange:S=>G("country_of_interest",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passport Expiry"}),t.jsx("input",{type:"date",value:u.passport_expiry||"",onChange:S=>G("passport_expiry",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Education",u.extraction_confidence?.education&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.education)}`,children:["(",U(u.extraction_confidence.education)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.education||"",onChange:S=>G("education",S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Skills (comma-separated)",u.extraction_confidence?.skills&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.skills)}`,children:["(",U(u.extraction_confidence.skills)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.skills?.join(", ")||"",onChange:S=>G("skills",S.target.value.split(",").map(A=>A.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Languages (comma-separated)",u.extraction_confidence?.languages&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.languages)}`,children:["(",U(u.extraction_confidence.languages)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.languages?.join(", ")||"",onChange:S=>G("languages",S.target.value.split(",").map(A=>A.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Certifications (comma-separated)",u.extraction_confidence?.certifications&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.certifications)}`,children:["(",U(u.extraction_confidence.certifications)," confidence)"]})]}),t.jsx("input",{type:"text",value:u.certifications?.join(", ")||"",onChange:S=>G("certifications",S.target.value.split(",").map(A=>A.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Previous Employment",u.extraction_confidence?.previous_employment&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.previous_employment)}`,children:["(",U(u.extraction_confidence.previous_employment)," confidence)"]})]}),t.jsx("textarea",{value:u.previous_employment||"",onChange:S=>G("previous_employment",S.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professional Summary",u.extraction_confidence?.professional_summary&&t.jsxs("span",{className:`ml-2 text-xs ${O(u.extraction_confidence.professional_summary)}`,children:["(",U(u.extraction_confidence.professional_summary)," confidence)"]})]}),t.jsx("textarea",{value:u.professional_summary||"",onChange:S=>G("professional_summary",S.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Notes (optional)"}),t.jsx("textarea",{value:f,onChange:S=>m(S.target.value),placeholder:"Add any notes about the review or corrections made...",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),x.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsxs("button",{onClick:()=>N(!b),className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-800",children:[t.jsx($h,{className:"w-4 h-4"}),b?"Hide":"Show"," Extraction History (",x.length,")"]}),b&&t.jsx("div",{className:"mt-4 space-y-3",children:x.map((S,A)=>t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[S.extraction_source==="automated"?t.jsx(th,{className:"w-4 h-4 text-blue-600"}):t.jsx(Vh,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.extraction_source==="automated"?"AI Extraction":"Human Review"})]}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.extracted_at).toLocaleString()})]}),S.notes&&t.jsx("p",{className:"text-sm text-gray-600",children:S.notes})]},A))})]})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[t.jsxs("button",{onClick:V,disabled:E,className:"px-6 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 flex items-center gap-2",children:[t.jsx(en,{className:"w-4 h-4"}),"Reject"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:n,disabled:E,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsxs("button",{onClick:z,disabled:E,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[t.jsx(ki,{className:"w-4 h-4"}),"Approve & Save"]})]})]})]})})}const ug=a=>({1:[{id:"doc-001",fileName:"Ahmed_Hassan_CV.pdf",fileType:"PDF",category:"CV",uploadedBy:"System (Auto)",uploadedDate:"2024-12-13",fileSize:"245 KB",status:"verified"},{id:"doc-002",fileName:"Ahmed_Hassan_Passport.pdf",fileType:"PDF",category:"Passport",uploadedBy:"Admin",uploadedDate:"2024-12-10",fileSize:"1.2 MB",status:"verified",expiryDate:"2028-05-15"},{id:"doc-004",fileName:"Electrical_Certificate.pdf",fileType:"PDF",category:"Certificate",uploadedBy:"Admin",uploadedDate:"2024-12-08",fileSize:"890 KB",status:"verified",expiryDate:"2026-12-31"}],"AUTO-001":[{id:"doc-003",fileName:"Maria_Garcia_CV.pdf",fileType:"PDF",category:"CV",uploadedBy:"System (WhatsApp)",uploadedDate:"2024-12-13",fileSize:"180 KB",status:"verified"}],2:[{id:"doc-005",fileName:"Mohammed_Ali_Medical.pdf",fileType:"PDF",category:"Medical",uploadedBy:"Admin",uploadedDate:"2024-11-20",fileSize:"650 KB",status:"expired",expiryDate:"2024-11-30"}],"AUTO-002":[{id:"doc-006",fileName:"John_Smith_CV.docx",fileType:"DOCX",category:"CV",uploadedBy:"System (Email)",uploadedDate:"2024-12-13",fileSize:"312 KB",status:"pending"}],3:[{id:"doc-007",fileName:"Rajesh_Photo.jpg",fileType:"JPG",category:"Photo",uploadedBy:"Admin",uploadedDate:"2024-12-13",fileSize:"450 KB",status:"verified"}]})[a]||[];function Wn(a){if(!a)return[];if(Array.isArray(a))return a.filter(s=>typeof s=="string");if(typeof a=="string")try{const s=JSON.parse(a);return Array.isArray(s)?s.filter(n=>typeof n=="string"):[]}catch{return a.split(",").map(s=>s.trim()).filter(s=>s.length>0)}return[]}function hg({candidate:a,onClose:s,initialTab:n="details",onDocumentChange:l}){const[c,u]=D.useState(!1),[h,f]=D.useState(a),[m,x]=D.useState([]),[y,b]=D.useState(!0),[N,E]=D.useState(n),[R,w]=D.useState(!1),[O,U]=D.useState(!1),[z,V]=D.useState(!1),[G,S]=D.useState(null),[A,H]=D.useState(null);D.useEffect(()=>{if(O){const M=setTimeout(()=>{console.warn("[Upload] Safety timeout: Uploading state stuck, resetting"),U(!1),H("Upload timed out. Please try again.")},18e4);return()=>clearTimeout(M)}},[O]);const[ae,le]=D.useState(!1),[ge,Ne]=D.useState(!1),ve=async()=>{try{b(!0);const Q=(await Be.listCandidateDocumentsNew(a.id)).map(X=>{let be="Other";X.category==="cv_resume"?be="CV":X.category==="passport"?be="Passport":X.category==="certificates"?be="Certificate":X.category==="contracts"?be="Contract":X.category==="medical_reports"?be="Medical":X.category==="photos"&&(be="Photo");let we="pending";return X.verification_status==="verified"?we="verified":X.verification_status==="needs_review"||X.verification_status==="pending_ai"?we="pending":(X.verification_status==="rejected_mismatch"||X.verification_status==="failed")&&(we="expired"),{id:X.id,fileName:X.file_name||"Unknown",fileType:X.mime_type?.split("/")[1]?.toUpperCase()||"PDF",category:be,uploadedBy:X.uploaded_by_user_id||"System",uploadedDate:X.created_at?new Date(X.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],fileSize:X.file_size?`${(X.file_size/1024).toFixed(0)} KB`:"0 KB",status:we,expiryDate:X.expiry_date}});x(Q)}catch(M){console.error("Error fetching documents:",M),x(ug(a.id))}finally{b(!1)}};D.useEffect(()=>{N==="documents"&&ve()},[a.id,N]);const ye=()=>{le(!0)},Xe=async()=>{const M=`${window.location.origin}/safe-cv/${a.id}`;try{await navigator.clipboard.writeText(M),Ne(!0),setTimeout(()=>Ne(!1),2e3)}catch(Q){console.error("Failed to copy link:",Q)}},gt=()=>{window.print()},He=()=>{u(!0)},Ee=()=>{u(!1),f(h)},q=M=>{const{name:Q,value:X}=M.target;f({...h,[Q]:X})},se=()=>{console.log("[Upload] Button clicked - opening file picker"),H(null);try{const M=document.createElement("input");M.type="file",M.accept=".pdf,.doc,.docx,.jpg,.jpeg,.png",M.multiple=!0,M.oncancel=()=>{console.log("[Upload] File picker cancelled by user"),U(!1)},M.onchange=async Q=>{console.log("[Upload] File selected:",Q.target.files?.length||0,"files");const X=Q.target.files;if(!X||X.length===0){console.log("[Upload] No files selected - resetting state"),U(!1);return}if(X){H(null),U(!0);let be=setTimeout(()=>{console.warn("Upload safety timeout: Resetting uploading state"),U(!1)},3e5);try{const we=[],Ze=[];for(const Me of Array.from(X)){const L=(async()=>{try{const Z=await Be.uploadCandidateDocument(Me,a.id,"web");return Z.document?.id&&we.push(Z.document.id),{success:!0,file:Me.name}}catch(Z){console.error("Error uploading document:",Z);const oe=Z instanceof Error?Z.message:"Unknown error occurred";let de=`Failed to upload ${Me.name}`;return oe.includes("timeout")||oe.includes("aborted")||oe.includes("Upload timeout")?de=`${Me.name}: Upload timeout. Please check your connection and try again.`:oe.includes("File exceeds")||oe.includes("size limit")?de=`${Me.name}: File is too large (max 10MB)`:oe.includes("Unsupported file type")||oe.includes("file type")?de=`${Me.name}: Unsupported file type. Allowed: PDF, DOC, DOCX, JPG, PNG`:oe.includes("network")||oe.includes("fetch")?de=`${Me.name}: Network error. Please check your connection and try again.`:oe.includes("Candidate not found")?de=`${Me.name}: Candidate not found. Please refresh the page.`:oe&&(de=`${Me.name}: ${oe}`),H(de),{success:!1,file:Me.name,error:de}}})();Ze.push(L)}await Promise.allSettled(Ze),U(!1);try{await ve()}catch(Me){console.error("Error fetching documents after upload:",Me)}if(we.length>0){let L=0,Z=!1;for(;L<15&&!Z;){await new Promise(oe=>setTimeout(oe,2e3));try{const de=(await Be.listCandidateDocumentsNew(a.id)).filter(je=>we.includes(je.id)&&je.category==="cv_resume"&&je.verification_status!=="pending_ai").sort((je,Ue)=>new Date(Ue.created_at).getTime()-new Date(je.created_at).getTime())[0];if(de?.storage_path){Z=!0,w(!0);try{const je=Be.extractCandidateData(a.id,de.storage_path),Ue=new Promise((nt,ut)=>setTimeout(()=>ut(new Error("Extraction timeout: The process took too long. Please try again.")),3e4)),xt=await Promise.race([je,Ue]);xt&&xt.success?(S(xt.data),V(!0),w(!1)):(H(xt?.error||"Failed to extract CV data"),w(!1))}catch(je){console.error("Extraction error:",je),H(je instanceof Error?je.message:"CV extraction failed. The document may still be processing. Please refresh the page."),w(!1)}break}}catch(oe){console.error("Error checking document status:",oe)}L++}await ve(),Z||(console.log("Uploaded documents are not CVs - no extraction needed"),await ve())}else await ve()}catch(we){console.error("Upload error:",we),H(we instanceof Error?we.message:"An error occurred during upload")}finally{be&&(clearTimeout(be),be=null),U(!1)}}},M.onerror=Q=>{console.error("[Upload] File input error:",Q),H("Failed to open file picker. Please try again."),U(!1)},console.log("[Upload] Triggering file picker...");try{M.click(),console.log("[Upload] File picker triggered successfully")}catch(Q){console.error("[Upload] Error triggering file picker:",Q),H("Failed to open file picker. Please check your browser settings.")}}catch(M){console.error("[Upload] Error in handleUploadDocument:",M),H("Failed to open file picker. Please try again."),U(!1)}},I=async M=>{try{const Q=await Be.getCandidateDocumentDownload(M.id);window.open(Q.download_url,"_blank")}catch(Q){console.error("Error viewing document:",Q),alert(Q?.message||"Failed to view document")}},k=async M=>{try{const Q=await Be.getCandidateDocumentDownload(M.id),X=document.createElement("a");X.href=Q.download_url,X.download=M.fileName,document.body.appendChild(X),X.click(),document.body.removeChild(X)}catch(Q){console.error("Error downloading document:",Q),alert(Q?.message||"Failed to download document")}},$=async M=>{if(confirm(`Are you sure you want to delete "${M.fileName}"? This action cannot be undone.`))try{console.log("[DeleteDocument] Deleting document:",M.id,M.fileName,M.category),await Be.deleteCandidateDocument(M.id),console.log("[DeleteDocument] Document deleted successfully"),await new Promise(Q=>setTimeout(Q,500)),await ve(),console.log("[DeleteDocument] Documents refreshed"),l?(console.log("[DeleteDocument] Calling onDocumentChange callback"),setTimeout(()=>{l()},300)):console.warn("[DeleteDocument] onDocumentChange callback not provided")}catch(Q){console.error("[DeleteDocument] Error deleting document:",Q),alert(Q?.message||"Failed to delete document")}},ce=M=>{switch(M){case"CV":return t.jsx(dt,{className:"w-4 h-4"});case"Passport":return t.jsx(bi,{className:"w-4 h-4"});case"Photo":return t.jsx(Uh,{className:"w-4 h-4"});default:return t.jsx(bi,{className:"w-4 h-4"})}},fe=async M=>{try{await Be.approveExtraction(a.id,M),V(!1),S(null),f({...h,...M})}catch(Q){console.error("Failed to approve extraction:",Q),H("Failed to save extracted data")}};return t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[t.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"bg-white border-b border-gray-200 p-6 flex items-start justify-between flex-shrink-0",children:[t.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-blue-600 font-bold text-lg",children:((a.name||"UK").trim()||"UK").substring(0,2).toUpperCase()})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.name||"Unknown"}),t.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[a.position||"Candidate","  ",a.email||"No email"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!c&&t.jsxs("button",{onClick:He,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Mo,{className:"w-4 h-4"}),"Edit"]}),c&&t.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(ih,{className:"w-4 h-4"}),"Save"]}),t.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(sn,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"bg-white border-b border-gray-200 px-6 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center gap-8",children:[t.jsx("button",{onClick:()=>E("details"),className:`py-3 text-sm font-medium border-b-2 transition-colors ${N==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Candidate Details"}),t.jsxs("button",{onClick:()=>E("documents"),className:`py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${N==="documents"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[t.jsx(dt,{className:"w-4 h-4"}),"Documents",m.length>0&&t.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded-full text-xs font-medium",children:m.length})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:N==="details"?t.jsxs("div",{className:"p-6 space-y-6",children:[a.profile_photo_url&&t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"relative",children:t.jsx("img",{src:a.profile_photo_url,alt:a.name,className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 shadow-lg",onError:M=>{M.currentTarget.style.display="none"}})})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Status"}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm inline-block ${a.status==="Applied"?"bg-blue-100 text-blue-700":a.status==="Pending"?"bg-yellow-100 text-yellow-700":a.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.status})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"AI Matching Score"}),t.jsxs("p",{className:"text-2xl",children:[a.ai_score||0,"/10"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Contact Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(st,{className:"w-5 h-5 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),t.jsx("input",{type:"email",name:"email",value:h.email||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Br,{className:"w-5 h-5 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),t.jsx("input",{type:"tel",name:"phone",value:h.phone||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(er,{className:"w-5 h-5 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Country of Interest"}),t.jsx("input",{type:"text",name:"country_of_interest",value:h.country_of_interest||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Zs,{className:"w-5 h-5 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Nationality"}),t.jsx("input",{type:"text",name:"nationality",value:h.nationality||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Professional Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Zt,{className:"w-5 h-5 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Position"}),t.jsx("input",{type:"text",name:"position",value:h.position||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(vr,{className:"w-5 h-5 text-gray-400 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Applied Date"}),t.jsx("input",{type:"date",name:"created_at",value:h.created_at?.split("T")[0]||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[a.passport_received?t.jsx(Ae,{className:"w-5 h-5 text-green-500 mt-1"}):t.jsx(Ks,{className:"w-5 h-5 text-red-500 mt-1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Passport Status"}),t.jsx("p",{className:"text-sm",children:a.passport_received?"Received":"Not Received"})]})]})]})]}),(()=>{const M=Wn(a.skills);return M.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Skills & Competencies"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:M.map((Q,X)=>t.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:Q},X))})]})})(),(()=>{const M=Wn(a.languages);return M.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Languages"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:M.map((Q,X)=>t.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:Q},X))})]})})(),a.education&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Education"}),t.jsx("div",{className:"bg-purple-50 border border-purple-200 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm whitespace-pre-line",children:a.education})})]}),a.certifications&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Certifications"}),t.jsx("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm whitespace-pre-line",children:a.certifications})})]}),a.previous_employment&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Work Experience"}),t.jsx("div",{className:"bg-indigo-50 border border-indigo-200 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm whitespace-pre-line",children:a.previous_employment})})]}),a.professional_summary&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Professional Summary"}),t.jsx("div",{className:"bg-teal-50 border border-teal-200 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm whitespace-pre-line",children:a.professional_summary})})]}),a.source&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Application Details"}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Application Source"}),t.jsx("p",{className:"text-sm",children:a.source})]})]}),a.videoLink&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Video Profile"}),t.jsxs("a",{href:a.videoLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[t.jsx(rg,{className:"w-5 h-5"}),"Watch Video Profile"]})]}),a.notes&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"Notes & Remarks"}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:t.jsx("p",{className:"text-sm",children:a.notes})})]}),(a.experience_years||a.position||a.ai_score)&&t.jsxs("div",{children:[t.jsx("h3",{className:"mb-4",children:"AI Analysis"}),t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 p-4 rounded-lg space-y-2",children:[(a.experience_years||a.position)&&t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{children:"Strengths:"}),a.experience_years?` ${a.experience_years} years of experience`:"",a.position?` in ${a.position}`:"",".",(()=>{const M=Wn(a.skills);return M.length>0?` Strong skill set including ${M.slice(0,3).join(", ")}.`:""})()]}),a.country_of_interest&&a.country_of_interest!=="missing"&&t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{children:"Recommendation:"})," Highly suitable for ",a.country_of_interest," market.",a.passport_received?" Passport ready - can deploy quickly.":" Passport needed - estimated 2-3 weeks."]}),a.ai_score&&t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{children:"Match Score:"})," ",a.ai_score,"/10 based on experience, skills, and market demand."]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[c?t.jsxs("button",{onClick:Ee,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[t.jsx(ih,{className:"w-4 h-4"}),"Save Changes"]}):t.jsxs("button",{onClick:He,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Mo,{className:"w-4 h-4"}),"Edit Details"]}),t.jsxs("button",{onClick:ye,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Bt,{className:"w-4 h-4"}),"Generate Employer CV"]}),t.jsxs("button",{className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[t.jsx(yr,{className:"w-4 h-4"}),"Send to Employer"]}),t.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Download CV"]})]})]}):t.jsxs("div",{className:"p-6 space-y-4",children:[O&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(So,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Uploading Document..."}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please wait while your file is being uploaded"})]})]}),R&&t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(So,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Extracting CV Data"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Processing your CV with AI... This may take a moment."})]})]}),A&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(ct,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-800",children:"Extraction Error"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:A}),t.jsx("button",{onClick:()=>H(null),className:"text-xs text-red-600 hover:text-red-700 mt-2 underline",children:"Dismiss"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Candidate Documents"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y?"Loading...":`${m.length} files uploaded`})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:ve,disabled:y,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",title:"Refresh documents",children:[t.jsx(I0,{className:`w-4 h-4 ${y?"animate-spin":""}`}),"Refresh"]}),t.jsxs("button",{onClick:se,disabled:R||O,className:`${R||O?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} px-4 py-2 rounded-lg transition-colors flex items-center gap-2`,children:[t.jsx(rn,{className:`w-4 h-4 ${O?"animate-pulse":""}`}),O?"Uploading...":R?"Extracting...":"Upload Document"]})]})]}),y?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx(So,{className:"w-6 h-6 animate-spin text-blue-600"}),t.jsx("span",{className:"ml-2 text-gray-600",children:"Loading documents..."})]}):m.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-3",children:m.map(M=>t.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${M.category==="CV"?"bg-blue-100 text-blue-600":M.category==="Passport"?"bg-purple-100 text-purple-600":M.category==="Certificate"?"bg-green-100 text-green-600":M.category==="Medical"?"bg-red-100 text-red-600":M.category==="Photo"?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600"}`,children:ce(M.category)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-gray-900 truncate",children:M.fileName}),t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[t.jsx("span",{children:M.fileType}),t.jsx("span",{children:""}),t.jsx("span",{children:M.fileSize}),t.jsx("span",{children:""}),t.jsx("span",{className:`px-2 py-0.5 rounded-full ${M.category==="CV"?"bg-blue-100 text-blue-700":M.category==="Passport"?"bg-purple-100 text-purple-700":M.category==="Certificate"?"bg-green-100 text-green-700":M.category==="Medical"?"bg-red-100 text-red-700":M.category==="Photo"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:M.category})]})]}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 flex-shrink-0 ${M.status==="verified"?"bg-green-100 text-green-700":M.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[M.status==="verified"&&t.jsx(Ae,{className:"w-3 h-3"}),M.status==="expired"&&t.jsx(ct,{className:"w-3 h-3"}),M.status==="pending"&&t.jsx(ct,{className:"w-3 h-3"}),M.status.charAt(0).toUpperCase()+M.status.slice(1)]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(vr,{className:"w-3 h-3"}),t.jsxs("span",{children:["Uploaded ",M.uploadedDate]})]}),t.jsxs("div",{children:["By ",M.uploadedBy]}),M.expiryDate&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ct,{className:"w-3 h-3"}),t.jsxs("span",{children:["Expires: ",M.expiryDate]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>I(M),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm",children:[t.jsx(tr,{className:"w-3.5 h-3.5"}),"View"]}),t.jsxs("button",{onClick:()=>k(M),className:"px-3 py-1.5 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-1.5 text-sm",children:[t.jsx(Lt,{className:"w-3.5 h-3.5"}),"Download"]}),t.jsxs("button",{onClick:()=>$(M),className:"px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-1.5 text-sm",children:[t.jsx(Ei,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})]})},M.id))}):t.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[t.jsx(dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"No documents uploaded yet"}),t.jsxs("button",{onClick:se,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[t.jsx(rn,{className:"w-4 h-4"}),"Upload First Document"]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(ct,{className:"w-4 h-4 text-blue-600"}),"Document Categories"]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-700",children:[t.jsx("div",{children:" CV / Resume"}),t.jsx("div",{children:" Passport"}),t.jsx("div",{children:" Certificates"}),t.jsx("div",{children:" Contracts"}),t.jsx("div",{children:" Medical Reports"}),t.jsx("div",{children:" Photos"}),t.jsx("div",{children:" Other Documents"})]})]})]})})]}),z&&G&&t.jsx(dg,{candidateId:a.id,extractedData:G,onClose:()=>{V(!1),S(null)},onApprove:fe,onReject:M=>{console.log("Extraction rejected:",M),V(!1),S(null)}}),ae&&t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-5xl max-h-[95vh] overflow-hidden flex flex-col shadow-2xl",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex items-center justify-between text-white print:hidden",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx(Bt,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Employer-Safe CV"}),t.jsx("p",{className:"text-sm text-blue-100",children:"Contact information hidden for privacy"})]})]}),t.jsx("button",{onClick:()=>le(!1),className:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-colors",children:t.jsx(sn,{className:"w-6 h-6"})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-b border-purple-200 p-4 flex items-center justify-between gap-4 print:hidden",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(Ae,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Safe to Share"}),t.jsx("p",{className:"text-xs text-gray-600",children:"All sensitive information removed"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Xe,className:`px-4 py-2 rounded-lg transition-all flex items-center gap-2 font-medium ${ge?"bg-green-600 text-white":"bg-purple-600 text-white hover:bg-purple-700"}`,children:ge?t.jsxs(t.Fragment,{children:[t.jsx(ki,{className:"w-4 h-4"}),"Link Copied!"]}):t.jsxs(t.Fragment,{children:[t.jsx(Xo,{className:"w-4 h-4"}),"Copy Share Link"]})}),t.jsxs("button",{onClick:gt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Download PDF"]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-8 print:p-8",children:t.jsxs("div",{id:"printable-cv",className:"max-w-4xl mx-auto bg-white",children:[t.jsx("div",{className:"text-center mb-6",children:t.jsx("img",{src:"/ChatGPT Image Jan 20, 2026, 05_24_22 PM.png",alt:"Falisha Manpower",className:"h-16 mx-auto mb-4"})}),t.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-blue-600",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.name||"Candidate"}),t.jsx("p",{className:"text-lg text-gray-600 mb-2",children:a.position||"Professional"}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zs,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{children:a.nationality||"Not specified"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(er,{className:"w-5 h-5 text-blue-600"}),t.jsxs("span",{children:["Seeking: ",a.country||"Not specified"]})]})]})]}),t.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Bt,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-yellow-900 text-sm mb-1",children:"Contact Information Protected"}),t.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:"For privacy, direct contact details have been removed. Contact Falisha Manpower to reach this candidate."}),t.jsxs("div",{className:"text-xs text-gray-700",children:[t.jsx("p",{children:" falishamanpower4035@gmail.com"}),t.jsx("p",{children:" +92330 3333335"})]})]})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[t.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),"Professional Summary"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(vr,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Experience"})]}),t.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[a.experience_years||0," Years"]})]}),t.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Jn,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"AI Match Score"})]}),t.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[a.ai_score?.toFixed(1)||"N/A","/10"]})]})]}),t.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:a.professional_summary||`Highly skilled ${a.position||"professional"} with ${a.experience_years||0} years of professional experience. Seeking opportunities in ${a.country||"various markets"} to contribute technical expertise and drive operational excellence.`})]}),a.previous_employment&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[t.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),"Work Experience"]}),t.jsx("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:t.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:a.previous_employment})})]}),Wn(a.skills).length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[t.jsx(Jn,{className:"w-5 h-5 text-blue-600"}),"Core Skills & Competencies"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:Wn(a.skills).map((M,Q)=>t.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-blue-50 to-purple-50 rounded border border-blue-200 text-gray-800 font-medium text-center text-sm",children:M},Q))})]}),a.education&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[t.jsx(dt,{className:"w-5 h-5 text-blue-600"}),"Education"]}),t.jsx("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-purple-500",children:t.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:a.education})})]}),a.certifications&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[t.jsx(Ae,{className:"w-5 h-5 text-blue-600"}),"Certifications"]}),t.jsx("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-500",children:t.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:a.certifications})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[t.jsx(dt,{className:"w-5 h-5 text-blue-600"}),"Additional Information"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Zs,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Nationality"})]}),t.jsx("p",{className:"text-gray-700 text-sm",children:a.nationality||"Not specified"})]}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(er,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Preferred Location"})]}),t.jsx("p",{className:"text-gray-700 text-sm",children:a.country||"Not specified"})]})]})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Bt,{className:"w-6 h-6 text-blue-600 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1 text-sm",children:"Protected by Falisha Manpower"}),t.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"This employer-safe CV protects candidate privacy. Contact information has been secured."}),t.jsxs("p",{className:"text-xs text-gray-600",children:[t.jsx("strong",{children:"For interviews:"})," falishamanpower4035@gmail.com | +92330 3333335"]})]})]})})}),t.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:t.jsxs("p",{children:["Falisha Manpower AI Recruitment System | Candidate ID: ",a.id]})})]})})]}),t.jsx("style",{children:`
            @media print {
              @page {
                size: A4;
                margin: 0.5in;
              }
              
              body {
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
                margin: 0;
                padding: 0;
              }
              
              /* Hide everything */
              * {
                display: none !important;
                visibility: hidden !important;
              }
              
              /* Show only the printable CV */
              #printable-cv {
                display: block !important;
                visibility: visible !important;
                position: relative !important;
                width: 100% !important;
                height: auto !important;
                margin: 0 !important;
                padding: 0 !important;
                page-break-after: auto;
                page-break-inside: avoid;
              }
              
              #printable-cv * {
                display: block !important;
                visibility: visible !important;
                margin-bottom: 0.5rem !important;
                page-break-inside: avoid !important;
              }
              
              /* Typography */
              #printable-cv h1 { 
                font-size: 20px !important; 
                font-weight: bold !important;
                margin-bottom: 6px !important; 
              }
              #printable-cv h2 { 
                font-size: 14px !important; 
                font-weight: bold !important;
                margin-bottom: 8px !important; 
              }
              #printable-cv p { 
                font-size: 10px !important; 
                line-height: 1.3 !important;
                margin-bottom: 4px !important;
              }
              #printable-cv img {
                max-width: 100% !important;
                height: auto !important;
                margin-bottom: 8px !important;
              }
              
              /* Reduce all spacing */
              #printable-cv .mb-6 { margin-bottom: 8px !important; }
              #printable-cv .mb-4 { margin-bottom: 6px !important; }
              #printable-cv .mb-3 { margin-bottom: 4px !important; }
              #printable-cv .mb-2 { margin-bottom: 2px !important; }
              #printable-cv .mb-1 { margin-bottom: 1px !important; }
              
              #printable-cv .pb-2 { padding-bottom: 4px !important; }
              #printable-cv .pb-4 { padding-bottom: 6px !important; }
              #printable-cv .pb-6 { padding-bottom: 8px !important; }
              
              #printable-cv .p-6 { padding: 6px !important; }
              #printable-cv .p-4 { padding: 4px !important; }
              #printable-cv .p-3 { padding: 3px !important; }
              
              #printable-cv .gap-2 { gap: 2px !important; }
              #printable-cv .gap-3 { gap: 3px !important; }
              #printable-cv .gap-4 { gap: 4px !important; }
              
              /* Grid and flexbox */
              #printable-cv .grid,
              #printable-cv .flex {
                display: flex !important;
              }
              
              #printable-cv .grid-cols-2,
              #printable-cv .grid-cols-3 {
                flex-direction: row !important;
                flex-wrap: wrap !important;
              }
              
              #printable-cv .grid-cols-2 > * {
                flex: 0 0 48% !important;
              }
              
              #printable-cv .grid-cols-3 > * {
                flex: 0 0 31% !important;
              }
              
              /* Keep colors for branding */
              #printable-cv .bg-blue-50,
              #printable-cv .bg-purple-50,
              #printable-cv .bg-yellow-50,
              #printable-cv .bg-gray-50,
              #printable-cv .bg-green-50 {
                print-color-adjust: exact !important;
                -webkit-print-color-adjust: exact !important;
              }
              
              #printable-cv .border,
              #printable-cv .border-b-2,
              #printable-cv .border-l-4 {
                border-color: inherit !important;
                print-color-adjust: exact !important;
                -webkit-print-color-adjust: exact !important;
              }
              
              #printable-cv .text-sm { font-size: 9px !important; }
              #printable-cv .text-xs { font-size: 8px !important; }
              #printable-cv .text-xl { font-size: 12px !important; }
              #printable-cv .text-2xl { font-size: 14px !important; }
              #printable-cv .text-3xl { font-size: 16px !important; }
            }
          `})]})]})}function oh(a){const s=(a||"").trim();if(!s)return"??";const n=s.split(/\s+/).filter(Boolean),l=n[0]?.[0]||"",c=n[1]?.[0]||n[0]?.[1]||"";return`${l}${c}`.toUpperCase()}function pg(a){if(!a)return[];if(Array.isArray(a))return a.filter(s=>typeof s=="string");if(typeof a=="string")try{const s=JSON.parse(a);return Array.isArray(s)?s.filter(n=>typeof n=="string"):[]}catch{return a.includes(",")?a.split(",").map(s=>s.trim()).filter(s=>s.length>0):a.trim()?[a.trim()]:[]}return[]}function mg(a){if(!a)return null;const s=Object.values(a).filter(u=>typeof u=="number"&&isFinite(u));if(s.length===0)return null;const n=s.reduce((u,h)=>u+h,0)/s.length,l=n>1?n/100:n,c=Math.max(0,Math.min(10,l*10));return Math.round(c*10)/10}function fg({initialProfessionFilter:a="all"}){const[s,n]=D.useState([]),[l,c]=D.useState(!0),[u,h]=D.useState(null),[f,m]=D.useState("card"),[x,y]=D.useState(new Set),[b,N]=D.useState("Pending"),[E,R]=D.useState(!1),[w,O]=D.useState({search:"",position:a||"all",country:"all",status:"all"}),[U,z]=D.useState([]),[V,G]=D.useState([]),[S,A]=D.useState([]),[H,ae]=D.useState(null),[le,ge]=D.useState(!1),[Ne,ve]=D.useState("details"),[ye,Xe]=D.useState(null),[gt,He]=D.useState(null),Ee=async()=>{c(!0);try{console.log("[CandidateManagement] Fetching candidates...");const L=await Be.getCandidates({search:w.search,position:w.position,country_of_interest:w.country,status:w.status});console.log("[CandidateManagement] Fetched candidates:",L.candidates?.length||0),n(L.candidates||[]);const Z=Array.from(new Set((L.candidates||[]).map(je=>je.position).filter(Boolean))).sort();z(Z);const oe=Array.from(new Set((L.candidates||[]).map(je=>je.country_of_interest).filter(Boolean))).sort();G(oe);const de=Array.from(new Set((L.candidates||[]).map(je=>je.status||"Applied").filter(Boolean))).sort();A(de.length?de:["Applied","Pending","Deployed","Cancelled"])}catch(L){console.error("[CandidateManagement] Error fetching candidates:",L),h(L?.message||"Failed to load candidates")}finally{c(!1)}};D.useEffect(()=>{Ee()},[w.search,w.position,w.country,w.status]);const q=D.useMemo(()=>s.filter(L=>{const Z=w.search.toLowerCase(),oe=!w.search||L.name.toLowerCase().includes(Z)||L.email?.toLowerCase().includes(Z)||L.phone?.toLowerCase().includes(Z)||L.candidate_code?.toLowerCase().includes(Z),de=w.position==="all"||L.position===w.position,je=w.country==="all"||(L.country_of_interest||"")===w.country,Ue=w.status==="all"||(L.status||"Applied")===w.status;return oe&&de&&je&&Ue}),[s,w]),se=D.useMemo(()=>{const L=s.length,Z=U.length,oe=s.filter(nt=>!!nt.needs_review).length,de=s.filter(nt=>(nt.status||"Applied")==="Deployed").length,je=Date.now(),Ue=10080*60*1e3,xt=s.filter(nt=>{const ut=nt.created_at?Date.parse(nt.created_at):NaN;return Number.isFinite(ut)&&je-ut<=Ue}).length;return{totalCandidates:L,totalProfessions:Z,pendingReview:oe,deployed:de,newThisWeek:xt}},[s,U.length]);D.useMemo(()=>{const L=new Map;for(const Z of s){const oe=(Z.position||"").trim();oe&&L.set(oe,(L.get(oe)||0)+1)}return L},[s]);const I=D.useMemo(()=>q.length===0?!1:q.every(L=>x.has(L.id)),[q,x]);function k(L){y(Z=>{const oe=new Set(Z);return oe.has(L)?oe.delete(L):oe.add(L),oe})}function $(){y(new Set(q.map(L=>L.id)))}function ce(){y(new Set)}async function fe(){if(x.size!==0)try{R(!0);const L=Array.from(x),Z=await Be.bulkUpdateCandidateStatus(L,b),oe=new Set((Z.candidates||[]).map(de=>de.id));n(de=>de.map(je=>oe.has(je.id)?{...je,status:b}:je)),ce()}catch(L){alert(L?.message||"Failed to bulk update status")}finally{R(!1)}}function M(L){ae(L),ve("details"),ge(!0)}function Q(L){ae(L),ve("documents"),ge(!0)}async function X(L){try{const{download_url:Z,filename:oe}=await Be.getCandidateCVDownload(L.id),de=document.createElement("a");de.href=Z,de.download=oe,document.body.appendChild(de),de.click(),document.body.removeChild(de)}catch(Z){Z?.message?.includes("404")?alert("No CV found for this candidate. Please upload a CV first."):alert(Z?.message||"Failed to download CV")}}function be(L){const Z=document.createElement("input");Z.type="file",Z.accept="image/*",Z.onchange=async oe=>{const de=oe.target.files?.[0];if(de){if(de.size>5*1024*1024){alert("Photo must be smaller than 5MB");return}try{Xe(L),console.log("Uploading photo for candidate:",L,"File:",de.name,de.size,"bytes");const je=await Be.uploadCandidatePhoto(L,de);console.log("Photo upload result:",je);const Ue=await Be.getCandidates(w);n(Ue.candidates||[]),alert("Photo uploaded successfully!")}catch(je){console.error("Photo upload error:",je),alert(`Failed to upload photo: ${je?.message||"Unknown error"}`)}finally{Xe(null)}}},Z.click()}async function we(L,Z,oe){if(oe)Z==="cv"?X(s.find(de=>de.id===L)):Ze(L,Z);else if(Z==="cv")try{const de=await Be.linkCandidateCV(L);alert("CV linked successfully from inbox!"),await Ee()}catch(de){de?.message?.includes("404")||de?.message?.includes("not found")?confirm("No CV found in inbox. Would you like to upload a new CV?")&&Me(L,Z):(alert(de?.message||"Failed to link CV. Would you like to upload a new one?"),confirm("Upload a new CV?")&&Me(L,Z))}else Me(L,Z)}async function Ze(L,Z){try{const de=(await Be.listCandidateDocuments(L)).find(Ue=>Ue.doc_type.toLowerCase()===Z.toLowerCase());if(!de){alert(`No ${Z} found`);return}const je=await Be.getDocumentDownloadUrl(de.id);window.open(je,"_blank")}catch(oe){alert(oe?.message||"Failed to view document")}}function Me(L,Z){const oe=document.createElement("input");oe.type="file",oe.accept=Z==="photo"?"image/*":".pdf,.jpg,.jpeg,.png,.doc,.docx",oe.onchange=async de=>{const je=de.target.files?.[0];if(je)try{await Be.uploadDocument(je,L,Z,!1);const Ue=await Be.getCandidates(w);n(Ue.candidates||[]),alert(`${Z} uploaded successfully!`)}catch(Ue){alert(Ue?.message||`Failed to upload ${Z}`)}},oe.click()}return l?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):u?t.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center",children:t.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center max-w-md",children:[t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),t.jsx("p",{className:"text-red-700 mb-4",children:u}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidates"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your candidate pipeline"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Total Candidates"}),t.jsx("div",{className:"text-3xl font-bold mt-2",children:se.totalCandidates})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white shadow-lg",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Total Professions"}),t.jsx("div",{className:"text-3xl font-bold mt-2",children:se.totalProfessions})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg p-6 text-white shadow-lg",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Pending Review"}),t.jsx("div",{className:"text-3xl font-bold mt-2",children:se.pendingReview})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Deployed"}),t.jsx("div",{className:"text-3xl font-bold mt-2",children:se.deployed})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[t.jsx("div",{className:"text-sm opacity-90",children:"New This Week"}),t.jsx("div",{className:"text-3xl font-bold mt-2",children:se.newThisWeek})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("select",{value:w.country,onChange:L=>O(Z=>({...Z,country:L.target.value})),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[t.jsx("option",{value:"all",children:"All Countries"}),V.map(L=>t.jsx("option",{value:L,children:L},L))]}),t.jsxs("select",{value:w.status,onChange:L=>O(Z=>({...Z,status:L.target.value})),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[t.jsx("option",{value:"all",children:"All Status"}),S.map(L=>t.jsx("option",{value:L,children:L},L))]}),t.jsxs("div",{className:"md:col-span-2 relative",children:[t.jsx(Vr,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"text",placeholder:"Search candidates by name, email, phone...",value:w.search,onChange:L=>O(Z=>({...Z,search:L.target.value})),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>m("card"),className:`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${f==="card"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(d0,{className:"w-4 h-4"}),"Cards"]}),t.jsxs("button",{onClick:()=>m("table"),className:`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${f==="table"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[t.jsx(x0,{className:"w-4 h-4"}),"Table"]})]})]}),x.size>0&&t.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[x.size," candidate",x.size>1?"s":""," selected"]}),t.jsx("button",{onClick:ce,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear selection"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("select",{value:b,onChange:L=>N(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",disabled:E,children:[t.jsx("option",{value:"Applied",children:"Applied"}),t.jsx("option",{value:"Pending",children:"Pending"}),t.jsx("option",{value:"Deployed",children:"Deployed"}),t.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),t.jsx("button",{onClick:fe,disabled:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-50",children:E?"Updating...":"Update Status"})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("strong",{children:q.length})," of ",t.jsx("strong",{children:s.length})," candidates"]}),t.jsx("button",{onClick:I?ce:$,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:I?"Deselect All":"Select All"})]})]}),f==="card"?q.length===0?t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vr,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No candidates found"}),t.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters."})]}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:q.map(L=>{const Z=pg(L.skills),oe=mg(L.extraction_confidence),de=typeof L.ai_score=="number"&&isFinite(L.ai_score)?L.ai_score:oe,je=(L.status||"Applied").toString(),Ue=x.has(L.id),xt=!!L.cv_received,nt=!!L.passport_received,ut=!!L.certificate_received||!!L.degree_received,It=!!L.photo_received,lr=!!L.medical_received,Wr=[xt,nt,ut,It,lr].filter(Boolean).length,ms=Wr===5;return t.jsxs("div",{className:`bg-white rounded-xl border-2 transition-all hover:shadow-2xl ${Ue?"border-blue-500 shadow-lg":"border-gray-200"}`,children:[t.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500 to-purple-600 h-32 rounded-t-xl",children:[t.jsx("div",{className:"absolute -bottom-16 left-6",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-xl",children:L.profile_photo_url?t.jsx("img",{src:L.profile_photo_url,alt:L.name,className:"w-full h-full rounded-full object-cover",onError:or=>{or.currentTarget.style.display="none";const qr=or.currentTarget.parentElement;qr&&(qr.innerHTML=`<div class="w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-4xl font-bold text-blue-600">${oh(L.name)}</div>`)}}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-4xl font-bold text-blue-600",children:oh(L.name)})}),t.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors shadow-lg",onClick:or=>{or.stopPropagation(),be(L.id)},disabled:ye===L.id,children:ye===L.id?t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(Of,{className:"w-5 h-5"})})]})}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("input",{type:"checkbox",checked:Ue,onChange:()=>k(L.id),className:"w-6 h-6 text-blue-600 rounded cursor-pointer bg-white border-2 border-white shadow-lg"})})]}),t.jsxs("div",{className:"pt-20 p-6",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:L.name}),L.needs_review&&t.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(en,{className:"w-3 h-3"}),"Review"]}),L.auto_extracted&&!L.needs_review&&t.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(vi,{className:"w-3 h-3"}),"Auto"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[t.jsx(Zt,{className:"w-5 h-5"}),t.jsx("span",{className:"text-lg",children:L.position||""})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[t.jsx("span",{className:"text-sm",children:L.nationality||""}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsx(er,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium text-blue-600",children:L.country_of_interest||""})]})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[t.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex-shrink-0 ${je==="Applied"?"bg-blue-100 text-blue-700":je==="Pending"?"bg-yellow-100 text-yellow-700":je==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:je}),de!=null&&t.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 px-4 py-2 rounded-lg",children:[t.jsx(Jn,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),t.jsx("span",{className:"text-lg font-bold text-gray-900",children:de.toFixed(1)}),t.jsx("span",{className:"text-xs text-gray-500",children:"/10"})]}),L.experience_years!=null&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Zt,{className:"w-4 h-4"}),t.jsxs("span",{className:"font-medium",children:[L.experience_years,"y exp"]})]})]}),t.jsxs("div",{className:"space-y-3 mb-4 pb-4 border-b border-gray-200",children:[L.phone&&t.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Br,{className:"w-4 h-4 text-blue-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Phone"}),t.jsx("div",{className:"text-gray-900 font-medium truncate",children:L.phone})]})]}),L.email&&t.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(st,{className:"w-4 h-4 text-green-600"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),t.jsx("div",{className:"text-gray-900 font-medium truncate",children:L.email})]})]}),L.created_at&&t.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(vr,{className:"w-4 h-4 text-purple-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Applied Date"}),t.jsx("div",{className:"text-gray-900 font-medium",children:new Date(L.created_at).toLocaleDateString()})]})]})]}),Z.length>0&&t.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx($o,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Top Skills"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[Z.slice(0,4).map((or,qr)=>t.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 rounded-lg text-xs font-medium border border-blue-200",children:or},qr)),Z.length>4&&t.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:["+",Z.length-4," more"]})]})]}),t.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dt,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Document List"}),t.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Wr===0?"bg-red-100 text-red-700":ms?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[Wr," files"]})]}),t.jsx("button",{onClick:()=>Q(L),className:"text-xs text-blue-600 hover:text-blue-700",children:"View All "})]}),Wr>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[t.jsxs("div",{onClick:()=>we(L.id,"cv",xt),className:`relative group cursor-pointer ${xt?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[t.jsx(dt,{className:`w-5 h-5 mb-1 ${xt?"text-green-600":"text-red-600"}`}),t.jsx("span",{className:"text-xs font-semibold",children:"CV"}),xt?t.jsx(Ae,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):t.jsx(Ks,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),t.jsxs("div",{onClick:()=>we(L.id,"passport",nt),className:`relative group cursor-pointer ${nt?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[t.jsx(bi,{className:`w-5 h-5 mb-1 ${nt?"text-purple-600":"text-red-600"}`}),t.jsx("span",{className:"text-xs font-semibold",children:"Passport"}),nt?t.jsx(Ae,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):t.jsx(Ks,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),t.jsxs("div",{onClick:()=>we(L.id,"certificate",ut),className:`relative group cursor-pointer ${ut?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[t.jsx($o,{className:`w-5 h-5 mb-1 ${ut?"text-blue-600":"text-red-600"}`}),t.jsx("span",{className:"text-xs font-semibold",children:"Cert"}),ut?t.jsx(Ae,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):t.jsx(Ks,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),t.jsxs("div",{onClick:()=>we(L.id,"photo",It),className:`relative group cursor-pointer ${It?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[t.jsx(Uh,{className:`w-5 h-5 mb-1 ${It?"text-pink-600":"text-red-600"}`}),t.jsx("span",{className:"text-xs font-semibold",children:"Photo"}),It?t.jsx(Ae,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):t.jsx(Ks,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),t.jsxs("div",{onClick:()=>we(L.id,"medical",lr),className:`relative group cursor-pointer ${lr?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[t.jsx(bi,{className:`w-5 h-5 mb-1 ${lr?"text-green-600":"text-red-600"}`}),t.jsx("span",{className:"text-xs font-semibold",children:"Medical"}),lr?t.jsx(Ae,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):t.jsx(Ks,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]})]}),!ms&&t.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-700 flex items-center gap-2",children:[t.jsx(en,{className:"w-3 h-3"}),"Some documents are missing"]}),ms&&t.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-xs text-green-700 flex items-center gap-2",children:[t.jsx(Ae,{className:"w-3 h-3"}),"All documents are valid"]})]}):t.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700 flex items-center gap-2",children:[t.jsx(ct,{className:"w-4 h-4"}),"No documents uploaded yet"]})]}),t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{onClick:()=>M(L),className:"px-5 py-3.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[t.jsx(tr,{className:"w-5 h-5"}),"View Profile"]}),t.jsxs("button",{onClick:()=>X(L),className:"px-5 py-3.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[t.jsx(Lt,{className:"w-5 h-5"}),"Download CV"]})]})})]})]},L.id)})}):t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:t.jsx("p",{className:"text-gray-600 text-center",children:"Table view coming soon..."})}),le&&H&&t.jsx(hg,{candidate:H,initialTab:Ne,onClose:()=>{ge(!1),ae(null)},onDocumentChange:()=>{Ee()}})]})}function gg(a){const s=(a||"").trim();if(!s)return"??";const n=s.split(/\s+/).filter(Boolean),l=n[0]?.[0]||"",c=n[1]?.[0]||n[0]?.[1]||"";return`${l}${c}`.toUpperCase()}function xg(){const[a,s]=D.useState([]),[n,l]=D.useState(!0),[c,u]=D.useState(null),[h,f]=D.useState("");D.useEffect(()=>{let x=!0;return(async()=>{try{const y=await Be.getCandidates();x&&s(y.candidates||[])}catch(y){x&&u(y?.message||"Failed to load candidates")}finally{x&&l(!1)}})(),()=>{x=!1}},[]);const m=D.useMemo(()=>{if(!h)return a;const x=h.toLowerCase();return a.filter(y=>y.name.toLowerCase().includes(x)||y.position?.toLowerCase().includes(x)||y.email?.toLowerCase().includes(x)||y.country_of_interest?.toLowerCase().includes(x))},[a,h]);return n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):c?t.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center",children:t.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center",children:[t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),t.jsx("p",{className:"text-red-700 mb-4",children:c}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidate Browser"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Browse and search all candidates"})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Total Candidates"}),t.jsx("div",{className:"text-2xl font-bold",children:a.length})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Vr,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"text",placeholder:"Search by name, position, email, or country...",value:h,onChange:x=>f(x.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h&&t.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",m.length," of ",a.length," candidates"]})]}),m.length===0?t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vr,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No candidates found"}),t.jsx("p",{className:"text-gray-600",children:h?"Try adjusting your search terms":"Add candidates to see them here"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(x=>{const y=(x.status||"Applied").toString(),b=x.ai_score;return t.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 hover:border-blue-400 hover:shadow-xl transition-all overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 h-24 relative",children:t.jsx("div",{className:"absolute -bottom-10 left-6",children:t.jsx("div",{className:"w-20 h-20 bg-white rounded-full p-1.5 shadow-xl",children:t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-2xl font-bold text-blue-600",children:gg(x.name)})})})}),t.jsxs("div",{className:"pt-14 p-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:x.name}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[t.jsx(Zt,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:x.position||"Position not set"})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200",children:[t.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-medium ${y==="Applied"?"bg-blue-100 text-blue-700":y==="Pending"?"bg-yellow-100 text-yellow-700":y==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y}),b!=null&&t.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg",children:[t.jsx(Jn,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),t.jsx("span",{className:"text-xs font-bold text-gray-900",children:b.toFixed(1)})]})]}),t.jsxs("div",{className:"space-y-2 mb-4",children:[x.email&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("div",{className:"w-6 h-6 bg-green-100 rounded flex items-center justify-center",children:t.jsx(st,{className:"w-3 h-3 text-green-600"})}),t.jsx("span",{className:"text-gray-700 truncate",children:x.email})]}),x.phone&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded flex items-center justify-center",children:t.jsx(Br,{className:"w-3 h-3 text-blue-600"})}),t.jsx("span",{className:"text-gray-700",children:x.phone})]}),x.country_of_interest&&t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded flex items-center justify-center",children:t.jsx(er,{className:"w-3 h-3 text-purple-600"})}),t.jsx("span",{className:"text-gray-700",children:x.country_of_interest})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-500",children:"Documents:"}),t.jsxs("div",{className:"flex items-center gap-1",children:[x.cv_received&&t.jsx(Ae,{className:"w-4 h-4 text-green-500"}),x.passport_received&&t.jsx(Ae,{className:"w-4 h-4 text-green-500"}),x.photo_received&&t.jsx(Ae,{className:"w-4 h-4 text-green-500"}),!x.cv_received&&!x.passport_received&&!x.photo_received&&t.jsx("span",{className:"text-gray-400",children:"None uploaded"})]})]})]})]},x.id)})})]})}function yg(a){if(!a)return null;try{const s=new Date(a),n=new Date;let l=n.getFullYear()-s.getFullYear();const c=n.getMonth()-s.getMonth();return(c<0||c===0&&n.getDate()<s.getDate())&&l--,l}catch{return null}}function ch(a){if(!a)return"missing";try{const s=new Date(a),n=String(s.getDate()).padStart(2,"0"),l=String(s.getMonth()+1).padStart(2,"0"),c=s.getFullYear();return`${n}-${l}-${c}`}catch{return"missing"}}function dh(a,s){if(!a)return"missing";const n=typeof a=="string"?a:JSON.stringify(a),l=n.toLowerCase();let c=null;try{c=JSON.parse(n)}catch{}if(c&&typeof c=="object"){const u=s==="english"?"english":"arabic";if(c[u])return c[u];if(c[s])return c[s]}if(s==="english"){if(l.includes("english"))return l.includes("native")||l.includes("fluent")?"Fluent":l.includes("intermediate")?"Intermediate":l.includes("basic")?"Basic":"Yes"}else if(l.includes("arabic"))return l.includes("native")||l.includes("fluent")?"Fluent":l.includes("intermediate")?"Intermediate":l.includes("basic")?"Basic":"Yes";return"missing"}function vg(a){const s=a.name.toLowerCase().replace(/\s+/g,"-");return`https://falisha.com/profile/${a.id}/${s}`}function bg(a){const s=a.name.toLowerCase().replace(/\s+/g,"-");return`https://falisha.com/cv/${a.id}/${s}`}async function uh(a){try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(a);else{const s=document.createElement("textarea");s.value=a,s.style.position="fixed",s.style.top="0",s.style.left="0",s.style.width="2em",s.style.height="2em",s.style.padding="0",s.style.border="none",s.style.outline="none",s.style.boxShadow="none",s.style.background="transparent",s.style.opacity="0",document.body.appendChild(s),s.focus(),s.select(),document.execCommand("copy"),document.body.removeChild(s)}}catch{throw new Error("Failed to copy to clipboard")}}function wg(a){const s=Array.from(new Set(a.map(n=>n.position).filter(Boolean))).sort();return s.length===0?[]:s.map(n=>{const l=n.toLowerCase(),c=Array.from(new Set(a.filter(h=>h.position?.toLowerCase()===l&&h.country_of_interest).map(h=>h.country_of_interest))).sort(),u=Array.from(new Set(a.filter(h=>h.position?.toLowerCase()===l&&h.status).map(h=>h.status))).sort();return{id:`profession-${l.replace(/\s+/g,"-")}`,name:n,type:"profession",icon:St,children:[{id:`${l.replace(/\s+/g,"-")}-all`,name:"All",type:"smart-folder",icon:St,filter:h=>h.filter(f=>f.position?.toLowerCase()===l)},{id:`${l.replace(/\s+/g,"-")}-by-country`,name:"By Country",type:"smart-folder",icon:er,children:c.map(h=>({id:`${l.replace(/\s+/g,"-")}-${h.toLowerCase().replace(/\s+/g,"-")}`,name:h,type:"subfolder",icon:er,filter:f=>f.filter(m=>m.position?.toLowerCase()===l&&m.country_of_interest===h)}))},{id:`${l.replace(/\s+/g,"-")}-by-status`,name:"By Status",type:"smart-folder",icon:Ae,children:u.map(h=>({id:`${l.replace(/\s+/g,"-")}-${h.toLowerCase().replace(/\s+/g,"-")}`,name:h,type:"subfolder",icon:Ae,filter:f=>f.filter(m=>m.position?.toLowerCase()===l&&m.status===h)}))},{id:`${l.replace(/\s+/g,"-")}-by-documents`,name:"By Documents",type:"smart-folder",icon:dt,children:[{id:`${l.replace(/\s+/g,"-")}-complete`,name:"Complete",type:"subfolder",icon:dt,filter:h=>h.filter(f=>f.position?.toLowerCase()===l&&f.cv_received&&f.passport_received)},{id:`${l.replace(/\s+/g,"-")}-missing`,name:"Missing",type:"subfolder",icon:dt,filter:h=>h.filter(f=>f.position?.toLowerCase()===l&&(!f.cv_received||!f.passport_received))}]}]}})}function jg(){const[a,s]=D.useState([]),[n,l]=D.useState(!0),[c,u]=D.useState(null),[h,f]=D.useState(new Set),[m,x]=D.useState(null),[y,b]=D.useState(new Set),[N,E]=D.useState("basic"),R=D.useMemo(()=>wg(a),[a]);D.useEffect(()=>{if(R.length>0&&!m){const S=R[0].children?.[0];S&&(x(S),f(new Set([R[0].id])))}},[R,m]),D.useEffect(()=>{let S=!0;return(async()=>{try{const A=await Be.getCandidates();S&&s(A.candidates||[])}catch(A){S&&u(A?.message||"Failed to load candidates")}finally{S&&l(!1)}})(),()=>{S=!1}},[]);const w=S=>{const A=new Set(h);A.has(S)?A.delete(S):A.add(S),f(A)},O=S=>{x(S),b(new Set)},U=(S,A=0)=>{const H=h.has(S.id),ae=m?.id===S.id,le=S.children&&S.children.length>0,ge=S.icon,Ne=A*20+12,ve=S.filter?S.filter(a).length:0;return t.jsxs("div",{children:[t.jsxs("div",{className:`flex items-center gap-2 px-3 py-2.5 cursor-pointer hover:bg-gray-100 transition-colors ${ae?"bg-blue-50 border-r-4 border-blue-600 text-blue-700 font-medium":"text-gray-700"}`,style:{paddingLeft:`${Ne}px`},onClick:()=>{le&&S.type!=="smart-folder"?w(S.id):(O(S),le&&w(S.id))},children:[le&&t.jsx("span",{className:"flex-shrink-0",children:H?t.jsx(Dh,{className:"w-4 h-4 text-gray-500"}):t.jsx(Uf,{className:"w-4 h-4 text-gray-500"})}),!le&&t.jsx("span",{className:"w-4"}),S.type==="profession"?H?t.jsx(r0,{className:"w-5 h-5 text-blue-600"}):t.jsx(sh,{className:"w-5 h-5 text-blue-600"}):t.jsx(ge,{className:`w-4 h-4 ${ae?"text-blue-600":"text-gray-500"}`}),t.jsx("span",{className:`text-sm ${S.type==="profession"?"font-semibold":""}`,children:S.name}),S.filter&&t.jsx("span",{className:`ml-auto text-xs px-2 py-0.5 rounded-full ${ae?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:ve})]}),H&&le&&t.jsx("div",{children:S.children.map(ye=>U(ye,A+1))})]},S.id)},z=m?.filter?m.filter(a):[],V=S=>{const A=new Set(y);A.has(S)?A.delete(S):A.add(S),b(A)},G=()=>{y.size===z.length?b(new Set):b(new Set(z.map(S=>S.id)))};return n?t.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):c?t.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:t.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center",children:[t.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),t.jsx("p",{className:"text-red-700",children:c})]})}):t.jsxs("div",{className:"flex h-[calc(100vh-125px)] gap-4 p-6",children:[t.jsxs("div",{className:"w-80 bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col shadow-sm",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 flex-shrink-0",children:[t.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(sh,{className:"w-5 h-5"}),"Candidate Browser"]}),t.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"Select a folder to view candidates"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:R.length>0?R.map(S=>U(S)):t.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No candidates found"})}),t.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex-shrink-0",children:t.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Total Candidates:"}),t.jsx("span",{className:"font-semibold text-gray-900",children:a.length})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Showing:"}),t.jsx("span",{className:"font-semibold text-blue-600",children:z.length})]})]})})]}),t.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col shadow-sm",children:[t.jsx("div",{className:"border-b border-gray-200 p-4 bg-gray-50 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:m?.name||"Select a folder"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[z.length," candidates"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[y.size>0&&t.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[y.size," selected"]}),t.jsxs("div",{className:"flex gap-1 bg-gray-200 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>E("basic"),className:`px-3 py-1 text-xs rounded transition-colors ${N==="basic"?"bg-white text-gray-900 shadow":"text-gray-600"}`,children:"Basic View"}),t.jsx("button",{onClick:()=>E("detailed"),className:`px-3 py-1 text-xs rounded transition-colors ${N==="detailed"?"bg-white text-gray-900 shadow":"text-gray-600"}`,children:"Detailed View"})]}),t.jsxs("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Export to Excel"]})]})]})}),t.jsx("div",{className:"flex-1 overflow-auto",children:z.length>0?t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border border-gray-300 p-2 text-left bg-gray-100",children:t.jsx("input",{type:"checkbox",checked:y.size===z.length&&z.length>0,onChange:G,className:"w-4 h-4 cursor-pointer"})}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"ID"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Name"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Position"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Age"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Nationality"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Country"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Phone"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Email"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Experience"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Status"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"AI Score"}),N==="detailed"&&t.jsxs(t.Fragment,{children:[t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Religion"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Marital"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Salary Exp."}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Available"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Interview"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Passport #"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Pass. Expiry"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Medical Exp."}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"License"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"GCC Years"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"English"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Arabic"}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Location"})]}),t.jsx("th",{className:"border border-gray-300 p-2 text-left text-xs font-semibold text-gray-700 bg-gray-100",children:"Applied"}),t.jsx("th",{className:"border border-gray-300 p-2 text-center text-xs font-semibold text-gray-700 bg-blue-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Zs,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{children:"Profile Link"})]})}),t.jsx("th",{className:"border border-gray-300 p-2 text-center text-xs font-semibold text-gray-700 bg-purple-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(dt,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{children:"Employer CV"})]})}),t.jsx("th",{className:"border border-gray-300 p-2 text-center text-xs font-semibold text-gray-700 bg-red-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(zh,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{children:"Video"})]})}),t.jsx("th",{className:"border border-gray-300 p-2 text-center text-xs font-semibold text-gray-700 bg-green-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(nh,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{children:"WhatsApp"})]})}),t.jsx("th",{className:"border border-gray-300 p-2 text-center text-xs font-semibold text-gray-700 bg-gray-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Br,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{children:"Call"})]})}),t.jsx("th",{className:"border border-gray-300 p-2 text-center text-xs font-semibold text-gray-700 bg-gray-50",children:t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(st,{className:"w-4 h-4 text-gray-600"}),t.jsx("span",{children:"Email"})]})})]})}),t.jsx("tbody",{children:z.map((S,A)=>{const H=yg(S.date_of_birth),ae=dh(S.languages,"english"),le=dh(S.languages,"arabic"),ge=ch(S.created_at),Ne=ch(S.passport_expiry);return t.jsxs("tr",{className:`hover:bg-blue-50 ${y.has(S.id)?"bg-blue-50":A%2===0?"bg-white":"bg-gray-50"}`,children:[t.jsx("td",{className:"border border-gray-300 p-2",children:t.jsx("input",{type:"checkbox",checked:y.has(S.id),onChange:()=>V(S.id),className:"w-4 h-4 cursor-pointer"})}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs font-mono text-gray-600",children:S.candidate_code||S.id}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm font-medium text-gray-900",children:S.name||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:S.position||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700 text-center",children:H!==null?H:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:S.nationality||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:S.country_of_interest||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:S.phone||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:S.email||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700 text-center",children:S.experience_years?`${S.experience_years}y`:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.status==="Applied"?"bg-blue-100 text-blue-700":S.status==="Pending"?"bg-yellow-100 text-yellow-700":S.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:S.status||"missing"})}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-center",children:S.ai_score!=null?t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[t.jsx(Jn,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),t.jsx("span",{className:"font-semibold",children:S.ai_score.toFixed(1)})]}):"missing"}),N==="detailed"&&t.jsxs(t.Fragment,{children:[t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:S.marital_status||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs font-mono text-gray-700",children:S.passport||"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:Ne}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-center text-gray-700",children:"missing"}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:ae}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:le}),t.jsx("td",{className:"border border-gray-300 p-2 text-xs text-gray-700",children:S.address||"missing"})]}),t.jsx("td",{className:"border border-gray-300 p-2 text-sm text-gray-700",children:ge}),t.jsx("td",{className:"border border-gray-300 p-2",children:t.jsx("button",{className:"p-1 hover:bg-blue-100 rounded group relative",title:"Copy Profile Link",onClick:async()=>{try{await uh(vg(S)),alert("Profile link copied!")}catch{alert("Failed to copy link")}},children:t.jsx(Zs,{className:"w-4 h-4 text-blue-600"})})}),t.jsx("td",{className:"border border-gray-300 p-2",children:t.jsx("button",{className:"p-1 hover:bg-purple-100 rounded",title:"Copy CV Share Link",onClick:async()=>{try{await uh(bg(S)),alert("CV link copied!")}catch{alert("Failed to copy link")}},children:t.jsx(dt,{className:"w-4 h-4 text-purple-600"})})}),t.jsx("td",{className:"border border-gray-300 p-2",children:t.jsx("span",{className:"text-xs text-gray-400",children:"missing"})}),t.jsx("td",{className:"border border-gray-300 p-2",children:S.phone?t.jsx("a",{href:`https://wa.me/${S.phone.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-green-100 rounded",title:"Open WhatsApp",children:t.jsx(nh,{className:"w-4 h-4 text-green-600"})}):t.jsx("span",{className:"text-xs text-gray-400",children:"missing"})}),t.jsx("td",{className:"border border-gray-300 p-2",children:S.phone?t.jsx("a",{href:`tel:${S.phone}`,className:"p-1 hover:bg-gray-200 rounded",title:"Call",children:t.jsx(Br,{className:"w-4 h-4 text-gray-600"})}):t.jsx("span",{className:"text-xs text-gray-400",children:"missing"})}),t.jsx("td",{className:"border border-gray-300 p-2",children:S.email?t.jsx("a",{href:`mailto:${S.email}`,className:"p-1 hover:bg-gray-200 rounded",title:"Email",children:t.jsx(st,{className:"w-4 h-4 text-gray-600"})}):t.jsx("span",{className:"text-xs text-gray-400",children:"missing"})})]},S.id)})})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:t.jsxs("div",{className:"text-center",children:[t.jsx(St,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium",children:"No candidates in this folder"}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try selecting a different folder"})]})})})]})]})}function Ng(){const[a,s]=D.useState(""),[n,l]=D.useState(null),c=async(h,f)=>{l(h);try{await new Promise(y=>setTimeout(y,1500));const m=`
EMPLOYER SAFE CV - ${f}
Generated on: ${new Date().toLocaleDateString()}

Company: ${f}
CV Type: Employer Safe CV (Redacted Candidate Information)

This CV has been generated by Falisha Manpower recruitment system.
All sensitive candidate information has been removed for employer safety.
Only relevant professional information is displayed.

Features:
- Candidate anonymization
- Professional profile summary
- Skills and experience highlights
- Available position matches
- Confidential contact information

For more information, please contact:
Falisha Manpower
Phone: +92330 3333335
Email: falishamanpower4035@gmail.com
      `,x=document.createElement("a");x.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(m)),x.setAttribute("download",`EmployerCV_${f.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.txt`),document.body.appendChild(x),x.click(),document.body.removeChild(x)}catch(m){console.error("Error generating CV:",m),alert("Failed to generate CV. Please try again.")}finally{l(null)}},u=Hs.filter(h=>h.companyName.toLowerCase().includes(a.toLowerCase())||h.country.toLowerCase().includes(a.toLowerCase())||h.contactPerson.toLowerCase().includes(a.toLowerCase()));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Employer Management"}),t.jsx("p",{className:"text-gray-600",children:"Manage your employer database and relationships"})]}),t.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[t.jsx(Si,{className:"w-4 h-4"}),"Add Employer"]})]}),t.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:t.jsxs("div",{className:"relative",children:[t.jsx(Vr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"text",placeholder:"Search by company name, country, or contact person...",value:a,onChange:h=>s(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:t.jsx(_i,{className:"w-6 h-6"})}),h.activeJobs>0&&t.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[h.activeJobs," Active Jobs"]})]}),t.jsx("h3",{className:"text-white",children:h.companyName}),t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(er,{className:"w-4 h-4"}),t.jsx("p",{className:"text-sm text-blue-100",children:h.country})]})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contact Person"}),t.jsx("p",{className:"text-sm",children:h.contactPerson})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(st,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),t.jsx("p",{className:"text-sm break-all",children:h.email})]})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Br,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),t.jsx("p",{className:"text-sm",children:h.phone})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Hiring Categories"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.categories.slice(0,3).map((f,m)=>t.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:f},m)),h.categories.length>3&&t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",h.categories.length-3," more"]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 p-4 flex gap-2",children:[t.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(tr,{className:"w-4 h-4"}),"View Details"]}),t.jsx("button",{onClick:()=>c(h.id,h.companyName),disabled:n===h.id,className:"flex-1 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",title:"Generate safe CV for this employer",children:n===h.id?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lt,{className:"w-4 h-4"}),"Generate CV"]})})]})]},h.id))}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"mb-4",children:"Employer Statistics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Total Employers"}),t.jsx("p",{className:"text-2xl text-blue-900",children:Hs.length})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Active Jobs"}),t.jsx("p",{className:"text-2xl text-green-900",children:Hs.reduce((h,f)=>h+f.activeJobs,0)})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Countries"}),t.jsx("p",{className:"text-2xl text-purple-900",children:new Set(Hs.map(h=>h.country)).size})]}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-orange-600 mb-1",children:"Categories"}),t.jsx("p",{className:"text-2xl text-orange-900",children:new Set(Hs.flatMap(h=>h.categories)).size})]})]})]})]})}function _g(){const[a,s]=D.useState(""),[n,l]=D.useState("all"),c=ds.filter(u=>{const h=u.position.toLowerCase().includes(a.toLowerCase())||u.employerName.toLowerCase().includes(a.toLowerCase())||u.country.toLowerCase().includes(a.toLowerCase()),f=n==="all"||u.status===n;return h&&f});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Job Order Management"}),t.jsx("p",{className:"text-gray-600",children:"Track and manage all job orders from employers"})]}),t.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[t.jsx(Si,{className:"w-4 h-4"}),"Create Job Order"]})]}),t.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Vr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"text",placeholder:"Search by position, employer, or country...",value:a,onChange:u=>s(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("select",{value:n,onChange:u=>l(u.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Open",children:"Open"}),t.jsx("option",{value:"Closed",children:"Closed"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(u=>t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Zt,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white mb-1",children:u.position}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-100",children:[t.jsx(_i,{className:"w-4 h-4"}),u.employerName]})]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${u.status==="Open"?"bg-white bg-opacity-20":"bg-gray-500"}`,children:u.status})]})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(er,{className:"w-4 h-4 text-gray-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Location"}),t.jsx("p",{className:"text-sm",children:u.country})]})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Gf,{className:"w-4 h-4 text-gray-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Salary"}),t.jsx("p",{className:"text-sm",children:u.salary})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(St,{className:"w-4 h-4 text-gray-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Required"}),t.jsxs("p",{className:"text-sm",children:[u.candidates," candidates"]})]})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(ct,{className:"w-4 h-4 text-gray-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Urgency"}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs inline-block ${u.urgency==="High"?"bg-red-100 text-red-700":u.urgency==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:u.urgency})]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Required Skills"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.skills.slice(0,3).map((h,f)=>t.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:h},f)),u.skills.length>3&&t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",u.skills.length-3," more"]})]})]}),t.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-100",children:["Created on ",u.createdDate]})]}),t.jsxs("div",{className:"border-t border-gray-200 p-4 flex gap-2",children:[t.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(St,{className:"w-4 h-4"}),"View Matches"]}),t.jsxs("button",{className:"flex-1 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(tr,{className:"w-4 h-4"}),"Details"]})]})]},u.id))}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsx("h3",{className:"mb-4",children:"Job Order Statistics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Open Jobs"}),t.jsx("p",{className:"text-2xl text-green-900",children:ds.filter(u=>u.status==="Open").length})]}),t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Total Candidates"}),t.jsx("p",{className:"text-2xl text-blue-900",children:ds.reduce((u,h)=>u+h.candidates,0)})]}),t.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-600 mb-1",children:"High Urgency"}),t.jsx("p",{className:"text-2xl text-red-900",children:ds.filter(u=>u.urgency==="High"&&u.status==="Open").length})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Closed Jobs"}),t.jsx("p",{className:"text-2xl text-gray-900",children:ds.filter(u=>u.status==="Closed").length})]})]})]})]})}function kg(){const[a,s]=D.useState("daily"),n=qe.length,l=qe.filter(y=>y.status==="Deployed").length,c=qe.filter(y=>y.status==="Pending").length,u=qe.filter(y=>y.status==="Applied").length,h=qe.reduce((y,b)=>(y[b.country]=(y[b.country]||0)+1,y),{}),f=qe.reduce((y,b)=>(y[b.position]=(y[b.position]||0)+1,y),{}),m=qe.reduce((y,b)=>(y[b.source]=(y[b.source]||0)+1,y),{}),x=[{id:"daily",name:"Daily Activity Report",description:"New candidates, status changes, and daily metrics",icon:vr,color:"blue"},{id:"country",name:"Country-wise Report",description:"Applications breakdown by destination country",icon:If,color:"green"},{id:"position",name:"Position-wise Report",description:"Applications breakdown by trade/position",icon:rh,color:"purple"},{id:"source",name:"Source Analysis",description:"Application sources and conversion rates",icon:Bh,color:"orange"},{id:"employer",name:"Employer Pipeline",description:"Job orders and fulfillment status",icon:dt,color:"red"},{id:"status",name:"Status Summary",description:"Candidate status workflow and timeline",icon:rh,color:"indigo"}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Reports & Analytics"}),t.jsx("p",{className:"text-gray-600",children:"Generate and export detailed reports"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{className:"bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[t.jsx(vr,{className:"w-4 h-4"}),"Select Date Range"]}),t.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Export All"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Applications"}),t.jsx("p",{className:"text-3xl mb-1",children:n}),t.jsx("p",{className:"text-sm text-green-600",children:"All time"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Deployed"}),t.jsx("p",{className:"text-3xl mb-1",children:l}),t.jsxs("p",{className:"text-sm text-gray-500",children:[(l/n*100).toFixed(1),"% success rate"]})]}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"In Progress"}),t.jsx("p",{className:"text-3xl mb-1",children:c}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Pending review"})]}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Applications"}),t.jsx("p",{className:"text-3xl mb-1",children:u}),t.jsx("p",{className:"text-sm text-blue-600",children:"Ready to process"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(y=>{const b=y.icon,N={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600",red:"bg-red-100 text-red-600",indigo:"bg-indigo-100 text-indigo-600"};return t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${N[y.color]}`,children:t.jsx(b,{className:"w-6 h-6"})}),t.jsx("h3",{className:"mb-2",children:y.name}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.description}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"flex-1 px-3 py-2 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"View"}),t.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsx(Lt,{className:"w-4 h-4"})})]})]})},y.id)})}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{children:"Country-wise Distribution"}),t.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Export to Excel"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Country"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Total Candidates"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Percentage"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Visual"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(h).sort((y,b)=>b[1]-y[1]).map(([y,b])=>{const N=b/n*100;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:y}),t.jsx("td",{className:"px-6 py-4",children:b}),t.jsxs("td",{className:"px-6 py-4",children:[N.toFixed(1),"%"]}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-xs",children:t.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${N}%`}})})})]},y)})})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{children:"Position-wise Distribution"}),t.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Export to Excel"]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(f).sort((y,b)=>b[1]-y[1]).map(([y,b])=>{const N=b/n*100;return t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm",children:y}),t.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:b})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${N}%`}})}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[N.toFixed(1),"% of total"]})]},y)})})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"mb-6",children:"Application Source Analysis"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(m).map(([y,b])=>{const N=b/n*100;return t.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y}),t.jsx("p",{className:"text-3xl mb-1",children:b}),t.jsxs("p",{className:"text-sm text-gray-500",children:[N.toFixed(1),"%"]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-3",children:t.jsx("div",{className:"h-1 rounded-full bg-indigo-500",style:{width:`${N}%`}})})]},y)})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[t.jsx("h3",{className:"text-blue-900 mb-4",children:"AI Generated Summary (Daily Report)"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"bg-white p-4 rounded-lg",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{className:"text-blue-900",children:"Applications:"})," ",u," new candidates today. Peak application time: 10 AM - 2 PM. Most common source: ",Object.entries(m).sort((y,b)=>b[1]-y[1])[0][0],"."]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{className:"text-blue-900",children:"Top Demand:"})," ",Object.entries(h).sort((y,b)=>b[1]-y[1])[0][0]," ","is the most requested destination with ",Object.entries(h).sort((y,b)=>b[1]-y[1])[0][1]," candidates."]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{className:"text-blue-900",children:"Positions:"})," ",Object.entries(f).sort((y,b)=>b[1]-y[1])[0][0]," ","has the highest applications (",Object.entries(f).sort((y,b)=>b[1]-y[1])[0][1]," candidates)."]})}),t.jsx("div",{className:"bg-white p-4 rounded-lg",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{className:"text-blue-900",children:"Recommendation:"})," Focus recruitment efforts on ",Object.entries(f).sort((y,b)=>y[1]-b[1])[0][0]," ","positions as they have lower application rates but high demand from employers."]})})]})]})]})}function Sg(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Settings"}),t.jsx("p",{className:"text-gray-600",children:"Configure your recruitment portal preferences"})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(yr,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{children:"WhatsApp Integration"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Automated candidate intake via WhatsApp"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Auto-reply to new messages"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Send automated greeting and application link"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Follow-up reminders"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Auto-send reminders to incomplete applications"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Status notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Notify candidates of status changes"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(st,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{children:"Email Settings"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Configure email automation and CV import"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Email Address for CV Import"}),t.jsx("input",{type:"email",defaultValue:"cvs@falishamanpower.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Auto-import CVs from inbox"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Automatically process CV attachments"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Daily analytics email"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Send daily reports to management"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(ag,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h3",{children:"AI Features"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Configure AI-powered automation"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"AI CV Parsing"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Automatically extract data from CVs"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"AI Candidate Matching"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Auto-match candidates to job orders"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"AI Insights & Recommendations"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Get AI-powered recruitment insights"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"AI Employer CV Generation"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Auto-generate employer-safe CVs"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:t.jsx(Sf,{className:"w-5 h-5 text-yellow-600"})}),t.jsxs("div",{children:[t.jsx("h3",{children:"Notifications"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage notification preferences"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"New candidate notifications"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Get notified of new applications"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Job order updates"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Notifications for new job orders"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between py-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"AI matching alerts"}),t.jsx("p",{className:"text-xs text-gray-500",children:"When AI finds high-scoring matches"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:t.jsx(St,{className:"w-5 h-5 text-indigo-600"})}),t.jsxs("div",{children:[t.jsx("h3",{children:"User Management"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Manage admin users and permissions"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-blue-600",children:"A"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",children:"Admin User"}),t.jsx("p",{className:"text-xs text-gray-500",children:"admin@falishamanpower.com"})]})]}),t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Super Admin"})]}),t.jsx("button",{className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Add New User"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(Hf,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-blue-900",children:"System Information"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Portal status and configuration"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Version"}),t.jsx("p",{className:"text-sm",children:"v1.0.0 (Premium Edition)"})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Database Status"}),t.jsx("p",{className:"text-sm text-green-600",children:" Connected"})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"AI Service"}),t.jsx("p",{className:"text-sm text-green-600",children:" Active"})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"WhatsApp Integration"}),t.jsx("p",{className:"text-sm text-green-600",children:" Connected"})]})]})]})]})}function Wh(){const[a,s]=D.useState({fullName:"",email:"",phone:"",nationality:"",countryOfInterest:"",position:"",experience:"",passportNumber:"",passportExpiry:"",passportAvailable:"yes",currentLocation:"",languages:"",skills:"",additionalInfo:""}),[n,l]=D.useState(null),[c,u]=D.useState(!1),[h,f]=D.useState({}),m=["UAE","Saudi Arabia","Qatar","Oman","Kuwait","Bahrain","Malaysia","Singapore","Other"],x=["Electrician","Plumber","Mason","Carpenter","Welder","Steel Fixer","Heavy Driver","Light Driver","Painter","HVAC Technician","Mechanic","Chef/Cook","Waiter","Cleaner","Security Guard","Warehouse Worker","Other"],y=["Pakistan","India","Bangladesh","Sri Lanka","Nepal","Philippines","Indonesia","Egypt","Kenya","Uganda","Other"],b=w=>{const{name:O,value:U}=w.target;s(z=>({...z,[O]:U})),h[O]&&f(z=>({...z,[O]:""}))},N=w=>{w.target.files&&w.target.files[0]&&(l(w.target.files[0]),h.cvFile&&f(O=>({...O,cvFile:""})))},E=()=>{const w={};return a.fullName.trim()||(w.fullName="Full name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(w.email="Email is invalid"):w.email="Email is required",a.phone.trim()||(w.phone="Phone number is required"),a.nationality||(w.nationality="Nationality is required"),a.countryOfInterest||(w.countryOfInterest="Country of interest is required"),a.position||(w.position="Position is required"),a.experience||(w.experience="Experience is required"),n||(w.cvFile="CV/Resume is required"),f(w),Object.keys(w).length===0},R=w=>{if(w.preventDefault(),!E()){const O=document.querySelector(".border-red-500");O&&O.scrollIntoView({behavior:"smooth",block:"center"});return}console.log("Form Data:",a),console.log("CV File:",n),u(!0),window.scrollTo({top:0,behavior:"smooth"})};return c?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ae,{className:"w-10 h-10 text-green-600"})}),t.jsx("h2",{className:"text-green-600 mb-4",children:"Application Submitted Successfully!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for applying with Falisha Manpower. We have received your application and will review it shortly."}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"What's Next?"}),t.jsx("br",{}),"Our recruitment team will review your profile within 2-3 business days. We'll contact you via WhatsApp or email if your profile matches any of our current job openings."]})}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Application Reference: ",t.jsxs("strong",{children:["FM",Date.now().toString().slice(-6)]})]}),t.jsx("button",{onClick:()=>{u(!1),s({fullName:"",email:"",phone:"",nationality:"",countryOfInterest:"",position:"",experience:"",passportNumber:"",passportExpiry:"",passportAvailable:"yes",currentLocation:"",languages:"",skills:"",additionalInfo:""}),l(null)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another Application"})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4",children:"FM"}),t.jsx("h1",{className:"text-blue-600 mb-2",children:"Falisha Manpower"}),t.jsx("h2",{className:"mb-2",children:"Job Application Form"}),t.jsx("p",{className:"text-gray-600",children:"Fill out this form to apply for overseas employment opportunities"})]}),t.jsxs("form",{onSubmit:R,className:"bg-white rounded-lg shadow-lg p-6 md:p-8 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[t.jsx(Vh,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Full Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"fullName",value:a.fullName,onChange:b,placeholder:"Enter your full name",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.fullName?"border-red-500":"border-gray-300"}`}),h.fullName&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.fullName]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Email Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(st,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"email",name:"email",value:a.email,onChange:b,placeholder:"your.email@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.email?"border-red-500":"border-gray-300"}`})]}),h.email&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.email]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Phone Number (with country code) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:b,placeholder:"+92 300 1234567",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.phone?"border-red-500":"border-gray-300"}`})]}),h.phone&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.phone]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Nationality ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Zs,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsxs("select",{name:"nationality",value:a.nationality,onChange:b,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${h.nationality?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select nationality"}),y.map(w=>t.jsx("option",{value:w,children:w},w))]})]}),h.nationality&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.nationality]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Current Location/City"}),t.jsx("input",{type:"text",name:"currentLocation",value:a.currentLocation,onChange:b,placeholder:"e.g., Lahore, Pakistan",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[t.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),"Job Preferences"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Country of Interest ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(er,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsxs("select",{name:"countryOfInterest",value:a.countryOfInterest,onChange:b,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${h.countryOfInterest?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select country"}),m.map(w=>t.jsx("option",{value:w,children:w},w))]})]}),h.countryOfInterest&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.countryOfInterest]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Position/Trade ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"position",value:a.position,onChange:b,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${h.position?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select position"}),x.map(w=>t.jsx("option",{value:w,children:w},w))]}),h.position&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.position]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Years of Experience ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"experience",value:a.experience,onChange:b,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${h.experience?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select experience"}),t.jsx("option",{value:"0-1",children:"0-1 years"}),t.jsx("option",{value:"1-3",children:"1-3 years"}),t.jsx("option",{value:"3-5",children:"3-5 years"}),t.jsx("option",{value:"5-10",children:"5-10 years"}),t.jsx("option",{value:"10+",children:"10+ years"})]}),h.experience&&t.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.experience]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Skills & Certifications"}),t.jsx("textarea",{name:"skills",value:a.skills,onChange:b,placeholder:"List your relevant skills, certifications, licenses (e.g., TIG Welding, Safety Certificate, Heavy Equipment License)",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Languages Known"}),t.jsx("input",{type:"text",name:"languages",value:a.languages,onChange:b,placeholder:"e.g., English, Urdu, Arabic",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[t.jsx(dt,{className:"w-5 h-5 text-blue-600"}),"Passport Information"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Do you have a valid passport?"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"passportAvailable",value:"yes",checked:a.passportAvailable==="yes",onChange:b,className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm",children:"Yes"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"passportAvailable",value:"no",checked:a.passportAvailable==="no",onChange:b,className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm",children:"No"})]})]})]}),a.passportAvailable==="yes"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Passport Number"}),t.jsx("input",{type:"text",name:"passportNumber",value:a.passportNumber,onChange:b,placeholder:"e.g., AB1234567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm mb-2",children:"Passport Expiry Date"}),t.jsxs("div",{className:"relative",children:[t.jsx(vr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"date",name:"passportExpiry",value:a.passportExpiry,onChange:b,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[t.jsx(rn,{className:"w-5 h-5 text-blue-600"}),"CV/Resume Upload"]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm mb-2",children:["Upload Your CV/Resume ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${h.cvFile?"border-red-500 bg-red-50":"border-gray-300 hover:border-blue-500"} transition-colors`,children:[t.jsx(rn,{className:`w-12 h-12 mx-auto mb-3 ${h.cvFile?"text-red-400":"text-gray-400"}`}),t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("span",{className:"text-blue-600 hover:text-blue-700",children:"Click to upload"}),t.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),t.jsx("input",{type:"file",onChange:N,accept:".pdf,.doc,.docx",className:"hidden"})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PDF, DOC, DOCX (Max 5MB)"}),n&&t.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg",children:[t.jsx(Ae,{className:"w-4 h-4"}),n.name]})]}),h.cvFile&&t.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[t.jsx(ct,{className:"w-4 h-4"})," ",h.cvFile]})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsx("h3",{className:"mb-4",children:"Additional Information"}),t.jsx("textarea",{name:"additionalInfo",value:a.additionalInfo,onChange:b,placeholder:"Any additional information you'd like to share...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[t.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Ae,{className:"w-5 h-5"}),"Submit Application"]}),t.jsx("p",{className:"text-sm text-gray-500 text-center mt-4",children:"By submitting this form, you agree to our terms and conditions"})]})]}),t.jsxs("div",{className:"text-center mt-6 text-gray-600",children:[t.jsx("p",{className:"text-sm",children:" 2025 Falisha Manpower. All rights reserved."}),t.jsx("p",{className:"text-sm mt-2",children:"Need help? Contact us via WhatsApp or email"})]})]})})}function Eg({onClose:a}){return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",children:t.jsxs("div",{className:"min-h-screen relative",children:[t.jsx("button",{onClick:a,className:"fixed top-4 right-4 z-50 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",title:"Close Preview",children:t.jsx(sn,{className:"w-6 h-6"})}),t.jsx(Wh,{})]})})}function Cg(){const[a,s]=D.useState(!1),[n,l]=D.useState(!1),[c,u]=D.useState(!1),h="https://falishamanpower.com/apply",f=()=>{navigator.clipboard.writeText(h),s(!0),setTimeout(()=>s(!1),2e3)},m=()=>{const N=encodeURIComponent(` *Overseas Job Opportunity* 

Apply now with Falisha Manpower for employment in Gulf countries!

 Fill out our online application form:
${h}

We're currently recruiting for positions in UAE, Saudi Arabia, Qatar, and more.

Apply today!`);window.open(`https://wa.me/?text=${N}`,"_blank")},x=()=>{const N=encodeURIComponent("Apply for Overseas Employment - Falisha Manpower"),E=encodeURIComponent(`Dear Candidate,

Thank you for your interest in overseas employment opportunities.

Please complete our online application form at:
${h}

We are currently recruiting for various positions in Gulf countries including UAE, Saudi Arabia, Qatar, Oman, and more.

Best regards,
Falisha Manpower Team`);window.location.href=`mailto:?subject=${N}&body=${E}`},y=()=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(h)}`,b=()=>{const N=document.createElement("a");N.href=y(),N.download="falisha-application-qr.png",document.body.appendChild(N),N.click(),document.body.removeChild(N)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{children:"Application Form Link"}),t.jsx("p",{className:"text-gray-600",children:"Share this link with candidates to collect applications"})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("label",{className:"block text-sm mb-3",children:"Public Application Form URL"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Xo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"text",value:h,readOnly:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none"})]}),t.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:a?t.jsxs(t.Fragment,{children:[t.jsx(ki,{className:"w-4 h-4"}),"Copied!"]}):t.jsxs(t.Fragment,{children:[t.jsx(Mh,{className:"w-4 h-4"}),"Copy"]})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:m,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:t.jsx(yr,{className:"w-6 h-6 text-green-600"})}),t.jsx("h3",{className:"mb-2",children:"Share via WhatsApp"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Send the application link directly via WhatsApp"})]}),t.jsxs("button",{onClick:x,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:t.jsx(st,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h3",{className:"mb-2",children:"Share via Email"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Email the application link to candidates"})]}),t.jsxs("button",{onClick:()=>l(!n),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:t.jsx(ah,{className:"w-6 h-6 text-purple-600"})}),t.jsx("h3",{className:"mb-2",children:"Generate QR Code"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Create a scannable QR code for the form"})]})]}),n&&t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{children:"QR Code"}),t.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[t.jsx(ah,{className:"w-4 h-4"}),"Download QR Code"]})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"bg-white p-6 rounded-lg border-2 border-gray-200 mb-4",children:t.jsx("img",{src:y(),alt:"Application Form QR Code",className:"w-64 h-64"})}),t.jsx("p",{className:"text-sm text-gray-600 text-center max-w-md",children:"Print this QR code and display it at your office, recruitment centers, or share it on social media. Candidates can scan it to directly access the application form."})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[t.jsx("h3",{className:"text-blue-900 mb-4",children:"How to Use"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"1"}),t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Share the Link:"})," Copy and paste the URL in your WhatsApp status, Facebook posts, or send directly to candidates"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"2"}),t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Use QR Code:"})," Print the QR code and display it at your office or recruitment centers for easy scanning"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"3"}),t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Track Applications:"})," All submissions will automatically appear in the Candidate Management section"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"4"}),t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Mobile Friendly:"})," The form is fully optimized for mobile devices - candidates can apply from their phones"]})})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"mb-4",children:"Preview Form"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"See how the application form looks to candidates before sharing"}),t.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[t.jsx(tr,{className:"w-4 h-4"}),"Open Form Preview"]})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-xl font-bold",children:"Application Form Preview"}),t.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx(Eg,{})]})})]})}function Ag(){const[a,s]=D.useState([]),[n,l]=D.useState("all"),[c,u]=D.useState(!1),[h,f]=D.useState(null),[m,x]=D.useState(!1),y=D.useRef(null),b=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`web-${Date.now()}-${Math.random().toString(16).slice(2)}`;D.useEffect(()=>{N().catch(()=>{})},[]);async function N(){u(!0),f(null);try{const{messages:A}=await is.listInboxMessages({limit:25,offset:0}),H=Object.fromEntries(A.map(ge=>[ge.id,ge])),ae=await Promise.all(A.map(ge=>is.listAttachments(ge.id).catch(()=>[]))),le=[];for(let ge=0;ge<A.length;ge++){const Ne=A[ge],ve=ae[ge]||[];for(const ye of ve)le.push({id:ye.id,messageId:Ne.id,fileName:ye.file_name||"Attachment",source:Ne.source==="whatsapp"?"WhatsApp":Ne.source==="email"?"Email":Ne.source==="web"?"Web Form":"Unknown",senderName:Ne.payload?.sender_name||"Unknown",senderContact:Ne.payload?.sender_contact||"Unknown",receivedDate:Ne.received_at?new Date(Ne.received_at).toLocaleString():"-",fileSize:"-",status:ye.candidate_id?"extracted":"queued",candidateId:ye.candidate_id||void 0})}s(le)}catch(A){f(A?.message||"Failed to load CV inbox")}finally{u(!1)}}async function E(A){s(H=>H.map(ae=>ae.id===A?{...ae,status:"processing",errorMessage:void 0}:ae));try{const ae=(await is.triggerParsing(A)).job_id;s(le=>le.map(ge=>ge.id===A?{...ge,jobId:ae,status:"processing"}:ge)),R(ae,A)}catch(H){s(ae=>ae.map(le=>le.id===A?{...le,status:"error",errorMessage:`Processing not available: ${H?.message||"unknown error"}`}:le))}}async function R(A,H){let ae=0;const le=60,ge=setInterval(async()=>{ae+=1;try{const Ne=await is.getParsingJob(A);Ne.status==="completed"?(clearInterval(ge),s(ve=>ve.map(ye=>ye.id===H?{...ye,status:"extracted",candidateId:Ne.candidate_id||ye.candidateId}:ye))):Ne.status==="failed"?(clearInterval(ge),s(ve=>ve.map(ye=>ye.id===H?{...ye,status:"error",errorMessage:Ne.error_message||"Parsing failed"}:ye))):s(ve=>ve.map(ye=>ye.id===H?{...ye,status:Ne.status}:ye))}catch(Ne){clearInterval(ge),s(ve=>ve.map(ye=>ye.id===H?{...ye,status:"error",errorMessage:`Status check failed: ${Ne?.message||"unknown error"}`}:ye))}ae>=le&&(clearInterval(ge),s(Ne=>Ne.map(ve=>ve.id===H?{...ve,status:"error",errorMessage:"Processing timeout"}:ve)))},2e3)}const w=A=>new Promise((H,ae)=>{const le=new FileReader;le.onload=()=>H(le.result.split(",").pop()||""),le.onerror=()=>ae(le.error),le.readAsDataURL(A)}),O=()=>{y.current?.click()},U=async A=>{const H=A.target.files?.[0];if(H){x(!0),f(null);try{const ae=await w(H),le=await is.createInboxMessage({source:"web",status:"received",received_at:new Date().toISOString(),external_message_id:b(),payload:{sender_name:"Manual Upload",sender_contact:"web"}}),ge=await is.uploadAttachment(le.id,{file_base64:ae,file_name:H.name,mime_type:H.type||"application/octet-stream",attachment_type:"manual_upload",storage_bucket:"documents",storage_path:`inbox/${H.name}`}),Ne={id:ge.id,messageId:le.id,fileName:ge.file_name||H.name,source:"Web Form",senderName:"Manual Upload",senderContact:"web",receivedDate:new Date().toLocaleString(),fileSize:`${(H.size/1024).toFixed(1)} KB`,status:"queued",candidateId:ge.candidate_id||void 0};s(ve=>[Ne,...ve]),await E(ge.id)}catch(ae){f(ae?.message||"Manual upload failed")}finally{x(!1),A.target.value=""}}},z=async A=>{if(!window.confirm("Delete this CV from inbox?"))return;f(null);const ae=a;s(le=>le.filter(ge=>ge.id!==A));try{await is.deleteAttachment(A)}catch(le){f(le?.message||"Failed to delete CV"),s(ae)}},V=A=>{E(A)},G=n==="all"?a:a.filter(A=>A.status===n),S={total:a.length,processing:a.filter(A=>A.status==="processing"||A.status==="queued").length,extracted:a.filter(A=>A.status==="extracted").length,errors:a.filter(A=>A.status==="error").length,needsReview:a.filter(A=>A.status==="extracted"&&(A.confidence||0)<85).length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl",children:"CV Inbox"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Automatic AI extraction - CVs become candidates instantly"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{ref:y,type:"file",accept:".pdf,.doc,.docx,.txt,.rtf",className:"hidden",onChange:U}),t.jsxs("button",{onClick:O,disabled:m,className:`bg-blue-600 text-white px-6 py-3 rounded-lg transition-colors flex items-center gap-2 shadow-lg ${m?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,children:[t.jsx(rn,{className:"w-5 h-5"}),m?"Uploading...":"Upload CV"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm opacity-90",children:"Total CVs"}),t.jsx(Fh,{className:"w-6 h-6 opacity-80"})]}),t.jsx("div",{className:"text-3xl font-bold",children:S.total}),t.jsx("div",{className:"text-xs opacity-75 mt-2",children:"All time"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm opacity-90",children:"Processing"}),t.jsx(vi,{className:"w-6 h-6 opacity-80 animate-pulse"})]}),t.jsx("div",{className:"text-3xl font-bold",children:S.processing}),t.jsx("div",{className:"text-xs opacity-75 mt-2",children:"AI extracting now..."})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm opacity-90",children:"Extracted"}),t.jsx(Ae,{className:"w-6 h-6 opacity-80"})]}),t.jsx("div",{className:"text-3xl font-bold",children:S.extracted}),t.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Now candidates"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm opacity-90",children:"Needs Review"}),t.jsx(en,{className:"w-6 h-6 opacity-80"})]}),t.jsx("div",{className:"text-3xl font-bold",children:S.needsReview}),t.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Low confidence"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm opacity-90",children:"Errors"}),t.jsx(en,{className:"w-6 h-6 opacity-80"})]}),t.jsx("div",{className:"text-3xl font-bold",children:S.errors}),t.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Need manual fix"})]})]}),t.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("button",{onClick:()=>l("all"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="all"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All ",t.jsxs("span",{className:"ml-1 opacity-75",children:["(",S.total,")"]})]}),t.jsxs("button",{onClick:()=>l("processing"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="processing"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Processing ",t.jsxs("span",{className:"ml-1 opacity-75",children:["(",S.processing,")"]})]}),t.jsxs("button",{onClick:()=>l("extracted"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="extracted"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Extracted ",t.jsxs("span",{className:"ml-1 opacity-75",children:["(",S.extracted,")"]})]}),t.jsxs("button",{onClick:()=>l("error"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="error"?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Errors ",t.jsxs("span",{className:"ml-1 opacity-75",children:["(",S.errors,")"]})]})]})}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:t.jsxs("div",{className:"overflow-x-auto",children:[c&&t.jsx("div",{className:"p-4 text-sm text-gray-600",children:"Loading inbox..."}),h&&t.jsx("div",{className:"p-4 text-sm text-red-600",children:h}),t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"CV Details"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Source"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Sender Info"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Received"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:G.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A.status==="processing"||A.status==="queued"?"bg-blue-100 animate-pulse":A.status==="extracted"?"bg-green-100":"bg-red-100"}`,children:t.jsx(dt,{className:`w-5 h-5 ${A.status==="processing"||A.status==="queued"?"text-blue-600":A.status==="extracted"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:A.fileName}),t.jsx("p",{className:"text-sm text-gray-500",children:A.fileSize}),A.status==="error"&&A.errorMessage&&t.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.errorMessage})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[A.source==="WhatsApp"&&t.jsxs(t.Fragment,{children:[t.jsx(yr,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-sm text-green-700 font-medium",children:"WhatsApp"})]}),A.source==="Email"&&t.jsxs(t.Fragment,{children:[t.jsx(st,{className:"w-4 h-4 text-blue-600"}),t.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Email"})]}),A.source==="Web Form"&&t.jsxs(t.Fragment,{children:[t.jsx(rn,{className:"w-4 h-4 text-purple-600"}),t.jsx("span",{className:"text-sm text-purple-700 font-medium",children:"Web Form"})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.senderName}),t.jsx("p",{className:"text-sm text-gray-500",children:A.senderContact})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(vr,{className:"w-4 h-4"}),A.receivedDate]})}),t.jsxs("td",{className:"px-6 py-4",children:[(A.status==="processing"||A.status==="queued")&&t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium flex items-center gap-1",children:[t.jsx(vi,{className:"w-3 h-3 animate-spin"}),A.status==="queued"?"Queued":"AI Processing..."]})}),A.status==="extracted"&&t.jsxs("div",{children:[t.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1 w-fit mb-1",children:[t.jsx(Ae,{className:"w-3 h-3"}),"Extracted"]}),A.confidence&&t.jsxs("div",{className:"text-xs text-gray-600",children:["Confidence: ",t.jsxs("span",{className:`font-semibold ${A.confidence>=85?"text-green-600":"text-yellow-600"}`,children:[A.confidence,"%"]})]})]}),A.status==="error"&&t.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium flex items-center gap-1 w-fit",children:[t.jsx(en,{className:"w-3 h-3"}),"Error"]})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[A.status==="extracted"&&A.candidateId&&t.jsxs("button",{onClick:()=>window.location.hash="candidates",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm",children:[t.jsx(tr,{className:"w-4 h-4"}),"View Candidate"]}),A.status==="error"&&t.jsx("button",{onClick:()=>V(A.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Retry Extraction"}),A.status!=="extracted"&&A.status!=="processing"&&t.jsxs("button",{onClick:()=>E(A.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:[t.jsx(zh,{className:"w-4 h-4"}),"Process CV"]}),t.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Download",children:t.jsx(Lt,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>z(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete CV",children:t.jsx(G0,{className:"w-4 h-4"})})]})})]},A.id))})]})]})}),t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:t.jsx(vi,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" Fully Automatic AI Processing"}),t.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"When a CV arrives from WhatsApp, Email, or Web Form, our AI automatically:"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"1"}),"Reads the CV file"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"2"}),"Extracts all data"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"3"}),"Creates candidate profile"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"4"}),"Flags if needs review"]})]}),t.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:t.jsxs("p",{className:"text-sm text-gray-700",children:[t.jsx("strong",{children:" What happens next:"})," The candidate automatically appears in ",t.jsx("strong",{children:"Candidate Management"})," with a ",t.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Needs Review"})," badge if confidence is low. You can then review and fix any missing fields."]})})]})]})})]})}const Pg=[{id:"tmpl-001",name:"CV Received - WhatsApp",type:"WhatsApp",trigger:"CV Received",message:` Thank you {name}!

We have received your CV for the position of {position}.

 Your application details:
 Name: {name}
 Position: {position}
 Country of Interest: {country}

Our team will review your profile and contact you within 2-3 business days.

 Track your application: falisha.com/track/{id}

Best regards,
Falisha Manpower`,variables:["name","position","country","id"],autoSend:!0,active:!0,usageCount:1247},{id:"tmpl-002",name:"CV Received - Email",type:"Email",trigger:"CV Received",subject:"Application Received - {position} Position",message:`Dear {name},

Thank you for applying to Falisha Manpower for the position of {position}.

We have successfully received your CV and it is now under review by our recruitment team.

Application Details:
- Position Applied: {position}
- Country of Interest: {country}
- Application Date: {date}
- Application ID: {id}

What happens next?
1. Our team will review your profile within 2-3 business days
2. If shortlisted, we will contact you for an interview
3. You can track your application status at: https://falisha.com/track/{id}

If you have any questions, feel free to contact us:
 Phone: +92 300 1234567
 Email: info@falisha.com

Best regards,
Recruitment Team
Falisha Manpower`,variables:["name","position","country","date","id"],autoSend:!0,active:!0,usageCount:892},{id:"tmpl-003",name:"Interview Scheduled - WhatsApp",type:"WhatsApp",trigger:"Interview Scheduled",message:` Great news {name}!

You have been shortlisted for the {position} position.

 Interview Details:
 Date: {interview_date}
 Time: {interview_time}
 Location: {interview_location}

 Please bring:
 Original passport
 Educational certificates
 Experience letters
 2 passport size photos

Reply "CONFIRM" to confirm your attendance.

Good luck!
Falisha Manpower`,variables:["name","position","interview_date","interview_time","interview_location"],autoSend:!1,active:!0,usageCount:156},{id:"tmpl-004",name:"Interview Scheduled - Email",type:"Email",trigger:"Interview Scheduled",subject:"Interview Invitation - {position} Position at Falisha Manpower",message:`Dear {name},

Congratulations! You have been shortlisted for the {position} position.

Interview Details:
------------------
Date: {interview_date}
Time: {interview_time}
Location: {interview_location}
Duration: Approximately 30-45 minutes

Documents Required:
-------------------
1. Original Passport (valid for at least 2 years)
2. Educational Certificates (attested copies)
3. Experience Letters from previous employers
4. Professional Certificates/Licenses
5. Two recent passport-size photographs
6. Copy of this email

Interview Format:
-----------------
The interview will consist of:
- Skills assessment
- Language proficiency test
- Personal interview with HR
- Medical fitness check (if applicable)

Important Notes:
---------------
 Please arrive 15 minutes before your scheduled time
 Dress code: Business casual
 Bring all original documents for verification
 Reply to this email to confirm your attendance

If you need to reschedule, please contact us at least 24 hours in advance.

We look forward to meeting you!

Best regards,
{recruiter_name}
Falisha Manpower
Phone: {office_phone}
Email: {office_email}`,variables:["name","position","interview_date","interview_time","interview_location","recruiter_name","office_phone","office_email"],autoSend:!1,active:!0,usageCount:134},{id:"tmpl-005",name:"Offer Letter - Email",type:"Email",trigger:"Offer Letter",subject:"Job Offer - {position} in {country}",message:`Dear {name},

We are pleased to offer you the position of {position} with our client in {country}.

Job Offer Details:
------------------
Position: {position}
Country: {country}
Employer: {employer_name}
Salary: {salary} per month
Contract Duration: {contract_duration}
Benefits: {benefits}

Next Steps:
-----------
1. Review the attached employment contract
2. Sign and return the contract within 3 days
3. Complete medical examination
4. Submit all required documents
5. Attend pre-departure orientation

Required Documents:
-------------------
 Signed contract
 Medical fitness certificate
 Police clearance certificate
 Educational certificates (attested)
 Passport copy
 Passport-size photographs (6 copies)

Please confirm your acceptance by replying to this email within 48 hours.

Congratulations on your new opportunity!

Best regards,
{recruiter_name}
Falisha Manpower`,variables:["name","position","country","employer_name","salary","contract_duration","benefits","recruiter_name"],autoSend:!1,active:!0,usageCount:67},{id:"tmpl-006",name:"Application Status Update - SMS",type:"SMS",trigger:"Manual",message:"Hi {name}, your application (ID: {id}) for {position} is now {status}. Contact us for details: +92 300 1234567",variables:["name","id","position","status"],autoSend:!1,active:!0,usageCount:423}];function Tg(){const[a,s]=D.useState(Pg),[n,l]=D.useState(null),[c,u]=D.useState("all"),[h,f]=D.useState(!1),[m,x]=D.useState({name:"Ahmed Hassan",position:"Electrician",country:"UAE",date:"2024-12-13",id:"CND-001",interview_date:"2024-12-20",interview_time:"10:00 AM",interview_location:"Falisha Office, Lahore",recruiter_name:"Sarah Ahmed",office_phone:"+92 300 1234567",office_email:"info@falisha.com",employer_name:"ABC Construction",salary:"1500 AED",contract_duration:"2 years",benefits:"Accommodation, Food, Transportation",status:"Under Review"}),y=c==="all"?a:a.filter(E=>E.type===c),b=E=>{let R=E.message;return Object.entries(m).forEach(([w,O])=>{R=R.replace(new RegExp(`{${w}}`,"g"),O)}),R},N={total:a.length,whatsapp:a.filter(E=>E.type==="WhatsApp").length,email:a.filter(E=>E.type==="Email").length,sms:a.filter(E=>E.type==="SMS").length,auto:a.filter(E=>E.autoSend).length,active:a.filter(E=>E.active).length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl",children:"Communication Templates"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Automated messages for WhatsApp, Email & SMS"})]}),t.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg",children:[t.jsx(Si,{className:"w-5 h-5"}),"Create Template"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),t.jsx(yr,{className:"w-4 h-4 text-gray-400"})]}),t.jsx("div",{className:"text-2xl font-semibold",children:N.total})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-green-700",children:"WhatsApp"}),t.jsx(yr,{className:"w-4 h-4 text-green-600"})]}),t.jsx("div",{className:"text-2xl font-semibold text-green-900",children:N.whatsapp})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-blue-700",children:"Email"}),t.jsx(st,{className:"w-4 h-4 text-blue-600"})]}),t.jsx("div",{className:"text-2xl font-semibold text-blue-900",children:N.email})]}),t.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-purple-700",children:"SMS"}),t.jsx(Eo,{className:"w-4 h-4 text-purple-600"})]}),t.jsx("div",{className:"text-2xl font-semibold text-purple-900",children:N.sms})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-2 border-yellow-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-yellow-700",children:"Auto-Send"}),t.jsx(pi,{className:"w-4 h-4 text-yellow-600"})]}),t.jsx("div",{className:"text-2xl font-semibold text-yellow-900",children:N.auto})]}),t.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-green-700",children:"Active"}),t.jsx(Ae,{className:"w-4 h-4 text-green-600"})]}),t.jsx("div",{className:"text-2xl font-semibold text-green-900",children:N.active})]})]}),t.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg transition-colors ${c==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Templates"}),t.jsxs("button",{onClick:()=>u("WhatsApp"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c==="WhatsApp"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx(yr,{className:"w-4 h-4"}),"WhatsApp"]}),t.jsxs("button",{onClick:()=>u("Email"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c==="Email"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx(st,{className:"w-4 h-4"}),"Email"]}),t.jsxs("button",{onClick:()=>u("SMS"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c==="SMS"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx(Eo,{className:"w-4 h-4"}),"SMS"]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(E=>t.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsxs("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${E.type==="WhatsApp"?"bg-green-100":E.type==="Email"?"bg-blue-100":"bg-purple-100"}`,children:[E.type==="WhatsApp"&&t.jsx(yr,{className:"w-6 h-6 text-green-600"}),E.type==="Email"&&t.jsx(st,{className:"w-6 h-6 text-blue-600"}),E.type==="SMS"&&t.jsx(Eo,{className:"w-6 h-6 text-purple-600"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:E.name}),t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${E.type==="WhatsApp"?"bg-green-100 text-green-700":E.type==="Email"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:E.type}),t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:E.trigger}),E.autoSend&&t.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(pi,{className:"w-3 h-3"}),"Auto-Send"]}),E.active&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium flex items-center gap-1",children:[t.jsx(Ae,{className:"w-3 h-3"}),"Active"]})]})]})]})}),E.subject&&t.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded border border-gray-200",children:[t.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Subject:"}),t.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.subject})]}),t.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[t.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Message:"}),t.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap line-clamp-4 font-mono",children:E.message})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Variables Used:"}),t.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:E.variables.map(R=>t.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-mono",children:`{${R}}`},R))})]}),t.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4 pb-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(pi,{className:"w-4 h-4"}),t.jsxs("span",{children:["Used ",E.usageCount," times"]})]})}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsxs("button",{onClick:()=>{l(E),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx(tr,{className:"w-4 h-4"}),"Preview"]}),t.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx(Mh,{className:"w-4 h-4"}),"Copy"]}),t.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx(Mo,{className:"w-4 h-4"}),"Edit"]}),t.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx(Ei,{className:"w-4 h-4"}),"Delete"]})]})]})},E.id))}),h&&n&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-semibold",children:"Template Preview"}),t.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:t.jsx("span",{className:"text-2xl",children:""})})]})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-semibold mb-2",children:n.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:n.type}),t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:n.trigger})]})]}),n.subject&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Subject:"}),t.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:b({...n,message:n.subject})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Message:"}),t.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded whitespace-pre-wrap",children:b(n)})]}),t.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:t.jsxs("div",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Note:"})," This preview uses sample data. Actual messages will use real candidate information."]})})]}),t.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex items-center justify-end gap-3",children:[t.jsx("button",{onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"}),t.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[t.jsx(pi,{className:"w-5 h-5"}),"Send Test Message"]})]})]})}),t.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:t.jsx(Uo,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automated Communication System"}),t.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:['Templates with "Auto-Send" enabled will automatically send messages when triggered. You can use variables like ',"{name}",", ","{position}",", etc. to personalize messages."]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"Auto-send on CV received"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"Personalized variables"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"Multi-channel support"]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[t.jsx(Ae,{className:"w-4 h-4 text-green-600"}),"Usage tracking"]})]})]})]})})]})}const qh={Admin:{candidates:{view:!0,create:!0,edit:!0,delete:!0,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!0},jobs:{view:!0,create:!0,edit:!0,delete:!0},documents:{view:!0,upload:!0,delete:!0},analytics:{view:!0,export:!0},users:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0}},Manager:{candidates:{view:!0,create:!0,edit:!0,delete:!1,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!1},jobs:{view:!0,create:!0,edit:!0,delete:!1},documents:{view:!0,upload:!0,delete:!1},analytics:{view:!0,export:!0},users:{view:!0,create:!1,edit:!1,delete:!1},settings:{view:!0,edit:!1}},Recruiter:{candidates:{view:!0,create:!0,edit:!0,delete:!1,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!1},jobs:{view:!0,create:!0,edit:!0,delete:!1},documents:{view:!0,upload:!0,delete:!1},analytics:{view:!0,export:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1}},Viewer:{candidates:{view:!0,create:!1,edit:!1,delete:!1,export:!1},employers:{view:!0,create:!1,edit:!1,delete:!1},jobs:{view:!0,create:!1,edit:!1,delete:!1},documents:{view:!0,upload:!1,delete:!1},analytics:{view:!0,export:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1}}},Us=[{id:"1",name:"Sarah Admin",email:"admin@falisha.com",password:"admin123",role:"Admin",phone:"+1 (555) 100-0001",department:"Management",joinedDate:"2023-01-15",lastActive:"2 minutes ago",status:"Active"},{id:"2",name:"John Recruiter",email:"john@falisha.com",password:"recruiter123",role:"Recruiter",phone:"+1 (555) 100-0002",department:"Recruitment",joinedDate:"2023-03-20",lastActive:"15 minutes ago",status:"Active"},{id:"3",name:"Maria Manager",email:"maria@falisha.com",password:"manager123",role:"Manager",phone:"+1 (555) 100-0003",department:"Operations",joinedDate:"2023-02-10",lastActive:"1 hour ago",status:"Active"},{id:"4",name:"David Viewer",email:"david@falisha.com",password:"viewer123",role:"Viewer",phone:"+1 (555) 100-0004",department:"Support",joinedDate:"2023-06-01",lastActive:"3 hours ago",status:"Active"},{id:"5",name:"Lisa Recruiter",email:"lisa@falisha.com",password:"recruiter123",role:"Recruiter",phone:"+1 (555) 100-0005",department:"Recruitment",joinedDate:"2023-04-15",lastActive:"30 minutes ago",status:"Active"},{id:"6",name:"James Inactive",email:"james@falisha.com",password:"inactive123",role:"Recruiter",phone:"+1 (555) 100-0006",department:"Recruitment",joinedDate:"2023-05-01",lastActive:"2 days ago",status:"Inactive"}];function Og(a){const s=qh[a.role];return a.permissions?{candidates:{...s.candidates,...a.permissions.candidates},employers:{...s.employers,...a.permissions.employers},jobs:{...s.jobs,...a.permissions.jobs},documents:{...s.documents,...a.permissions.documents},analytics:{...s.analytics,...a.permissions.analytics},users:{...s.users,...a.permissions.users},settings:{...s.settings,...a.permissions.settings}}:s}function Rg(a,s,n){return Og(a)[s]?.[n]||!1}function Ci(a,s){var n={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s.indexOf(l)<0&&(n[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(a);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(n[l[c]]=a[l[c]]);return n}function Lg(a,s,n,l){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function f(y){try{x(l.next(y))}catch(b){h(b)}}function m(y){try{x(l.throw(y))}catch(b){h(b)}}function x(y){y.done?u(y.value):c(y.value).then(f,m)}x((l=l.apply(a,s||[])).next())})}const Ig=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);class Zo extends Error{constructor(s,n="FunctionsError",l){super(s),this.name=n,this.context=l}}class Dg extends Zo{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class hh extends Zo{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class ph extends Zo{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Fo;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Fo||(Fo={}));class $g{constructor(s,{headers:n={},customFetch:l,region:c=Fo.Any}={}){this.url=s,this.headers=n,this.region=c,this.fetch=Ig(l)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return Lg(this,arguments,void 0,function*(n,l={}){var c;let u,h;try{const{headers:f,method:m,body:x,signal:y,timeout:b}=l;let N={},{region:E}=l;E||(E=this.region);const R=new URL(`${this.url}/${n}`);E&&E!=="any"&&(N["x-region"]=E,R.searchParams.set("forceFunctionRegion",E));let w;x&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",w=x):typeof x=="string"?(N["Content-Type"]="text/plain",w=x):typeof FormData<"u"&&x instanceof FormData?w=x:(N["Content-Type"]="application/json",w=JSON.stringify(x)):w=x;let O=y;b&&(h=new AbortController,u=setTimeout(()=>h.abort(),b),y?(O=h.signal,y.addEventListener("abort",()=>h.abort())):O=h.signal);const U=yield this.fetch(R.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),f),body:w,signal:O}).catch(S=>{throw new Dg(S)}),z=U.headers.get("x-relay-error");if(z&&z==="true")throw new hh(U);if(!U.ok)throw new ph(U);let V=((c=U.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),G;return V==="application/json"?G=yield U.json():V==="application/octet-stream"||V==="application/pdf"?G=yield U.blob():V==="text/event-stream"?G=U:V==="multipart/form-data"?G=yield U.formData():G=yield U.text(),{data:G,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof ph||f instanceof hh?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Mg=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},Ug=class{constructor(a){var s,n;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(n=a.isMaybeSingle)!==null&&n!==void 0?n:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let h=null,f=null,m=null,x=u.status,y=u.statusText;if(u.ok){var b,N;if(n.method!=="HEAD"){var E;const U=await u.text();U===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((E=n.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const w=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),O=(N=u.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");w&&O&&O.length>1&&(m=parseInt(O[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,x=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var R;const w=await u.text();try{h=JSON.parse(w),Array.isArray(h)&&u.status===404&&(f=[],h=null,x=200,y="OK")}catch{u.status===404&&w===""?(x=204,y="No Content"):h={message:w}}if(h&&n.isMaybeSingle&&(!(h==null||(R=h.details)===null||R===void 0)&&R.includes("0 rows"))&&(h=null,x=200,y="OK"),h&&n.shouldThrowOnError)throw new Mg(h)}return{error:h,data:f,count:m,status:x,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var h;let f="";const m=u?.cause;if(m){var x,y,b,N;const R=(x=m?.message)!==null&&x!==void 0?x:"",w=(y=m?.code)!==null&&y!==void 0?y:"";f=`${(b=u?.name)!==null&&b!==void 0?b:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(N=m?.name)!==null&&N!==void 0?N:"Error"}: ${R}`,w&&(f+=` (${w})`),m?.stack&&(f+=`
${m.stack}`)}else{var E;f=(E=u?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(h=u?.name)!==null&&h!==void 0?h:"FetchError"}: ${u?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,s)}returns(){return this}overrideTypes(){return this}},Fg=class extends Ug{select(a){let s=!1;const n=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:n,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${a}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:n=s}={}){const l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:n,referencedTable:l=n}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:n=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const f=[a?"analyze":null,s?"verbose":null,n?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const mh=new RegExp("[,()]");var Gs=class extends Fg{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const n=Array.from(new Set(s)).map(l=>typeof l=="string"&&mh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${n})`),this}notIn(a,s){const n=Array.from(new Set(s)).map(l=>typeof l=="string"&&mh.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${n})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:n,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(a,`${c}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(a,s,n){return this.url.searchParams.append(a,`not.${s}.${n}`),this}or(a,{foreignTable:s,referencedTable:n=s}={}){const l=n?`${n}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,s,n){return this.url.searchParams.append(a,`${s}.${n}`),this}},zg=class{constructor(a,{headers:s={},schema:n,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=n,this.fetch=l}select(a,s){const{head:n=!1,count:l}=s??{},c=n?"HEAD":"GET";let u=!1;const h=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new Gs({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:n=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new Gs({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:n=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(f.length>0){const m=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new Gs({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var n;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Gs({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:a}={}){var s;const n="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new Gs({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}},Bg=class Hh{constructor(s,{headers:n={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(n),this.schemaName=l,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zg(new URL(`${this.url}/${s}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Hh(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,n={},{head:l=!1,get:c=!1,count:u}={}){var h;let f;const m=new URL(`${this.url}/rpc/${s}`);let x;l||c?(f=l?"HEAD":"GET",Object.entries(n).filter(([b,N])=>N!==void 0).map(([b,N])=>[b,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([b,N])=>{m.searchParams.append(b,N)})):(f="POST",x=n);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new Gs({method:f,url:m,headers:y,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Vg{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const l=n.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const l=this.getWebSocketConstructor();return new l(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Wg="2.89.0",qg=`realtime-js/${Wg}`,Kh="1.0.0",Hg="2.0.0",fh=Kh,zo=1e4,Kg=1e3,Gg=100;var Fr;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Fr||(Fr={}));var Ye;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Ye||(Ye={}));var Xt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Xt||(Xt={}));var Bo;(function(a){a.websocket="websocket"})(Bo||(Bo={}));var us;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(us||(us={}));class Jg{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,n){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(s));let l=[s.join_ref,s.ref,s.topic,s.event,s.payload];return n(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(s){var n;return this._isArrayBuffer((n=s.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var n,l;const c=(l=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(s){var n,l;const c=(l=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(s,n,l){var c,u;const h=s.topic,f=(c=s.ref)!==null&&c!==void 0?c:"",m=(u=s.join_ref)!==null&&u!==void 0?u:"",x=s.payload.event,y=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+h.length+x.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+N);let R=new DataView(E),w=0;R.setUint8(w++,this.KINDS.userBroadcastPush),R.setUint8(w++,m.length),R.setUint8(w++,f.length),R.setUint8(w++,h.length),R.setUint8(w++,x.length),R.setUint8(w++,b.length),R.setUint8(w++,n),Array.from(m,U=>R.setUint8(w++,U.charCodeAt(0))),Array.from(f,U=>R.setUint8(w++,U.charCodeAt(0))),Array.from(h,U=>R.setUint8(w++,U.charCodeAt(0))),Array.from(x,U=>R.setUint8(w++,U.charCodeAt(0))),Array.from(b,U=>R.setUint8(w++,U.charCodeAt(0)));var O=new Uint8Array(E.byteLength+l.byteLength);return O.set(new Uint8Array(E),0),O.set(new Uint8Array(l),E.byteLength),O.buffer}decode(s,n){if(this._isArrayBuffer(s)){let l=this._binaryDecode(s);return n(l)}if(typeof s=="string"){const l=JSON.parse(s),[c,u,h,f,m]=l;return n({join_ref:c,ref:u,topic:h,event:f,payload:m})}return n({})}_binaryDecode(s){const n=new DataView(s),l=n.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,n,c)}}_decodeUserBroadcast(s,n,l){const c=n.getUint8(1),u=n.getUint8(2),h=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const x=l.decode(s.slice(m,m+c));m=m+c;const y=l.decode(s.slice(m,m+u));m=m+u;const b=l.decode(s.slice(m,m+h));m=m+h;const N=s.slice(m,s.byteLength),E=f===this.JSON_ENCODING?JSON.parse(l.decode(N)):N,R={type:this.BROADCAST_EVENT,event:y,payload:E};return h>0&&(R.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(s){var n;return s instanceof ArrayBuffer||((n=s?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(s,n){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([l])=>n.includes(l)))}}class Gh{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Te||(Te={}));const gh=(a,s,n={})=>{var l;const c=(l=n.skipTypes)!==null&&l!==void 0?l:[];return s?Object.keys(s).reduce((u,h)=>(u[h]=Qg(h,a,s,c),u),{}):{}},Qg=(a,s,n,l)=>{const c=s.find(f=>f.name===a),u=c?.type,h=n[a];return u&&!l.includes(u)?Jh(u,h):Vo(h)},Jh=(a,s)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return ex(s,n)}switch(a){case Te.bool:return Yg(s);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return Xg(s);case Te.json:case Te.jsonb:return Zg(s);case Te.timestamp:return tx(s);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Vo(s);default:return Vo(s)}},Vo=a=>a,Yg=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Xg=a=>{if(typeof a=="string"){const s=parseFloat(a);if(!Number.isNaN(s))return s}return a},Zg=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},ex=(a,s)=>{if(typeof a!="string")return a;const n=a.length-1,l=a[n];if(a[0]==="{"&&l==="}"){let u;const h=a.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(f=>Jh(s,f))}return a},tx=a=>typeof a=="string"?a.replace(" ","T"):a,Qh=a=>{const s=new URL(a);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class Co{constructor(s,n,l={},c=zo){this.channel=s,this.event=n,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var l;return this._hasReceived(s)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(l=>l.status===s).forEach(l=>l.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var xh;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(xh||(xh={}));class Kn{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,c,u,h),this.pendingDiffs.forEach(m=>{this.state=Kn.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],f()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Kn.syncDiff(this.state,c,u,h),f())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,l,c){const u=this.cloneDeep(s),h=this.transformState(n),f={},m={};return this.map(u,(x,y)=>{h[x]||(m[x]=y)}),this.map(h,(x,y)=>{const b=u[x];if(b){const N=y.map(O=>O.presence_ref),E=b.map(O=>O.presence_ref),R=y.filter(O=>E.indexOf(O.presence_ref)<0),w=b.filter(O=>N.indexOf(O.presence_ref)<0);R.length>0&&(f[x]=R),w.length>0&&(m[x]=w)}else f[x]=y}),this.syncDiff(u,{joins:f,leaves:m},l,c)}static syncDiff(s,n,l,c){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(f,m)=>{var x;const y=(x=s[f])!==null&&x!==void 0?x:[];if(s[f]=this.cloneDeep(m),y.length>0){const b=s[f].map(E=>E.presence_ref),N=y.filter(E=>b.indexOf(E.presence_ref)<0);s[f].unshift(...N)}l(f,y,m)}),this.map(h,(f,m)=>{let x=s[f];if(!x)return;const y=m.map(b=>b.presence_ref);x=x.filter(b=>y.indexOf(b.presence_ref)<0),s[f]=x,c(f,x,m),x.length===0&&delete s[f]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(l=>n(l,s[l]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,l)=>{const c=s[l];return"metas"in c?n[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[l]=c,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yh;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(yh||(yh={}));var Gn;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Gn||(Gn={}));var xr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(xr||(xr={}));class Xs{constructor(s,n={config:{}},l){var c,u;if(this.topic=s,this.params=n,this.socket=l,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Gh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new Kn(this),this.broadcastEndpointURL=Qh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,n=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,x=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(E=>E.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[Gn.PRESENCE]&&this.bindings[Gn.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},N={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:x,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>s?.(xr.CHANNEL_ERROR,E)),this._onClose(()=>s?.(xr.CLOSED)),this.updateJoinPayload(Object.assign({config:N},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){s?.(xr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,O=(R=w?.length)!==null&&R!==void 0?R:0,U=[];for(let z=0;z<O;z++){const V=w[z],{filter:{event:G,schema:S,table:A,filter:H}}=V,ae=E&&E[z];if(ae&&ae.event===G&&Xs.isFilterValueEqual(ae.schema,S)&&Xs.isFilterValueEqual(ae.table,A)&&Xs.isFilterValueEqual(ae.filter,H))U.push(Object.assign(Object.assign({},V),{id:ae.id}));else{this.unsubscribe(),this.state=Ye.errored,s?.(xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,s&&s(xr.SUBSCRIBED);return}}).receive("error",E=>{this.state=Ye.errored,s?.(xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{s?.(xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,l){return this.state===Ye.joined&&s===Gn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,n,l)}async httpSend(s,n,l={}){var c;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const x=await f.json();m=x.error||x.message||m}catch{}return Promise.reject(new Error(m))}async send(s,n={}){var l,c;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=s,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,f,m;const x=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),x.receive("ok",()=>u("ok")),x.receive("error",()=>u("error")),x.receive("timeout",()=>u("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Co(this,Xt.leave,{},s),l.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(s,n,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(u),h}_push(s,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Co(this,s,n,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Gg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,l){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,l){var c,u;const h=s.toLocaleLowerCase(),{close:f,error:m,leave:x,join:y}=Xt;if(l&&[f,m,x,y].indexOf(h)>=0&&l!==this._joinRef())return;let N=this._onMessage(h,n,l);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(E=>{var R,w,O;return((R=E.filter)===null||R===void 0?void 0:R.event)==="*"||((O=(w=E.filter)===null||w===void 0?void 0:w.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===h}).map(E=>E.callback(N,l)):(u=this.bindings[h])===null||u===void 0||u.filter(E=>{var R,w,O,U,z,V;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const G=E.id,S=(R=E.filter)===null||R===void 0?void 0:R.event;return G&&((w=n.ids)===null||w===void 0?void 0:w.includes(G))&&(S==="*"||S?.toLocaleLowerCase()===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const G=(z=(U=E?.filter)===null||U===void 0?void 0:U.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return G==="*"||G===((V=n?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof N=="object"&&"ids"in N){const R=N.data,{schema:w,table:O,commit_timestamp:U,type:z,errors:V}=R;N=Object.assign(Object.assign({},{schema:w,table:O,commit_timestamp:U,eventType:z,new:{},old:{},errors:V}),this._getPayloadRecords(R))}E.callback(N,l)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,l){const c=s.toLocaleLowerCase(),u={type:c,filter:n,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(s,n){const l=s.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&Xs.isEqual(c.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const l in s)if(s[l]!==n[l])return!1;return!0}static isFilterValueEqual(s,n){return(s??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Xt.close,{},s)}_onError(s){this._on(Xt.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=gh(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=gh(s.columns,s.old_record)),n}}const Ao=()=>{},mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rx=[1e3,2e3,5e3,1e4],sx=1e4,nx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ax{constructor(s,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zo,this.transport=null,this.heartbeatIntervalMs=mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ao,this.ref=0,this.reconnectTimer=null,this.vsn=fh,this.logger=Ao,this.conn=null,this.sendBuffer=[],this.serializer=new Jg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=n?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${Bo.websocket}`,this.httpEndpoint=Qh(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vg.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,l){this.logger(s,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return us.Connecting;case Fr.open:return us.Open;case Fr.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const l=`realtime:${s}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new Xs(`realtime:${s}`,n,this);return this.channels.push(u),u}}push(s){const{topic:n,event:l,payload:c,ref:u}=s,h=()=>{this.encode(s,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Kg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(l=>l.topic===s&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:u,ref:h}=n,f=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${c} ${f}`.trim(),u),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(c,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===Fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Xt.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const l=s.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${s}${l}${c}`}_workerObjectUrl(s){let n;if(s)n=s;else{const l=new Blob([nx],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n,l=!1;if(s)n=s,l=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),n=this.accessTokenValue}else n=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(c=>{const u={access_token:n,version:qg};n&&c.updateJoinPayload(u),c.joinedOnce&&c._isJoined()&&c._push(Xt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(l=>{try{l(n)}catch(c){this.log("error",`error in ${s} callback`,c)}})}catch(l){this.log("error",`error triggering ${s} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Gh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,l,c,u,h,f,m,x,y,b,N,E;switch(this.transport=(n=s?.transport)!==null&&n!==void 0?n:null,this.timeout=(l=s?.timeout)!==null&&l!==void 0?l:zo,this.heartbeatIntervalMs=(c=s?.heartbeatIntervalMs)!==null&&c!==void 0?c:mi.HEARTBEAT_INTERVAL,this.worker=(u=s?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=s?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=s?.heartbeatCallback)!==null&&f!==void 0?f:Ao,this.vsn=(m=s?.vsn)!==null&&m!==void 0?m:fh,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=s?.reconnectAfterMs)!==null&&x!==void 0?x:(R=>rx[R-1]||sx),this.vsn){case Kh:this.encode=(y=s?.encode)!==null&&y!==void 0?y:((R,w)=>w(JSON.stringify(R))),this.decode=(b=s?.decode)!==null&&b!==void 0?b:((R,w)=>w(JSON.parse(R)));break;case Hg:this.encode=(N=s?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(E=s?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}var Yn=class extends Error{constructor(a,s){super(a),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&s.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ix(a,s,n){const l=new URL(s,a);if(n)for(const[c,u]of Object.entries(n))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function lx(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function ox(a){const s=a.fetchImpl??globalThis.fetch;return{async request({method:n,path:l,query:c,body:u,headers:h}){const f=ix(a.baseUrl,l,c),m=await lx(a.auth),x=await s(f,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...m,...h},body:u?JSON.stringify(u):void 0}),y=await x.text(),b=(x.headers.get("content-type")||"").includes("application/json"),N=b&&y?JSON.parse(y):y;if(!x.ok){const E=b?N:void 0,R=E?.error;throw new Yn(R?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:R?.type,icebergCode:R?.code,details:E})}return{status:x.status,headers:x.headers,data:N}}}}function fi(a){return a.join("")}var cx=class{constructor(a,s=""){this.client=a,this.prefix=s}async listNamespaces(a){const s=a?{parent:fi(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,s){const n={namespace:a.namespace,properties:s?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fi(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fi(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fi(a.namespace)}`}),!0}catch(s){if(s instanceof Yn&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(a,s){try{return await this.createNamespace(a,s)}catch(n){if(n instanceof Yn&&n.status===409)return;throw n}}};function Fs(a){return a.join("")}var dx=class{constructor(a,s="",n){this.client=a,this.prefix=s,this.accessDelegation=n}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(a.namespace)}/tables`})).data.identifiers}async createTable(a,s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(a.namespace)}/tables`,body:s,headers:n})).data.metadata}async updateTable(a,s){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(a.namespace)}/tables/${a.name}`,body:s});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(a,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(s?.purge??!1)}})}async loadTable(a){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(a.namespace)}/tables/${a.name}`,headers:s})).data.metadata}async tableExists(a){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(a.namespace)}/tables/${a.name}`,headers:s}),!0}catch(n){if(n instanceof Yn&&n.status===404)return!1;throw n}}async createTableIfNotExists(a,s){try{return await this.createTable(a,s)}catch(n){if(n instanceof Yn&&n.status===409)return await this.loadTable({namespace:a.namespace,name:s.name});throw n}}},ux=class{constructor(a){let s="v1";a.catalogName&&(s+=`/${a.catalogName}`);const n=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=ox({baseUrl:n,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new cx(this.client,s),this.tableOps=new dx(this.client,s,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,s){return this.namespaceOps.createNamespace(a,s)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,s){return this.tableOps.createTable(a,s)}async updateTable(a,s){return this.tableOps.updateTable(a,s)}async dropTable(a,s){await this.tableOps.dropTable(a,s)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,s){return this.namespaceOps.createNamespaceIfNotExists(a,s)}async createTableIfNotExists(a,s){return this.tableOps.createTableIfNotExists(a,s)}},Ai=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function $e(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var hx=class extends Ai{constructor(a,s,n){super(a),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wo=class extends Ai{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}};const ec=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),px=()=>Response,qo=a=>{if(Array.isArray(a))return a.map(n=>qo(n));if(typeof a=="function"||a!==Object(a))return a;const s={};return Object.entries(a).forEach(([n,l])=>{const c=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));s[c]=qo(l)}),s},mx=a=>{if(typeof a!="object"||a===null)return!1;const s=Object.getPrototypeOf(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},fx=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Xn(a){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Xn(a)}function gx(a,s){if(Xn(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var l=n.call(a,s);if(Xn(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function xx(a){var s=gx(a,"string");return Xn(s)=="symbol"?s:s+""}function yx(a,s,n){return(s=xx(s))in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n,a}function vh(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);s&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),n.push.apply(n,l)}return n}function me(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?vh(Object(n),!0).forEach(function(l){yx(a,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(n,l))})}return a}const Po=a=>{var s;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(s=a.error)===null||s===void 0?void 0:s.message)||JSON.stringify(a)},vx=async(a,s,n)=>{a instanceof await px()&&!n?.noResolveJson?a.json().then(l=>{const c=a.status||500,u=l?.statusCode||c+"";s(new hx(Po(l),c,u))}).catch(l=>{s(new Wo(Po(l),l))}):s(new Wo(Po(a),a))},bx=(a,s,n,l)=>{const c={method:a,headers:s?.headers||{}};return a==="GET"||!l?c:(mx(l)?(c.headers=me({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(l)):c.body=l,s?.duplex&&(c.duplex=s.duplex),me(me({},c),n))};async function sa(a,s,n,l,c,u){return new Promise((h,f)=>{a(n,bx(s,l,c,u)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>vx(m,f,l))})}async function Zn(a,s,n,l){return sa(a,"GET",s,n,l)}async function Yt(a,s,n,l,c){return sa(a,"POST",s,l,c,n)}async function Ho(a,s,n,l,c){return sa(a,"PUT",s,l,c,n)}async function wx(a,s,n,l){return sa(a,"HEAD",s,me(me({},n),{},{noResolveJson:!0}),l)}async function tc(a,s,n,l,c){return sa(a,"DELETE",s,l,c,n)}var jx=class{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(s){if(a.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}};let Yh;Yh=Symbol.toStringTag;var Nx=class{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[Yh]="BlobDownloadBuilder",this.promise=null}asStream(){return new jx(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}};const _x={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kx=class{constructor(a,s={},n,l){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=n,this.fetch=ec(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,s,n,l){var c=this;try{let u;const h=me(me({},bh),l);let f=me(me({},c.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",c.encodeMetadata(m)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),m&&!u.has("metadata")&&u.append("metadata",c.encodeMetadata(m))):(u=n,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),l?.headers&&(f=me(me({},f),l.headers));const x=c._removeEmptyFolders(s),y=c._getFinalPath(x),b=await(a=="PUT"?Ho:Yt)(c.fetch,`${c.url}/object/${y}`,u,me({headers:f},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:x,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(c.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async upload(a,s,n){return this.uploadOrUpdate("POST",a,s,n)}async uploadToSignedUrl(a,s,n,l){var c=this;const u=c._removeEmptyFolders(a),h=c._getFinalPath(u),f=new URL(c.url+`/object/upload/sign/${h}`);f.searchParams.set("token",s);try{let m;const x=me({upsert:bh.upsert},l),y=me(me({},c.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",x.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",x.cacheControl)):(m=n,y["cache-control"]=`max-age=${x.cacheControl}`,y["content-type"]=x.contentType),{data:{path:u,fullPath:(await Ho(c.fetch,f.toString(),m,{headers:y})).Key},error:null}}catch(m){if(c.shouldThrowOnError)throw m;if($e(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(a,s){var n=this;try{let l=n._getFinalPath(a);const c=me({},n.headers);s?.upsert&&(c["x-upsert"]="true");const u=await Yt(n.fetch,`${n.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(n.url+u.url),f=h.searchParams.get("token");if(!f)throw new Ai("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:f},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async update(a,s,n){return this.uploadOrUpdate("PUT",a,s,n)}async move(a,s,n){var l=this;try{return{data:await Yt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(a,s,n){var l=this;try{return{data:{path:(await Yt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(a,s,n){var l=this;try{let c=l._getFinalPath(a),u=await Yt(l.fetch,`${l.url}/object/sign/${c}`,me({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:l.headers});const h=n?.download?`&download=${n.download===!0?"":n.download}`:"";return u={signedUrl:encodeURI(`${l.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(a,s,n){var l=this;try{const c=await Yt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:s,paths:a},{headers:l.headers}),u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:c.map(h=>me(me({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(a,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),c=l?`?${l}`:"",u=this._getFinalPath(a),h=()=>Zn(this.fetch,`${this.url}/${n}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new Nx(h,this.shouldThrowOnError)}async info(a){var s=this;const n=s._getFinalPath(a);try{return{data:qo(await Zn(s.fetch,`${s.url}/object/info/${n}`,{headers:s.headers})),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async exists(a){var s=this;const n=s._getFinalPath(a);try{return await wx(s.fetch,`${s.url}/object/${n}`,{headers:s.headers}),{data:!0,error:null}}catch(l){if(s.shouldThrowOnError)throw l;if($e(l)&&l instanceof Wo){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,s){const n=this._getFinalPath(a),l=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const u=typeof s?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(s?.transform||{});h!==""&&l.push(h);let f=l.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}async remove(a){var s=this;try{return{data:await tc(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:a},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async list(a,s,n){var l=this;try{const c=me(me(me({},_x),s),{},{prefix:a||""});return{data:await Yt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},n),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(a,s){var n=this;try{const l=me({},a);return{data:await Yt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,l,{headers:n.headers},s),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}};const Xh="2.89.0",Zh={"X-Client-Info":`storage-js/${Xh}`};var Sx=class{constructor(a,s={},n,l){this.shouldThrowOnError=!1;const c=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=me(me({},Zh),s),this.fetch=ec(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var s=this;try{const n=s.listBucketOptionsToQueryString(a);return{data:await Zn(s.fetch,`${s.url}/bucket${n}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getBucket(a){var s=this;try{return{data:await Zn(s.fetch,`${s.url}/bucket/${a}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async createBucket(a,s={public:!1}){var n=this;try{return{data:await Yt(n.fetch,`${n.url}/bucket`,{id:a,name:a,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async updateBucket(a,s){var n=this;try{return{data:await Ho(n.fetch,`${n.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async emptyBucket(a){var s=this;try{return{data:await Yt(s.fetch,`${s.url}/bucket/${a}/empty`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(a){var s=this;try{return{data:await tc(s.fetch,`${s.url}/bucket/${a}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},Ex=class{constructor(a,s={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=me(me({},Zh),s),this.fetch=ec(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var s=this;try{return{data:await Yt(s.fetch,`${s.url}/bucket`,{name:a},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async listBuckets(a){var s=this;try{const n=new URLSearchParams;a?.limit!==void 0&&n.set("limit",a.limit.toString()),a?.offset!==void 0&&n.set("offset",a.offset.toString()),a?.sortColumn&&n.set("sortColumn",a.sortColumn),a?.sortOrder&&n.set("sortOrder",a.sortOrder),a?.search&&n.set("search",a.search);const l=n.toString(),c=l?`${s.url}/bucket?${l}`:`${s.url}/bucket`;return{data:await Zn(s.fetch,c,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(a){var s=this;try{return{data:await tc(s.fetch,`${s.url}/bucket/${a}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}from(a){var s=this;if(!fx(a))throw new Ai("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ux({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(n,{get(c,u){const h=c[u];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(c,f),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const rc={"X-Client-Info":`storage-js/${Xh}`,"Content-Type":"application/json"};var ep=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ot(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var To=class extends ep{constructor(a,s,n){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cx=class extends ep{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}};const sc=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),Ax=a=>{if(typeof a!="object"||a===null)return!1;const s=Object.getPrototypeOf(a);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},wh=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Px=async(a,s,n)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!n?.noResolveJson){const l=a.status||500,c=a;if(typeof c.json=="function")c.json().then(u=>{const h=u?.statusCode||u?.code||l+"";s(new To(wh(u),l,h))}).catch(()=>{const u=l+"";s(new To(c.statusText||`HTTP ${l} error`,l,u))});else{const u=l+"";s(new To(c.statusText||`HTTP ${l} error`,l,u))}}else s(new Cx(wh(a),a))},Tx=(a,s,n,l)=>{const c={method:a,headers:s?.headers||{}};return l?(Ax(l)?(c.headers=me({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(l)):c.body=l,me(me({},c),n)):c};async function Ox(a,s,n,l,c,u){return new Promise((h,f)=>{a(n,Tx(s,l,c,u)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const x=m.headers.get("content-type");return!x||!x.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>Px(m,f,l))})}async function Rt(a,s,n,l,c){return Ox(a,"POST",s,l,c,n)}var Rx=class{constructor(a,s={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=me(me({},rc),s),this.fetch=sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/CreateIndex`,a,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async getIndex(a,s){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}async listIndexes(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/ListIndexes`,a,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async deleteIndex(a,s){var n=this;try{return{data:await Rt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ot(l))return{data:null,error:l};throw l}}},Lx=class{constructor(a,s={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=me(me({},rc),s),this.fetch=sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var s=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Rt(s.fetch,`${s.url}/PutVectors`,a,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async getVectors(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/GetVectors`,a,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async listVectors(a){var s=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await Rt(s.fetch,`${s.url}/ListVectors`,a,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async queryVectors(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/QueryVectors`,a,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async deleteVectors(a){var s=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Rt(s.fetch,`${s.url}/DeleteVectors`,a,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}},Ix=class{constructor(a,s={},n){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=me(me({},rc),s),this.fetch=sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async getBucket(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:a},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async listBuckets(a={}){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/ListVectorBuckets`,a,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}async deleteBucket(a){var s=this;try{return{data:await Rt(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ot(n))return{data:null,error:n};throw n}}},Dx=class extends Ix{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new $x(this.url,this.headers,a,this.fetch)}async createBucket(a){var s=()=>super.createBucket,n=this;return s().call(n,a)}async getBucket(a){var s=()=>super.getBucket,n=this;return s().call(n,a)}async listBuckets(a={}){var s=()=>super.listBuckets,n=this;return s().call(n,a)}async deleteBucket(a){var s=()=>super.deleteBucket,n=this;return s().call(n,a)}},$x=class extends Rx{constructor(a,s,n,l){super(a,s,l),this.vectorBucketName=n}async createIndex(a){var s=()=>super.createIndex,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(a={}){var s=()=>super.listIndexes,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(a){var s=()=>super.getIndex,n=this;return s().call(n,n.vectorBucketName,a)}async deleteIndex(a){var s=()=>super.deleteIndex,n=this;return s().call(n,n.vectorBucketName,a)}index(a){return new Mx(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},Mx=class extends Lx{constructor(a,s,n,l,c){super(a,s,c),this.vectorBucketName=n,this.indexName=l}async putVectors(a){var s=()=>super.putVectors,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(a){var s=()=>super.getVectors,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(a={}){var s=()=>super.listVectors,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(a){var s=()=>super.queryVectors,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(a){var s=()=>super.deleteVectors,n=this;return s().call(n,me(me({},a),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Ux=class extends Sx{constructor(a,s={},n,l){super(a,s,n,l)}from(a){return new kx(this.url,this.headers,a,this.fetch)}get vectors(){return new Dx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ex(this.url+"/iceberg",this.headers,this.fetch)}};const tp="2.89.0",Js=30*1e3,Ko=3,Oo=Ko*Js,Fx="http://localhost:9999",zx="supabase.auth.token",Bx={"X-Client-Info":`gotrue-js/${tp}`},Go="X-Supabase-Api-Version",rp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wx=600*1e3;class ea extends Error{constructor(s,n,l){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}}function ie(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class qx extends ea{constructor(s,n,l){super(s,n,l),this.name="AuthApiError",this.status=n,this.code=l}}function Hx(a){return ie(a)&&a.name==="AuthApiError"}class hs extends ea{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}}class br extends ea{constructor(s,n,l,c){super(s,l,c),this.name=n,this.status=l}}class Tt extends br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kx(a){return ie(a)&&a.name==="AuthSessionMissingError"}class zs extends br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gi extends br{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class xi extends br{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(a){return ie(a)&&a.name==="AuthImplicitGrantRedirectError"}class jh extends br{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jx extends br{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jo extends br{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}}function Ro(a){return ie(a)&&a.name==="AuthRetryableFetchError"}class Nh extends br{constructor(s,n,l){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}}class Qo extends br{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_h=` 	
\r=`.split(""),Qx=(()=>{const a=new Array(128);for(let s=0;s<a.length;s+=1)a[s]=-1;for(let s=0;s<_h.length;s+=1)a[_h[s].charCodeAt(0)]=-2;for(let s=0;s<wi.length;s+=1)a[wi[s].charCodeAt(0)]=s;return a})();function kh(a,s,n){if(a!==null)for(s.queue=s.queue<<8|a,s.queuedBits+=8;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;n(wi[l]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;n(wi[l]),s.queuedBits-=6}}function sp(a,s,n){const l=Qx[a];if(l>-1)for(s.queue=s.queue<<6|l,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Sh(a){const s=[],n=h=>{s.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{Zx(h,l,n)};for(let h=0;h<a.length;h+=1)sp(a.charCodeAt(h),c,u);return s.join("")}function Yx(a,s){if(a<=127){s(a);return}else if(a<=2047){s(192|a>>6),s(128|a&63);return}else if(a<=65535){s(224|a>>12),s(128|a>>6&63),s(128|a&63);return}else if(a<=1114111){s(240|a>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Xx(a,s){for(let n=0;n<a.length;n+=1){let l=a.charCodeAt(n);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(a.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}Yx(l,s)}}function Zx(a,s,n){if(s.utf8seq===0){if(a<=127){n(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){s.utf8seq=l;break}if(s.utf8seq===2)s.codepoint=a&31;else if(s.utf8seq===3)s.codepoint=a&15;else if(s.utf8seq===4)s.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|a&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function tn(a){const s=[],n={queue:0,queuedBits:0},l=c=>{s.push(c)};for(let c=0;c<a.length;c+=1)sp(a.charCodeAt(c),n,l);return new Uint8Array(s)}function ey(a){const s=[];return Xx(a,n=>s.push(n)),new Uint8Array(s)}function ps(a){const s=[],n={queue:0,queuedBits:0},l=c=>{s.push(c)};return a.forEach(c=>kh(c,n,l)),kh(null,n,l),s.join("")}function ty(a){return Math.round(Date.now()/1e3)+a}function ry(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},np=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function sy(a){const s={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,u)=>{s[u]=c})}catch{}return n.searchParams.forEach((l,c)=>{s[c]=l}),s}const ap=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),ny=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Qs=async(a,s,n)=>{await a.setItem(s,JSON.stringify(n))},os=async(a,s)=>{const n=await a.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},lt=async(a,s)=>{await a.removeItem(s)};class Pi{constructor(){this.promise=new Pi.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}Pi.promiseConstructor=Promise;function Lo(a){const s=a.split(".");if(s.length!==3)throw new Qo("Invalid JWT structure");for(let l=0;l<s.length;l++)if(!Vx.test(s[l]))throw new Qo("JWT not in base64url format");return{header:JSON.parse(Sh(s[0])),payload:JSON.parse(Sh(s[1])),signature:tn(s[2]),raw:{header:s[0],payload:s[1]}}}async function ay(a){return await new Promise(s=>{setTimeout(()=>s(null),a)})}function iy(a,s){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await a(u);if(!s(u,null,h)){l(h);return}}catch(h){if(!s(u,h)){c(h);return}}})()})}function ly(a){return("0"+a.toString(16)).substr(-2)}function oy(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let c="";for(let u=0;u<56;u++)c+=n.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(s),Array.from(s,ly).join("")}async function cy(a){const n=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function dy(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await cy(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bs(a,s,n=!1){const l=oy();let c=l;n&&(c+="/PASSWORD_RECOVERY"),await Qs(a,`${s}-code-verifier`,c);const u=await dy(l);return[u,l===u?"plain":"s256"]}const uy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hy(a){const s=a.headers.get(Go);if(!s||!s.match(uy))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function py(a){if(!a)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(a<=s)throw new Error("JWT has expired")}function my(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(a){if(!fy.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const a={};return new Proxy(a,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gy(a,s){return new Proxy(a,{get:(n,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,l,c)}return!s.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(n,l,c)}})}function Eh(a){return JSON.parse(JSON.stringify(a))}const cs=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),xy=[502,503,504];async function Ch(a){var s;if(!ny(a))throw new Jo(cs(a),0);if(xy.includes(a.status))throw new Jo(cs(a),a.status);let n;try{n=await a.json()}catch(u){throw new hs(cs(u),u)}let l;const c=hy(a);if(c&&c.getTime()>=rp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new Nh(cs(n),a.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(l==="session_not_found")throw new Tt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Nh(cs(n),a.status,n.weak_password.reasons);throw new qx(cs(n),a.status||500,l)}const yy=(a,s,n,l)=>{const c={method:a,headers:s?.headers||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),n))};async function pe(a,s,n,l){var c;const u=Object.assign({},l?.headers);u[Go]||(u[Go]=rp["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await vy(a,s,n+f,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function vy(a,s,n,l,c,u){const h=yy(s,l,c,u);let f;try{f=await a(n,Object.assign({},h))}catch(m){throw console.error(m),new Jo(cs(m),0)}if(f.ok||await Ch(f),l?.noResolveJson)return f;try{return await f.json()}catch(m){await Ch(m)}}function Qt(a){var s;let n=null;jy(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=ty(a.expires_in)));const l=(s=a.user)!==null&&s!==void 0?s:a;return{data:{session:n,user:l},error:null}}function Ah(a){const s=Qt(a);return!s.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(s.data.weak_password=a.weak_password),s}function zr(a){var s;return{data:{user:(s=a.user)!==null&&s!==void 0?s:a},error:null}}function by(a){return{data:a,error:null}}function wy(a){const{action_link:s,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u}=a,h=Ci(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:s,email_otp:n,hashed_token:l,redirect_to:c,verification_type:u},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function Ph(a){return a}function jy(a){return a.access_token&&a.refresh_token&&a.expires_in}const Do=["global","local","others"];class Ny{constructor({url:s="",headers:n={},fetch:l}){this.url=s,this.headers=n,this.fetch=ap(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,n=Do[0]){if(Do.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(s,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(s){try{const{options:n}=s,l=Ci(s,["options"]),c=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:wy,redirectTo:n?.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:zr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,l,c,u,h,f,m;try{const x={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Ph});if(y.error)throw y.error;const b=await y.json(),N=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(R=>{const w=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(R.split(";")[1].split("=")[1]);x[`${O}Page`]=w}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(ie(x))return{data:{users:[]},error:x};throw x}}async getUserById(s){Vs(s);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:zr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){Vs(s);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:zr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(s,n=!1){Vs(s);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:zr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(s){Vs(s.userId);try{const{data:n,error:l}=await pe(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:l}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(s){Vs(s.userId),Vs(s.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(s){var n,l,c,u,h,f,m;try{const x={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:Ph});if(y.error)throw y.error;const b=await y.json(),N=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(R=>{const w=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(R.split(";")[1].split("=")[1]);x[`${O}Page`]=w}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(ie(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(s){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(s,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(s){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(s){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function Th(a={}){return{getItem:s=>a[s]||null,setItem:(s,n)=>{a[s]=n},removeItem:s=>{delete a[s]}}}const Ws={debug:!!(globalThis&&np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ip extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class _y extends ip{}async function ky(a,s,n){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,s);const l=new globalThis.AbortController;return s>0&&setTimeout(()=>{l.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await n()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(s===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new _y(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Ws.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lp(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Ey(a){return parseInt(a,16)}function Cy(a){const s=new TextEncoder().encode(a);return"0x"+Array.from(s,l=>l.toString(16).padStart(2,"0")).join("")}function Ay(a){var s;const{chainId:n,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:f,requestId:m,resources:x,scheme:y,uri:b,version:N}=a;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((s=a.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const E=lp(a.address),R=y?`${y}://${l}`:l,w=a.statement?`${a.statement}
`:"",O=`${R} wants you to sign in with your Ethereum account:
${E}

${w}`;let U=`URI: ${b}
Version: ${N}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(U+=`
Expiration Time: ${c.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),m&&(U+=`
Request ID: ${m}`),x){let z=`
Resources:`;for(const V of x){if(!V||typeof V!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${V}`);z+=`
- ${V}`}U+=z}return`${O}
${U}`}class Ge extends Error{constructor({message:s,code:n,cause:l,name:c}){var u;super(s,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class ji extends Ge{constructor(s,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:s}),this.name="WebAuthnUnknownError",this.originalError=n}}function Py({error:a,options:s}){var n,l,c;const{publicKey:u}=s;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(s.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Ge({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const h=window.location.hostname;if(op(h)){if(u.rp.id!==h)return new Ge({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Ty({error:a,options:s}){const{publicKey:n}=s;if(!n)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Ge({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(op(l)){if(n.rpId!==l)return new Ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Oy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const Ry=new Oy;function Ly(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:s,user:n,excludeCredentials:l}=a,c=Ci(a,["challenge","user","excludeCredentials"]),u=tn(s).buffer,h=Object.assign(Object.assign({},n),{id:tn(n.id).buffer}),f=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){f.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const x=l[m];f.excludeCredentials[m]=Object.assign(Object.assign({},x),{id:tn(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return f}function Iy(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:s,allowCredentials:n}=a,l=Ci(a,["challenge","allowCredentials"]),c=tn(s).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];u.allowCredentials[h]=Object.assign(Object.assign({},f),{id:tn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Dy(a){var s;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a;return{id:a.id,rawId:a.id,response:{attestationObject:ps(new Uint8Array(a.response.attestationObject)),clientDataJSON:ps(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function $y(a){var s;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a,l=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ps(new Uint8Array(c.authenticatorData)),clientDataJSON:ps(new Uint8Array(c.clientDataJSON)),signature:ps(new Uint8Array(c.signature)),userHandle:c.userHandle?ps(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function op(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Oh(){var a,s;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.get)=="function")}async function My(a){try{const s=await navigator.credentials.create(a);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new ji("Browser returned unexpected credential type",s)}:{data:null,error:new ji("Empty credential response",s)}}catch(s){return{data:null,error:Py({error:s,options:a})}}}async function Uy(a){try{const s=await navigator.credentials.get(a);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new ji("Browser returned unexpected credential type",s)}:{data:null,error:new ji("Empty credential response",s)}}catch(s){return{data:null,error:Ty({error:s,options:a})}}}const Fy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ni(...a){const s=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of a)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(n(h))l[u]=h;else if(s(h)){const f=l[u];s(f)?l[u]=Ni(f,h):l[u]=Ni(h)}else l[u]=h}return l}function By(a,s){return Ni(Fy,a,s||{})}function Vy(a,s){return Ni(zy,a,s||{})}class Wy{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:n,friendlyName:l,signal:c},u){try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:s,webauthn:n});if(!h)return{data:null,error:f};const m=c??Ry.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:x}=h.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${l}`),x.displayName||(x.displayName=x.name)}switch(h.webauthn.type){case"create":{const x=By(h.webauthn.credential_options.publicKey,u?.create),{data:y,error:b}=await My({publicKey:x,signal:m});return y?{data:{factorId:s,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const x=Vy(h.webauthn.credential_options.publicKey,u?.request),{data:y,error:b}=await Uy(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:x,signal:m}));return y?{data:{factorId:s,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in challenge",h)}}}async _verify({challengeId:s,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:s,webauthn:l})}async _authenticate({factorId:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new ea("rpId is required for WebAuthn authentication")};try{if(!Oh())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:s,webauthn:{rpId:n,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:f};const{webauthn:m}=h;return this._verify({factorId:s,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:l,credential_response:m.credential_response}})}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in authenticate",h)}}}async _register({friendlyName:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!n)return{data:null,error:new ea("rpId is required for WebAuthn registration")};try{if(!Oh())return{data:null,error:new hs("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:s});if(!h)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===s&&N.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:m,error:x}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:c},{create:u});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:x}}catch(h){return ie(h)?{data:null,error:h}:{data:null,error:new hs("Unexpected error in register",h)}}}}Sy();const qy={url:Fx,storageKey:zx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Rh(a,s,n){return await n()}const qs={};class ta{get jwks(){var s,n;return(n=(s=qs[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=qs[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{cachedAt:s})}constructor(s){var n,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},qy),s);if(this.storageKey=u.storageKey,this.instanceID=(n=ta.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ta.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ot()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Ny({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=ap(u.fetch),this.lock=u.lock||Rh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&ot()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=ky:this.lock=Rh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:np()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Th(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Th(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tp}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let n={},l="none";if(ot()&&(n=sy(window.location.href),this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce")),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(n,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Gx(u)){const m=(s=u.details)===null||s===void 0?void 0:s.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new hs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,l,c;try{const u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=s?.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=s?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Qt}),{data:h,error:f}=u;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const m=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(s){var n,l,c;try{let u;if("email"in s){const{email:y,password:b,options:N}=s;let E=null,R=null;this.flowType==="pkce"&&([E,R]=await Bs(this.storage,this.storageKey)),u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:y,password:b,data:(n=N?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:E,code_challenge_method:R},xform:Qt})}else if("phone"in s){const{phone:y,password:b,options:N}=s;u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(l=N?.data)!==null&&l!==void 0?l:{},channel:(c=N?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:Qt})}else throw new gi("You must provide either an email or phone number and a password");const{data:h,error:f}=u;if(f||!h)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(u){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(s){try{let n;if("email"in s){const{email:u,password:h,options:f}=s;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ah})}else if("phone"in s){const{phone:u,password:h,options:f}=s;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ah})}else throw new gi("You must provide either an email or phone number and a password");const{data:l,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new zs;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(s){var n,l,c,u;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=s.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;switch(n){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(s){var n,l,c,u,h,f,m,x,y,b,N;let E,R;if("message"in s)E=s.message,R=s.signature;else{const{chain:w,wallet:O,statement:U,options:z}=s;let V;if(ot())if(typeof O=="object")V=O;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")V=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=O}const G=new URL((n=z?.url)!==null&&n!==void 0?n:window.location.href),S=await V.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=lp(S[0]);let H=(l=z?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!H){const le=await V.request({method:"eth_chainId"});H=Ey(le)}const ae={domain:G.host,address:A,statement:U,uri:G.href,version:"1",chainId:H,nonce:(c=z?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=z?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=z?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=z?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(x=z?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(y=z?.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=Ay(ae),R=await V.request({method:"personal_sign",params:[Cy(E),A]})}try{const{data:w,error:O}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:R},!((b=s.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(N=s.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Qt});if(O)throw O;if(!w||!w.session||!w.user){const U=new zs;return this._returnResult({data:{user:null,session:null},error:U})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:O})}catch(w){if(ie(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(s){var n,l,c,u,h,f,m,x,y,b,N,E;let R,w;if("message"in s)R=s.message,w=s.signature;else{const{chain:O,wallet:U,statement:z,options:V}=s;let G;if(ot())if(typeof U=="object")G=U;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))G=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=U}const S=new URL((n=V?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in G&&G.signIn){const A=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),z?{statement:z}:null));let H;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")H=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)H=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)R=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),w=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${S.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(c=(l=V?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=V?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((h=V?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((f=V?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((m=V?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((x=V?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((b=(y=V?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...V.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const A=await G.signMessage(new TextEncoder().encode(R),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:O,error:U}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:ps(w)},!((N=s.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(E=s.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Qt});if(U)throw U;if(!O||!O.session||!O.user){const z=new zs;return this._returnResult({data:{user:null,session:null},error:z})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:U})}catch(O){if(ie(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(s){const n=await os(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(n??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Jx;const{data:u,error:h}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:l},xform:Qt});if(await lt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const f=new zs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(s){try{const{options:n,provider:l,token:c,access_token:u,nonce:h}=s,f=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Qt}),{data:m,error:x}=f;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!m||!m.session||!m.user){const y=new zs;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:x})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(s){var n,l,c,u,h;try{if("email"in s){const{email:f,options:m}=s;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await Bs(this.storage,this.storageKey));const{error:b}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:x,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in s){const{phone:f,options:m}=s,{data:x,error:y}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:y})}throw new gi("You must provide either an email or phone number.")}catch(f){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(s){var n,l;try{let c,u;"options"in s&&(c=(n=s.options)===null||n===void 0?void 0:n.redirectTo,u=(l=s.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:f}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:Qt});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,x=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(c){if(ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(s){var n,l,c,u,h;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Bs(this.storage,this.storageKey));const x=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(l=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=s?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:by});return!((u=x.data)===null||u===void 0)&&u.url&&ot()&&!(!((h=s.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(f){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:l}=s;if(l)throw l;if(!n)throw new Tt;const{error:c}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:l,type:c,options:u}=s,{error:h}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in s){const{phone:l,type:c,options:u}=s,{data:h,error:f}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:f})}throw new gi("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const l=s.expires_at?s.expires_at*1e3-Date.now()<Oo:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",s.expires_at),!l){if(this.userStorage){const h=await os(this.userStorage,this.storageKey+"-user");h?.user?s.user=h.user:s.user=Io()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};s.user=gy(s.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:c,error:u}=await this._callRefreshToken(s.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(s){try{return s?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:zr}):await this._useSession(async n=>{var l,c,u;const{data:h,error:f}=n;if(f)throw f;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:zr})})}catch(n){if(ie(n))return Kx(n)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new Tt;const h=c.session;let f=null,m=null;this.flowType==="pkce"&&s.email!=null&&([f,m]=await Bs(this.storage,this.storageKey));const{data:x,error:y}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:zr});if(y)throw y;return h.user=x.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Tt;const n=Date.now()/1e3;let l=n,c=!0,u=null;const{payload:h}=Lo(s.access_token);if(h.exp&&(l=h.exp,c=l<=n),c){const{data:f,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:m}=await this._getUser(s.access_token);if(m)throw m;u={access_token:s.access_token,refresh_token:s.refresh_token,user:f.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var l;if(!s){const{data:h,error:f}=n;if(f)throw f;s=(l=h.session)!==null&&l!==void 0?l:void 0}if(!s?.refresh_token)throw new Tt;const{data:c,error:u}=await this._callRefreshToken(s.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(s,n){try{if(!ot())throw new xi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new xi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new jh("No code detected.");const{data:z,error:V}=await this._exchangeCodeForSession(s.code);if(V)throw V;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:f,expires_at:m,token_type:x}=s;if(!u||!f||!h||!x)throw new xi("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(f);let N=y+b;m&&(N=parseInt(m));const E=N-y;E*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const R=N-b;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,N,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,N,y);const{data:w,error:O}=await this._getUser(u);if(O)throw O;const U={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:b,expires_at:N,refresh_token:h,token_type:x,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:s.type},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:f}=await this.admin.signOut(h,s);if(f&&!(Hx(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return s!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const n=ry(),l={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(s){return await this._useSession(async n=>{var l,c;try{const{data:{session:u},error:h}=n;if(h)throw h;await((l=this.stateChangeEmitters.get(s))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",s,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",u),console.error(u)}})}async resetPasswordForEmail(s,n={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Bs(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var s;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var n;try{const{data:l,error:c}=await this._useSession(async u=>{var h,f,m,x,y;const{data:b,error:N}=u;if(N)throw N;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=s.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return ot()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:s.provider,url:l?.url},error:null})}catch(l){if(ie(l))return this._returnResult({data:{provider:s.provider,url:null},error:l});throw l}}async linkIdentityIdToken(s){return await this._useSession(async n=>{var l;try{const{error:c,data:{session:u}}=n;if(c)throw c;const{options:h,provider:f,token:m,access_token:x,nonce:y}=s,b=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:f,id_token:m,access_token:x,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Qt}),{data:N,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new zs}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:E}))}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ie(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(s){try{return await this._useSession(async n=>{var l,c;const{data:u,error:h}=n;if(h)throw h;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await iy(async c=>(c>0&&await ay(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Qt})),(c,u)=>{const h=200*Math.pow(2,c);return u&&Ro(u)&&Date.now()+h-l<Js})}catch(l){if(this._debug(n,"error",l),ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",l),ot()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:s,url:l},error:null}}async _recoverAndRefresh(){var s,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await os(this.storage,this.storageKey);if(c&&this.userStorage){let h=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Qs(this.userStorage,this.storageKey+"-user",h)),c.user=(s=h?.user)!==null&&s!==void 0?s:Io()}else if(c&&!c.user&&!c.user){const h=await os(this.storage,this.storageKey+"-user");h&&h?.user?(c.user=h.user,await lt(this.storage,this.storageKey+"-user"),await Qs(this.storage,this.storageKey,c)):c.user=Io()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Oo;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Oo}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Ro(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(c.access_token);!f&&h?.user?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(s){var n,l;if(!s)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Pi;const{data:u,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!u.session)throw new Tt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(c,"error",u),ie(u)){const h={data:null,error:u};return Ro(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,n,l=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:s,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(s,n)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},s),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await Qs(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const u=Eh(c);await Qs(this.storage,this.storageKey,u)}else{const c=Eh(n);await Qs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-s)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Js}ms, refresh threshold is ${Ko} ticks`),c<=Ko&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof ip)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,l){const c=[`provider=${encodeURIComponent(n)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await Bs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(f.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;return u?this._returnResult({data:null,error:u}):await pe(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(s){try{return await this._useSession(async n=>{var l,c;const{data:u,error:h}=n;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:m,error:x}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return x?this._returnResult({data:null,error:x}):(s.factorType==="totp"&&m.type==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?Dy(s.webauthn.credential_response):$y(s.webauthn.credential_response)})}:{code:s.code}),{data:f,error:m}=await pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=await pe(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Ly(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Iy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(s){const{data:n,error:l}=await this._challenge({factorId:s.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){var s;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(s=n?.factors)!==null&&s!==void 0?s:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var s,n;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Lo(l.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((n=(s=l.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const x=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(s,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Tt});const h=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&ot()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(s,n){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Tt});const h=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&ot()&&!n?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:n},error:l}=s;return l?this._returnResult({data:null,error:l}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Tt})})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Tt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(s,n={keys:[]}){let l=n.keys.find(f=>f.kid===s);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(f=>f.kid===s),l&&this.jwks_cached_at+Wx>c)return l;const{data:u,error:h}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(f=>f.kid===s),!l)?null:l}async getClaims(s,n={}){try{let l=s;if(!l){const{data:E,error:R}=await this.getSession();if(R||!E.session)return this._returnResult({data:null,error:R});l=E.session.access_token}const{header:c,payload:u,signature:h,raw:{header:f,payload:m}}=Lo(l);n?.allowExpired||py(u.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!x){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:u,header:c,signature:h},error:null}}const y=my(c.alg),b=await crypto.subtle.importKey("jwk",x,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,h,ey(`${f}.${m}`)))throw new Qo("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}}ta.nextInstanceID={};const Hy=ta,Ky="2.89.0";let Hn="";typeof Deno<"u"?Hn="deno":typeof document<"u"?Hn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hn="react-native":Hn="node";const Gy={"X-Client-Info":`supabase-js-${Hn}/${Ky}`},Jy={headers:Gy},Qy={schema:"public"},Yy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xy={};function ra(a){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ra(a)}function Zy(a,s){if(ra(a)!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var l=n.call(a,s);if(ra(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function ev(a){var s=Zy(a,"string");return ra(s)=="symbol"?s:s+""}function tv(a,s,n){return(s=ev(s))in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n,a}function Lh(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);s&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),n.push.apply(n,l)}return n}function ze(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Lh(Object(n),!0).forEach(function(l){tv(a,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(n,l))})}return a}const rv=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),sv=()=>Headers,nv=(a,s,n)=>{const l=rv(n),c=sv();return async(u,h)=>{var f;const m=(f=await s())!==null&&f!==void 0?f:a;let x=new c(h?.headers);return x.has("apikey")||x.set("apikey",a),x.has("Authorization")||x.set("Authorization",`Bearer ${m}`),l(u,ze(ze({},h),{},{headers:x}))}};function av(a){return a.endsWith("/")?a:a+"/"}function iv(a,s){var n,l;const{db:c,auth:u,realtime:h,global:f}=a,{db:m,auth:x,realtime:y,global:b}=s,N={db:ze(ze({},m),c),auth:ze(ze({},x),u),realtime:ze(ze({},y),h),storage:{},global:ze(ze(ze({},b),f),{},{headers:ze(ze({},(n=b?.headers)!==null&&n!==void 0?n:{}),(l=f?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?N.accessToken=a.accessToken:delete N.accessToken,N}function lv(a){const s=a?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(av(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ov=class extends Hy{constructor(a){super(a)}},cv=class{constructor(a,s,n){var l,c;this.supabaseUrl=a,this.supabaseKey=s;const u=lv(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Qy,realtime:Xy,auth:ze(ze({},Yy),{},{storageKey:h}),global:Jy},m=iv(n??{},f);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=m.auth)!==null&&x!==void 0?x:{},this.headers,m.global.fetch)}this.fetch=nv(s,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Bg(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Ux(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new $g(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,n)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,s,n;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:n,storage:l,userStorage:c,storageKey:u,flowType:h,lock:f,debug:m,throwOnError:x},y,b){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ov({url:this.authUrl.href,headers:ze(ze({},N),y),storageKey:u,autoRefreshToken:a,persistSession:s,detectSessionInUrl:n,storage:l,userStorage:c,flowType:h,lock:f,debug:m,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new ax(this.realtimeUrl.href,ze(ze({},a),{},{params:ze(ze({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s?.access_token)})}_handleTokenChanged(a,s,n){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dv=(a,s,n)=>new cv(a,s,n);function uv(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const s=a.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}uv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hv="https://hncvsextwmvjydcukdwx.supabase.co",pv="sb_publishable_5qD27qPFc04oqSmS61s1tw_lgt8FhBV",yi=dv(hv,pv),cp=D.createContext(void 0),nc=()=>{const a=D.useContext(cp);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},mv=({children:a})=>{const[s,n]=D.useState(null),[l,c]=D.useState(!0);D.useEffect(()=>{yi.auth.getSession().then(({data:{session:x}})=>{n(x),c(!1)}).catch(x=>{console.error("Error getting session:",x),c(!1)});const{data:{subscription:m}}=yi.auth.onAuthStateChange((x,y)=>{n(y),c(!1)});return()=>m.unsubscribe()},[]);const f={session:s,loading:l,signIn:async(m,x)=>{const{error:y}=await yi.auth.signInWithPassword({email:m,password:x});if(y)throw y},signOut:async()=>{const{error:m}=await yi.auth.signOut();if(m)throw m}};return t.jsx(cp.Provider,{value:f,children:a})};function fv(){const{user:a}=nc(),[s,n]=D.useState(""),[l,c]=D.useState("all"),[u,h]=D.useState("all"),[f,m]=D.useState(null),[x,y]=D.useState(!1),[b,N]=D.useState(null),E=Us.filter(w=>{const O=w.name.toLowerCase().includes(s.toLowerCase())||w.email.toLowerCase().includes(s.toLowerCase()),U=l==="all"||w.role===l,z=u==="all"||w.status===u;return O&&U&&z}),R={total:Us.length,active:Us.filter(w=>w.status==="Active").length,admins:Us.filter(w=>w.role==="Admin").length,recruiters:Us.filter(w=>w.role==="Recruiter").length};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl",children:"User Management"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, roles, and permissions"})]}),t.jsxs("button",{onClick:()=>y(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg flex items-center gap-2",children:[t.jsx(Si,{className:"w-5 h-5"}),"Add New User"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Total Users"}),t.jsx(St,{className:"w-8 h-8 opacity-80"})]}),t.jsx("div",{className:"text-3xl",children:R.total})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Active Users"}),t.jsx(wf,{className:"w-8 h-8 opacity-80"})]}),t.jsx("div",{className:"text-3xl",children:R.active})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Administrators"}),t.jsx(Bt,{className:"w-8 h-8 opacity-80"})]}),t.jsx("div",{className:"text-3xl",children:R.admins})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-sm opacity-90",children:"Recruiters"}),t.jsx(Qn,{className:"w-8 h-8 opacity-80"})]}),t.jsx("div",{className:"text-3xl",children:R.recruiters})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("select",{value:l,onChange:w=>c(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"Admin",children:"Admin"}),t.jsx("option",{value:"Manager",children:"Manager"}),t.jsx("option",{value:"Recruiter",children:"Recruiter"}),t.jsx("option",{value:"Viewer",children:"Viewer"})]}),t.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"Active",children:"Active"}),t.jsx("option",{value:"Inactive",children:"Inactive"}),t.jsx("option",{value:"Suspended",children:"Suspended"})]}),t.jsxs("div",{className:"md:col-span-2 relative",children:[t.jsx(Vr,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:s,onChange:w=>n(w.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",t.jsx("strong",{children:E.length})," of ",t.jsx("strong",{children:Us.length})," users"]}),t.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx(Lt,{className:"w-4 h-4"}),"Export Users"]})]})]}),t.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"User"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Role"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Department"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Last Active"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:E.map(w=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:w.name[0]}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[w.name,w.id===a?.id&&t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"You"})]}),t.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[t.jsx(st,{className:"w-3 h-3"}),w.email]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${w.role==="Admin"?"bg-purple-100 text-purple-700":w.role==="Manager"?"bg-blue-100 text-blue-700":w.role==="Recruiter"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[w.role==="Admin"&&t.jsx(Bt,{className:"w-3 h-3"}),w.role==="Manager"&&t.jsx(Qn,{className:"w-3 h-3"}),w.role==="Recruiter"&&t.jsx(St,{className:"w-3 h-3"}),w.role==="Viewer"&&t.jsx(tr,{className:"w-3 h-3"}),w.role]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"text-sm text-gray-900",children:w.department})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.status==="Active"?"bg-green-100 text-green-700":w.status==="Inactive"?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}`,children:w.status})}),t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-gray-900",children:w.lastActive}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Joined ",w.joinedDate]})]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>N(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Permissions",children:t.jsx(Bt,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>m(w),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit User",children:t.jsx(W0,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",disabled:w.id===a?.id,children:t.jsx(Ei,{className:"w-4 h-4"})})]})})]},w.id))})]})})}),b&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl",children:"User Permissions"}),t.jsxs("p",{className:"text-blue-100 mt-1",children:[b.name," - ",b.role]})]}),t.jsx("button",{onClick:()=>N(null),className:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-colors",children:t.jsx(sn,{className:"w-6 h-6"})})]})}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:Object.entries(qh[b.role]).map(([w,O])=>t.jsxs("div",{className:"mb-6 last:mb-0",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 capitalize flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(Bt,{className:"w-4 h-4 text-blue-600"})}),w]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(O).map(([U,z])=>t.jsxs("div",{className:`p-3 rounded-lg border-2 flex items-center justify-between ${z?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[t.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:U}),z?t.jsx(ki,{className:"w-5 h-5 text-green-600"}):t.jsx(sn,{className:"w-5 h-5 text-red-600"})]},U))})]},w))}),t.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Permissions are inherited from the ",t.jsx("strong",{children:b.role})," role"]}),t.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]})}),E.length===0&&t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Vr,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-gray-900 mb-2",children:"No users found"}),t.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters to find what you're looking for."})]})]})}function gv(){const{signIn:a,loading:s}=nc(),[n,l]=D.useState(""),[c,u]=D.useState(""),[h,f]=D.useState(!1),[m,x]=D.useState(""),[y,b]=D.useState(!1),N=async w=>{w.preventDefault(),x(""),b(!0);try{await a(n,c)}catch(O){x(O.message||"Login failed")}finally{b(!1)}},E=[{role:"Admin",email:"admin@falisha.com",password:"admin123",color:"from-purple-500 to-purple-600"}],R=(w,O)=>{l(w),u(O)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 lg:p-12",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:t.jsx(Bt,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Falisha Manpower"}),t.jsx("p",{className:"text-gray-600",children:"AI-Powered Recruitment Portal"})]}),t.jsxs("form",{onSubmit:N,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(st,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:"email",value:n,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(b0,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),t.jsx("input",{type:h?"text":"password",value:c,onChange:w=>u(w.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0}),t.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?t.jsx(Yf,{className:"w-5 h-5"}):t.jsx(tr,{className:"w-5 h-5"})})]})]}),m&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[t.jsx(ct,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-red-900",children:"Login Failed"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),t.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),t.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),t.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium",children:y?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):t.jsxs(t.Fragment,{children:[t.jsx(j0,{className:"w-5 h-5"}),"Sign In"]})})]}),t.jsxs("div",{className:"relative my-8",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[t.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),t.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx("svg",{className:"w-5 h-5",fill:"#1877F2",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white",children:[t.jsx("h2",{className:"text-2xl mb-4",children:"Welcome Back!"}),t.jsx("p",{className:"text-blue-100 mb-6",children:"Access your recruitment dashboard to manage candidates, track applications, and streamline your hiring process with AI-powered insights."}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[t.jsx(St,{className:"w-8 h-8 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl mb-1",children:"150+"}),t.jsx("div",{className:"text-xs text-blue-100",children:"Candidates"})]}),t.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[t.jsx(Bt,{className:"w-8 h-8 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl mb-1",children:"98%"}),t.jsx("div",{className:"text-xs text-blue-100",children:"Success Rate"})]}),t.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[t.jsx(Qn,{className:"w-8 h-8 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl mb-1",children:"45"}),t.jsx("div",{className:"text-xs text-blue-100",children:"Deployed"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[t.jsx("h3",{className:"text-xl mb-2 text-gray-900",children:"Demo Accounts"}),t.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Click any account below to quick login and explore different role permissions"}),t.jsx("div",{className:"space-y-3",children:E.map(w=>t.jsx("button",{onClick:()=>R(w.email,w.password),className:"w-full group",children:t.jsx("div",{className:`bg-gradient-to-r ${w.color} rounded-lg p-4 hover:shadow-lg transition-all`,children:t.jsxs("div",{className:"flex items-center justify-between text-white",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:[w.role==="Admin"&&t.jsx(Bt,{className:"w-5 h-5"}),w.role==="Manager"&&t.jsx(Qn,{className:"w-5 h-5"}),w.role==="Recruiter"&&t.jsx(St,{className:"w-5 h-5"}),w.role==="Viewer"&&t.jsx(tr,{className:"w-5 h-5"})]}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-semibold",children:w.role}),t.jsx("div",{className:"text-xs text-white text-opacity-90",children:w.email})]})]}),t.jsx("div",{className:"text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Login "})]})})},w.email))}),t.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Role Permissions:"}),t.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Admin:"})," Full access to all features and settings"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Manager:"})," Manage candidates, view analytics, no user management"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Recruiter:"})," Add/edit candidates, upload documents, basic analytics"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Viewer:"})," Read-only access to candidates and jobs"]})]})]})]})]})]})})}const xv=({apiBaseUrl:a="http://localhost:1000/api"})=>{const[s,n]=D.useState([]),[l,c]=D.useState({}),[u,h]=D.useState(!1),[f,m]=D.useState(null),[x,y]=D.useState(!1),[b,N]=D.useState(null),[E,R]=D.useState(""),[w,O]=D.useState(""),[U,z]=D.useState(""),[V,G]=D.useState(""),[S]=D.useState(20),[A,H]=D.useState(0),[ae,le]=D.useState(0),ge=async()=>{h(!0);try{const I=new URLSearchParams;E&&I.append("source",E),w&&I.append("status",w),I.append("limit",S.toString()),I.append("offset",A.toString());const $=await(await fetch(`${a}/cv-inbox?${I.toString()}`)).json();n($.messages||[]),le($.total||0)}catch(I){console.error("Failed to fetch messages:",I)}finally{h(!1)}},Ne=async I=>{try{const $=await(await fetch(`${a}/cv-inbox/${I}/attachments`)).json();c(ce=>({...ce,[I]:$}))}catch(k){console.error("Failed to fetch attachments:",k)}};D.useEffect(()=>{ge()},[A,E,w]);const ve=async(I,k)=>{try{(await fetch(`${a}/cv-inbox/${I}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:k})})).ok&&(n(ce=>ce.map(fe=>fe.id===I?{...fe,status:k}:fe)),f?.id===I&&m({...f,status:k}))}catch($){console.error("Failed to update status:",$)}},ye=async I=>{if(confirm("Are you sure you want to delete this message?"))try{(await fetch(`${a}/cv-inbox/${I}`,{method:"DELETE"})).ok&&n($=>$.filter(ce=>ce.id!==I))}catch(k){console.error("Failed to delete message:",k)}},Xe=async I=>{m(I),l[I.id]||await Ne(I.id)},gt=(I,k,$)=>{const ce=`${a}/cv-inbox/${I}/attachments/${k}/download`,fe=document.createElement("a");fe.href=ce,fe.download=$,fe.click()},He=I=>{switch(I){case"processed":return t.jsx(Ae,{className:"w-4 h-4 text-green-600"});case"failed":return t.jsx(ct,{className:"w-4 h-4 text-red-600"});default:return t.jsx($h,{className:"w-4 h-4 text-yellow-600"})}},Ee=I=>({whatsapp:"bg-green-100 text-green-800",gmail:"bg-blue-100 text-blue-800",api:"bg-purple-100 text-purple-800"})[I]||"bg-gray-100 text-gray-800",q=Math.ceil(ae/S),se=Math.floor(A/S)+1;return t.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(st,{className:"w-8 h-8 text-blue-600"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CV Inbox"})]}),t.jsxs("p",{className:"text-gray-600",children:[ae," total messages  Displaying ",s.length," on page ",se]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(l0,{className:"w-5 h-5 text-gray-600"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),t.jsxs("select",{value:E,onChange:I=>{R(I.target.value),H(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Sources"}),t.jsx("option",{value:"whatsapp",children:"WhatsApp"}),t.jsx("option",{value:"gmail",children:"Gmail"}),t.jsx("option",{value:"api",children:"API"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),t.jsxs("select",{value:w,onChange:I=>{O(I.target.value),H(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Statuses"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"processed",children:"Processed"}),t.jsx("option",{value:"failed",children:"Failed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),t.jsx("input",{type:"date",value:U,onChange:I=>z(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),t.jsx("input",{type:"date",value:V,onChange:I=>G(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[u?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading messages..."}):s.length===0?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No messages found"}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Source"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Message ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Payload"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Received"}),t.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(I=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ee(I.source)}`,children:I.source})}),t.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 font-mono",children:[I.external_message_id.slice(0,20),"..."]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:[I.payload?.text&&I.payload.text.slice(0,30),"..."]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[He(I.status),t.jsxs("select",{value:I.status,onChange:k=>ve(I.id,k.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:outline-none focus:ring-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"processed",children:"Processed"}),t.jsx("option",{value:"failed",children:"Failed"})]})]})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(I.received_at).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Xe(I),className:"p-2 hover:bg-blue-50 rounded-md text-blue-600 transition-colors",title:"View attachments",children:t.jsx(tr,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ye(I.id),className:"p-2 hover:bg-red-50 rounded-md text-red-600 transition-colors",title:"Delete message",children:t.jsx(Ei,{className:"w-4 h-4"})})]})})]},I.id))})]})}),q>1&&t.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",se," of ",q]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>H(Math.max(0,A-S)),disabled:A===0,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 disabled:opacity-50 hover:bg-gray-50 transition-colors",children:"Previous"}),t.jsx("button",{onClick:()=>H(A+S),disabled:A+S>=ae,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 disabled:opacity-50 hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),f&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"}),t.jsx("button",{onClick:()=>m(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:""})]}),t.jsx("div",{className:"p-6",children:!l[f.id]||l[f.id].length===0?t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No attachments"}):t.jsx("div",{className:"space-y-3",children:l[f.id].map(I=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:I.file_name}),t.jsx("p",{className:"text-sm text-gray-500",children:I.mime_type})]}),t.jsx("button",{onClick:()=>gt(f.id,I.id,I.file_name),className:"ml-4 p-2 hover:bg-blue-50 rounded-md text-blue-600 transition-colors",title:"Download",children:t.jsx(Lt,{className:"w-5 h-5"})})]},I.id))})})]})})]})})},qn={company:{name:"Falisha Manpower",logo:"/logo.png"},contact:{phone:"+92330 3333335",email:"falishamanpower4035@gmail.com"}},yv={},vv=()=>{const{session:a,signOut:s,loading:n}=nc(),[l,c]=D.useState("dashboard"),[u,h]=D.useState(!1),[f,m]=D.useState("all"),[x,y]=D.useState(!1),b=a?{name:a.user.user_metadata?.name||a.user.email?.split("@")[0]||"User",email:a.user.email||"",role:(a.user.user_metadata?.role||"viewer").charAt(0).toUpperCase()+(a.user.user_metadata?.role||"viewer").slice(1),lastActive:"Today"}:{name:"Guest",email:"",role:"Viewer",lastActive:"Today"},[N,E]=D.useState(["all"]),[R,w]=D.useState({all:0});D.useEffect(()=>{let z=!0;return(async()=>{try{const V=await Be.getCandidates();if(!z)return;const G=Array.from(new Set(V.map(A=>A.position).filter(Boolean))).sort();E(["all",...G]);const S={all:V.length};G.forEach(A=>{S[A]=V.filter(H=>H.position===A).length}),w(S)}catch{}})(),()=>{z=!1}},[]);const O=l==="candidate-browser"||l==="candidate-excel-browser",U=()=>{switch(l){case"dashboard":return t.jsx(lh,{});case"cv-inbox":return t.jsx(Ag,{});case"inbox-ui":return t.jsx(xv,{apiBaseUrl:yv?.VITE_API_BASE_URL||"/api"});case"candidates":return t.jsx(fg,{initialProfessionFilter:f});case"candidate-browser":return t.jsx(xg,{});case"candidate-excel-browser":return t.jsx(jg,{});case"employers":return t.jsx(Ng,{});case"jobs":return t.jsx(_g,{});case"templates":return t.jsx(Tg,{});case"application-link":return t.jsx(Cg,{});case"reports":return t.jsx(kg,{});case"settings":return t.jsx(Sg,{});case"users":return t.jsx(fv,{});default:return t.jsx(lh,{})}};return typeof window<"u"&&window.location.pathname==="/apply"?t.jsx(Wh,{}):n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):a?t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:qn.company.logo,alt:qn.company.name,className:"h-12 w-12 object-contain"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-blue-600 font-bold text-lg",children:qn.company.name}),t.jsxs("p",{className:"text-gray-600 text-xs flex gap-2",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Br,{className:"w-3 h-3"}),qn.contact.phone]}),t.jsx("span",{children:""}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(st,{className:"w-3 h-3"}),qn.contact.email]})]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>y(!x),className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),t.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[t.jsx("span",{className:`w-2 h-2 rounded-full ${b.role==="Admin"?"bg-purple-500":b.role==="Manager"?"bg-blue-500":b.role==="Recruiter"?"bg-green-500":"bg-gray-500"}`}),b.role]})]}),t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${b.role==="Admin"?"bg-gradient-to-br from-purple-500 to-purple-600":b.role==="Manager"?"bg-gradient-to-br from-blue-500 to-blue-600":b.role==="Recruiter"?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-gray-500 to-gray-600"}`,children:b.name[0]}),t.jsx(Dh,{className:`w-4 h-4 text-gray-400 transition-transform ${x?"rotate-180":""}`})]}),x&&t.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900",children:b.name}),t.jsx("p",{className:"text-xs text-gray-500",children:b.email}),t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last active: ",b.lastActive]})]}),t.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[t.jsx(St,{className:"w-4 h-4"}),"My Profile"]}),t.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[t.jsx(Uo,{className:"w-4 h-4"}),"Preferences"]}),t.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:t.jsxs("button",{onClick:()=>{s(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[t.jsx(_0,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})})}),t.jsxs("div",{className:"flex",children:[!O&&t.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-[calc(100vh-73px)]",children:t.jsxs("nav",{className:"p-4 space-y-1",children:[t.jsxs("button",{onClick:()=>c("dashboard"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="dashboard"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(m0,{className:"w-4 h-4"}),"Dashboard"]}),t.jsxs("div",{className:"pt-4",children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"CANDIDATE OPERATIONS"}),t.jsxs("button",{onClick:()=>c("cv-inbox"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="cv-inbox"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(Fh,{className:"w-4 h-4"}),t.jsx("span",{className:"flex-1 text-left",children:"CV Inbox"}),t.jsx("span",{className:"bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded text-xs",children:"5 New"})]}),t.jsxs("button",{onClick:()=>c("inbox-ui"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="inbox-ui"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(st,{className:"w-4 h-4"}),t.jsx("span",{className:"flex-1 text-left",children:"Inbox Manager"})]}),t.jsxs("button",{onClick:()=>{c("candidates"),m("all")},className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidates"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(St,{className:"w-4 h-4"}),t.jsx("span",{className:"flex-1 text-left",children:"Candidates"}),t.jsx("span",{className:"text-xs text-gray-500",children:R.all??0})]}),N.map(z=>t.jsxs("button",{onClick:()=>{c("candidates"),m(z)},className:`w-full flex items-center gap-3 pl-12 pr-4 py-2 rounded-lg transition-colors text-sm ${l==="candidates"&&f===z?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[t.jsx("span",{className:"flex-1 text-left",children:z}),t.jsx("span",{className:"text-xs text-gray-500",children:R[z]})]},z)),t.jsxs("button",{onClick:()=>c("candidate-browser"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidate-browser"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(n0,{className:"w-4 h-4"}),t.jsx("span",{className:"flex-1 text-left",children:"Browser (Excel)"})]}),t.jsxs("button",{onClick:()=>c("candidate-excel-browser"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidate-excel-browser"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(dt,{className:"w-4 h-4"}),t.jsx("span",{className:"flex-1 text-left",children:"Excel Browser"})]})]}),t.jsxs("div",{className:"pt-4",children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"EMPLOYER & JOBS"}),t.jsxs("button",{onClick:()=>c("employers"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="employers"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(_i,{className:"w-4 h-4"}),"Employers"]}),t.jsxs("button",{onClick:()=>c("jobs"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="jobs"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(Zt,{className:"w-4 h-4"}),"Job Orders"]})]}),t.jsxs("div",{className:"pt-4",children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"COMMUNICATION"}),t.jsxs("button",{onClick:()=>c("templates"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="templates"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(yr,{className:"w-4 h-4"}),"Templates"]}),t.jsxs("button",{onClick:()=>c("application-link"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="application-link"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(Xo,{className:"w-4 h-4"}),"Application Link"]})]}),t.jsxs("div",{className:"pt-4",children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"SYSTEM"}),Rg(b,"users","view")&&t.jsxs("button",{onClick:()=>c("users"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="users"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(Bt,{className:"w-4 h-4"}),"User Management"]}),t.jsxs("button",{onClick:()=>c("reports"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="reports"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(dt,{className:"w-4 h-4"}),"Reports"]}),t.jsxs("button",{onClick:()=>c("settings"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="settings"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(Uo,{className:"w-4 h-4"}),"Settings"]})]})]})}),t.jsxs("main",{className:"flex-1",children:[O&&t.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:t.jsxs("button",{onClick:()=>c("candidates"),className:"flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-colors",children:[t.jsx(Nf,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Back to Candidates"})]})}),t.jsx("div",{className:O?"":"p-6",children:U()})]})]})]}):t.jsx(gv,{})};function bv(){return t.jsx(mv,{children:t.jsx(vv,{})})}ff.createRoot(document.getElementById("root")).render(t.jsx(bv,{}));

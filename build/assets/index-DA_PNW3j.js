(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function n(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=n(c);fetch(c.href,d)}})();var wo={exports:{}},Bn={},jo={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function Zm(){if(qd)return Ne;qd=1;var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,b={};function T(k,I,oe){this.props=k,this.context=I,this.refs=b,this.updater=oe||S}T.prototype.isReactComponent={},T.prototype.setState=function(k,I){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,I,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function U(){}U.prototype=T.prototype;function W(k,I,oe){this.props=k,this.context=I,this.refs=b,this.updater=oe||S}var B=W.prototype=new U;B.constructor=W,O(B,T.prototype),B.isPureReactComponent=!0;var G=Array.isArray,M=Object.prototype.hasOwnProperty,P={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function le(k,I,oe){var me,$={},Q=null,X=null;if(I!=null)for(me in I.ref!==void 0&&(X=I.ref),I.key!==void 0&&(Q=""+I.key),I)M.call(I,me)&&!K.hasOwnProperty(me)&&($[me]=I[me]);var ye=arguments.length-2;if(ye===1)$.children=oe;else if(1<ye){for(var ve=Array(ye),Ze=0;Ze<ye;Ze++)ve[Ze]=arguments[Ze+2];$.children=ve}if(k&&k.defaultProps)for(me in ye=k.defaultProps,ye)$[me]===void 0&&($[me]=ye[me]);return{$$typeof:i,type:k,key:Q,ref:X,props:$,_owner:P.current}}function pe(k,I){return{$$typeof:i,type:k.type,key:I,ref:k.ref,props:k.props,_owner:k._owner}}function xe(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function _e(k){var I={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return I[oe]})}var je=/\/+/g;function we(k,I){return typeof k=="object"&&k!==null&&k.key!=null?_e(""+k.key):I.toString(36)}function Xe(k,I,oe,me,$){var Q=typeof k;(Q==="undefined"||Q==="boolean")&&(k=null);var X=!1;if(k===null)X=!0;else switch(Q){case"string":case"number":X=!0;break;case"object":switch(k.$$typeof){case i:case s:X=!0}}if(X)return X=k,$=$(X),k=me===""?"."+we(X,0):me,G($)?(oe="",k!=null&&(oe=k.replace(je,"$&/")+"/"),Xe($,I,oe,"",function(Ze){return Ze})):$!=null&&(xe($)&&($=pe($,oe+(!$.key||X&&X.key===$.key?"":(""+$.key).replace(je,"$&/")+"/")+k)),I.push($)),1;if(X=0,me=me===""?".":me+":",G(k))for(var ye=0;ye<k.length;ye++){Q=k[ye];var ve=me+we(Q,ye);X+=Xe(Q,I,oe,ve,$)}else if(ve=_(k),typeof ve=="function")for(k=ve.call(k),ye=0;!(Q=k.next()).done;)Q=Q.value,ve=me+we(Q,ye++),X+=Xe(Q,I,oe,ve,$);else if(Q==="object")throw I=String(k),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return X}function ft(k,I,oe){if(k==null)return k;var me=[],$=0;return Xe(k,me,"","",function(Q){return I.call(oe,Q,$++)}),me}function We(k){if(k._status===-1){var I=k._result;I=I(),I.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=I)}if(k._status===1)return k._result.default;throw k._result}var Ee={current:null},q={transition:null},se={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:q,ReactCurrentOwner:P};function R(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ft,forEach:function(k,I,oe){ft(k,function(){I.apply(this,arguments)},oe)},count:function(k){var I=0;return ft(k,function(){I++}),I},toArray:function(k){return ft(k,function(I){return I})||[]},only:function(k){if(!xe(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=T,Ne.Fragment=n,Ne.Profiler=c,Ne.PureComponent=W,Ne.StrictMode=l,Ne.Suspense=m,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ne.act=R,Ne.cloneElement=function(k,I,oe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var me=O({},k.props),$=k.key,Q=k.ref,X=k._owner;if(I!=null){if(I.ref!==void 0&&(Q=I.ref,X=P.current),I.key!==void 0&&($=""+I.key),k.type&&k.type.defaultProps)var ye=k.type.defaultProps;for(ve in I)M.call(I,ve)&&!K.hasOwnProperty(ve)&&(me[ve]=I[ve]===void 0&&ye!==void 0?ye[ve]:I[ve])}var ve=arguments.length-2;if(ve===1)me.children=oe;else if(1<ve){ye=Array(ve);for(var Ze=0;Ze<ve;Ze++)ye[Ze]=arguments[Ze+2];me.children=ye}return{$$typeof:i,type:k.type,key:$,ref:Q,props:me,_owner:X}},Ne.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:d,_context:k},k.Consumer=k},Ne.createElement=le,Ne.createFactory=function(k){var I=le.bind(null,k);return I.type=k,I},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:f,render:k}},Ne.isValidElement=xe,Ne.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:We}},Ne.memo=function(k,I){return{$$typeof:x,type:k,compare:I===void 0?null:I}},Ne.startTransition=function(k){var I=q.transition;q.transition={};try{k()}finally{q.transition=I}},Ne.unstable_act=R,Ne.useCallback=function(k,I){return Ee.current.useCallback(k,I)},Ne.useContext=function(k){return Ee.current.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k){return Ee.current.useDeferredValue(k)},Ne.useEffect=function(k,I){return Ee.current.useEffect(k,I)},Ne.useId=function(){return Ee.current.useId()},Ne.useImperativeHandle=function(k,I,oe){return Ee.current.useImperativeHandle(k,I,oe)},Ne.useInsertionEffect=function(k,I){return Ee.current.useInsertionEffect(k,I)},Ne.useLayoutEffect=function(k,I){return Ee.current.useLayoutEffect(k,I)},Ne.useMemo=function(k,I){return Ee.current.useMemo(k,I)},Ne.useReducer=function(k,I,oe){return Ee.current.useReducer(k,I,oe)},Ne.useRef=function(k){return Ee.current.useRef(k)},Ne.useState=function(k){return Ee.current.useState(k)},Ne.useSyncExternalStore=function(k,I,oe){return Ee.current.useSyncExternalStore(k,I,oe)},Ne.useTransition=function(){return Ee.current.useTransition()},Ne.version="18.3.1",Ne}var Hd;function Yo(){return Hd||(Hd=1,jo.exports=Zm()),jo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function ef(){if(Kd)return Bn;Kd=1;var i=Yo(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(f,m,x){var y,w={},_=null,S=null;x!==void 0&&(_=""+x),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)l.call(m,y)&&!d.hasOwnProperty(y)&&(w[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:s,type:f,key:_,ref:S,props:w,_owner:c.current}}return Bn.Fragment=n,Bn.jsx=p,Bn.jsxs=p,Bn}var Gd;function tf(){return Gd||(Gd=1,wo.exports=ef()),wo.exports}var r=tf(),ui={},No={exports:{}},_t={},_o={exports:{}},ko={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function rf(){return Jd||(Jd=1,(function(i){function s(q,se){var R=q.length;q.push(se);e:for(;0<R;){var k=R-1>>>1,I=q[k];if(0<c(I,se))q[k]=se,q[R]=I,R=k;else break e}}function n(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var se=q[0],R=q.pop();if(R!==se){q[0]=R;e:for(var k=0,I=q.length,oe=I>>>1;k<oe;){var me=2*(k+1)-1,$=q[me],Q=me+1,X=q[Q];if(0>c($,R))Q<I&&0>c(X,$)?(q[k]=X,q[Q]=R,k=Q):(q[k]=$,q[me]=R,k=me);else if(Q<I&&0>c(X,R))q[k]=X,q[Q]=R,k=Q;else break e}}return se}function c(q,se){var R=q.sortIndex-se.sortIndex;return R!==0?R:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,f=p.now();i.unstable_now=function(){return p.now()-f}}var m=[],x=[],y=1,w=null,_=3,S=!1,O=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(q){for(var se=n(x);se!==null;){if(se.callback===null)l(x);else if(se.startTime<=q)l(x),se.sortIndex=se.expirationTime,s(m,se);else break;se=n(x)}}function G(q){if(b=!1,B(q),!O)if(n(m)!==null)O=!0,We(M);else{var se=n(x);se!==null&&Ee(G,se.startTime-q)}}function M(q,se){O=!1,b&&(b=!1,U(le),le=-1),S=!0;var R=_;try{for(B(se),w=n(m);w!==null&&(!(w.expirationTime>se)||q&&!_e());){var k=w.callback;if(typeof k=="function"){w.callback=null,_=w.priorityLevel;var I=k(w.expirationTime<=se);se=i.unstable_now(),typeof I=="function"?w.callback=I:w===n(m)&&l(m),B(se)}else l(m);w=n(m)}if(w!==null)var oe=!0;else{var me=n(x);me!==null&&Ee(G,me.startTime-se),oe=!1}return oe}finally{w=null,_=R,S=!1}}var P=!1,K=null,le=-1,pe=5,xe=-1;function _e(){return!(i.unstable_now()-xe<pe)}function je(){if(K!==null){var q=i.unstable_now();xe=q;var se=!0;try{se=K(!0,q)}finally{se?we():(P=!1,K=null)}}else P=!1}var we;if(typeof W=="function")we=function(){W(je)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,ft=Xe.port2;Xe.port1.onmessage=je,we=function(){ft.postMessage(null)}}else we=function(){T(je,0)};function We(q){K=q,P||(P=!0,we())}function Ee(q,se){le=T(function(){q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_continueExecution=function(){O||S||(O=!0,We(M))},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var R=_;_=se;try{return q()}finally{_=R}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var R=_;_=q;try{return se()}finally{_=R}},i.unstable_scheduleCallback=function(q,se,R){var k=i.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?k+R:k):R=k,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=R+I,q={id:y++,callback:se,priorityLevel:q,startTime:R,expirationTime:I,sortIndex:-1},R>k?(q.sortIndex=R,s(x,q),n(m)===null&&q===n(x)&&(b?(U(le),le=-1):b=!0,Ee(G,R-k))):(q.sortIndex=I,s(m,q),O||S||(O=!0,We(M))),q},i.unstable_shouldYield=_e,i.unstable_wrapCallback=function(q){var se=_;return function(){var R=_;_=se;try{return q.apply(this,arguments)}finally{_=R}}}})(ko)),ko}var Qd;function sf(){return Qd||(Qd=1,_o.exports=rf()),_o.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function nf(){if(Yd)return _t;Yd=1;var i=Yo(),s=sf();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(e){return m.call(w,e)?!0:m.call(y,e)?!1:x.test(e)?w[e]=!0:(y[e]=!0,!1)}function S(e,t,a,o){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,a,o){if(t===null||typeof t>"u"||S(e,t,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,a,o,u,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,W);T[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,W);T[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,W);T[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,a,o){var u=T.hasOwnProperty(t)?T[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,a,u,o)&&(a=null),o||u===null?_(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):u.mustUseProperty?e[u.propertyName]=a===null?u.type===3?!1:"":a:(t=u.attributeName,o=u.attributeNamespace,a===null?e.removeAttribute(t):(u=u.type,a=u===3||u===4&&a===!0?"":""+a,o?e.setAttributeNS(o,t,a):e.setAttribute(t,a))))}var G=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),P=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),_e=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),q=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var R=Object.assign,k;function I(e){if(k===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var oe=!1;function me(e,t){if(!e||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var o=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){o=A}e.call(t.prototype)}else{try{throw Error()}catch(A){o=A}e()}}catch(A){if(A&&o&&typeof A.stack=="string"){for(var u=A.stack.split(`
`),h=o.stack.split(`
`),g=u.length-1,v=h.length-1;1<=g&&0<=v&&u[g]!==h[v];)v--;for(;1<=g&&0<=v;g--,v--)if(u[g]!==h[v]){if(g!==1||v!==1)do if(g--,v--,0>v||u[g]!==h[v]){var j=`
`+u[g].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=g&&0<=v);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?I(e):""}function $(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function Q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case P:return"Portal";case pe:return"Profiler";case le:return"StrictMode";case we:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _e:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case We:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}function X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(t);case 8:return t===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ze(e){var t=ve(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qe(e){e._valueTracker||(e._valueTracker=Ze(e))}function L(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),o="";return e&&(o=ve(e)?e.checked?"true":"false":e.value),e=o,e!==a?(t.setValue(e),!0):!1}function te(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ie(e,t){var a=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function ge(e,t){var a=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;a=ye(t.value!=null?t.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function be(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function Me(e,t){be(e,t);var a=ye(t.value),o=t.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?st(e,t.type,a):t.hasOwnProperty("defaultValue")&&st(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gt(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function st(e,t,a){(t!=="number"||te(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var ct=Array.isArray;function Ot(e,t,a,o){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ye(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ir(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vr(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(n(92));if(ct(a)){if(1<a.length)throw Error(n(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:ye(a)}}function ps(e,t){var a=ye(t.value),o=ye(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function lr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ti(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ra,ac=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,a,o,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ra=ra||document.createElement("div"),ra.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ra.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sp=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(e){sp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nn[t]=nn[e]})});function ic(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||nn.hasOwnProperty(e)&&nn[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var o=a.indexOf("--")===0,u=ic(a,t[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,u):e[a]=u}}var np=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oi(e,t){if(t){if(np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Ri(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,ms=null,fs=null;function oc(e){if(e=En(e)){if(typeof Di!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ka(t),Di(e.stateNode,e.type,t))}}function cc(e){ms?fs?fs.push(e):fs=[e]:ms=e}function uc(){if(ms){var e=ms,t=fs;if(fs=ms=null,oc(e),t)for(e=0;e<t.length;e++)oc(t[e])}}function dc(e,t){return e(t)}function hc(){}var $i=!1;function pc(e,t,a){if($i)return e(t,a);$i=!0;try{return dc(e,t,a)}finally{$i=!1,(ms!==null||fs!==null)&&(hc(),uc())}}function an(e,t){var a=e.stateNode;if(a===null)return null;var o=ka(a);if(o===null)return null;a=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,t,typeof a));return a}var Mi=!1;if(f)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{Mi=!1}function ap(e,t,a,o,u,h,g,v,j){var A=Array.prototype.slice.call(arguments,3);try{t.apply(a,A)}catch(z){this.onError(z)}}var on=!1,sa=null,na=!1,Ui=null,ip={onError:function(e){on=!0,sa=e}};function lp(e,t,a,o,u,h,g,v,j){on=!1,sa=null,ap.apply(ip,arguments)}function op(e,t,a,o,u,h,g,v,j){if(lp.apply(this,arguments),on){if(on){var A=sa;on=!1,sa=null}else throw Error(n(198));na||(na=!0,Ui=A)}}function qr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fc(e){if(qr(e)!==e)throw Error(n(188))}function cp(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var a=e,o=t;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return fc(u),e;if(h===o)return fc(u),t;h=h.sibling}throw Error(n(188))}if(a.return!==o.return)a=u,o=h;else{for(var g=!1,v=u.child;v;){if(v===a){g=!0,a=u,o=h;break}if(v===o){g=!0,o=u,a=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===a){g=!0,a=h,o=u;break}if(v===o){g=!0,o=h,a=u;break}v=v.sibling}if(!g)throw Error(n(189))}}if(a.alternate!==o)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:t}function gc(e){return e=cp(e),e!==null?xc(e):null}function xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xc(e);if(t!==null)return t;e=e.sibling}return null}var yc=s.unstable_scheduleCallback,vc=s.unstable_cancelCallback,up=s.unstable_shouldYield,dp=s.unstable_requestPaint,ze=s.unstable_now,hp=s.unstable_getCurrentPriorityLevel,Fi=s.unstable_ImmediatePriority,bc=s.unstable_UserBlockingPriority,aa=s.unstable_NormalPriority,pp=s.unstable_LowPriority,wc=s.unstable_IdlePriority,ia=null,tr=null;function mp(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:xp,fp=Math.log,gp=Math.LN2;function xp(e){return e>>>=0,e===0?32:31-(fp(e)/gp|0)|0}var la=64,oa=4194304;function cn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ca(e,t){var a=e.pendingLanes;if(a===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes,g=a&268435455;if(g!==0){var v=g&~u;v!==0?o=cn(v):(h&=g,h!==0&&(o=cn(h)))}else g=a&~u,g!==0?o=cn(g):h!==0&&(o=cn(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&u)===0&&(u=o&-o,h=t&-t,u>=h||u===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)a=31-zt(t),u=1<<a,o|=e[a],t&=~u;return o}function yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vp(e,t){for(var a=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-zt(h),v=1<<g,j=u[g];j===-1?((v&a)===0||(v&o)!==0)&&(u[g]=yp(v,t)):j<=t&&(e.expiredLanes|=v),h&=~v}}function zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jc(){var e=la;return la<<=1,(la&4194240)===0&&(la=64),e}function Bi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function un(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=a}function bp(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var u=31-zt(a),h=1<<u;t[u]=0,o[u]=-1,e[u]=-1,a&=~h}}function Vi(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var o=31-zt(a),u=1<<o;u&t|e[o]&t&&(e[o]|=t),a&=~u}}var Ce=0;function Nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _c,Wi,kc,Sc,Ec,qi=!1,ua=[],wr=null,jr=null,Nr=null,dn=new Map,hn=new Map,_r=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":dn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(t.pointerId)}}function pn(e,t,a,o,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[u]},t!==null&&(t=En(t),t!==null&&Wi(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function jp(e,t,a,o,u){switch(t){case"focusin":return wr=pn(wr,e,t,a,o,u),!0;case"dragenter":return jr=pn(jr,e,t,a,o,u),!0;case"mouseover":return Nr=pn(Nr,e,t,a,o,u),!0;case"pointerover":var h=u.pointerId;return dn.set(h,pn(dn.get(h)||null,e,t,a,o,u)),!0;case"gotpointercapture":return h=u.pointerId,hn.set(h,pn(hn.get(h)||null,e,t,a,o,u)),!0}return!1}function Ac(e){var t=Hr(e.target);if(t!==null){var a=qr(t);if(a!==null){if(t=a.tag,t===13){if(t=mc(a),t!==null){e.blockedOn=t,Ec(e.priority,function(){kc(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function da(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ki(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Li=o,a.target.dispatchEvent(o),Li=null}else return t=En(a),t!==null&&Wi(t),e.blockedOn=a,!1;t.shift()}return!0}function Pc(e,t,a){da(e)&&a.delete(t)}function Np(){qi=!1,wr!==null&&da(wr)&&(wr=null),jr!==null&&da(jr)&&(jr=null),Nr!==null&&da(Nr)&&(Nr=null),dn.forEach(Pc),hn.forEach(Pc)}function mn(e,t){e.blockedOn===t&&(e.blockedOn=null,qi||(qi=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Np)))}function fn(e){function t(u){return mn(u,e)}if(0<ua.length){mn(ua[0],e);for(var a=1;a<ua.length;a++){var o=ua[a];o.blockedOn===e&&(o.blockedOn=null)}}for(wr!==null&&mn(wr,e),jr!==null&&mn(jr,e),Nr!==null&&mn(Nr,e),dn.forEach(t),hn.forEach(t),a=0;a<_r.length;a++)o=_r[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)Ac(a),a.blockedOn===null&&_r.shift()}var gs=G.ReactCurrentBatchConfig,ha=!0;function _p(e,t,a,o){var u=Ce,h=gs.transition;gs.transition=null;try{Ce=1,Hi(e,t,a,o)}finally{Ce=u,gs.transition=h}}function kp(e,t,a,o){var u=Ce,h=gs.transition;gs.transition=null;try{Ce=4,Hi(e,t,a,o)}finally{Ce=u,gs.transition=h}}function Hi(e,t,a,o){if(ha){var u=Ki(e,t,a,o);if(u===null)ul(e,t,o,pa,a),Cc(e,o);else if(jp(u,e,t,a,o))o.stopPropagation();else if(Cc(e,o),t&4&&-1<wp.indexOf(e)){for(;u!==null;){var h=En(u);if(h!==null&&_c(h),h=Ki(e,t,a,o),h===null&&ul(e,t,o,pa,a),h===u)break;u=h}u!==null&&o.stopPropagation()}else ul(e,t,o,null,a)}}var pa=null;function Ki(e,t,a,o){if(pa=null,e=Ii(o),e=Hr(e),e!==null)if(t=qr(e),t===null)e=null;else if(a=t.tag,a===13){if(e=mc(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pa=e,null}function Tc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Fi:return 1;case bc:return 4;case aa:case pp:return 16;case wc:return 536870912;default:return 16}default:return 16}}var kr=null,Gi=null,ma=null;function Oc(){if(ma)return ma;var e,t=Gi,a=t.length,o,u="value"in kr?kr.value:kr.textContent,h=u.length;for(e=0;e<a&&t[e]===u[e];e++);var g=a-e;for(o=1;o<=g&&t[a-o]===u[h-o];o++);return ma=u.slice(e,1<o?1-o:void 0)}function fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ga(){return!0}function Rc(){return!1}function kt(e){function t(a,o,u,h,g){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ga:Rc,this.isPropagationStopped=Rc,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=kt(xs),gn=R({},xs,{view:0,detail:0}),Sp=kt(gn),Qi,Yi,xn,xa=R({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(Qi=e.screenX-xn.screenX,Yi=e.screenY-xn.screenY):Yi=Qi=0,xn=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:Yi}}),Lc=kt(xa),Ep=R({},xa,{dataTransfer:0}),Cp=kt(Ep),Ap=R({},gn,{relatedTarget:0}),Xi=kt(Ap),Pp=R({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=kt(Pp),Op=R({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rp=kt(Op),Lp=R({},xs,{data:0}),Ic=kt(Lp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function Zi(){return Mp}var Up=R({},gn,{key:function(e){if(e.key){var t=Ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fp=kt(Up),zp=R({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=kt(zp),Bp=R({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),Vp=kt(Bp),Wp=R({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=kt(Wp),Hp=R({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=kt(Hp),Gp=[9,13,27,32],el=f&&"CompositionEvent"in window,yn=null;f&&"documentMode"in document&&(yn=document.documentMode);var Jp=f&&"TextEvent"in window&&!yn,$c=f&&(!el||yn&&8<yn&&11>=yn),Mc=" ",Uc=!1;function Fc(e,t){switch(e){case"keyup":return Gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function Qp(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Uc=!0,Mc);case"textInput":return e=t.data,e===Mc&&Uc?null:e;default:return null}}function Yp(e,t){if(ys)return e==="compositionend"||!el&&Fc(e,t)?(e=Oc(),ma=Gi=kr=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var Xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xp[e.type]:t==="textarea"}function Vc(e,t,a,o){cc(o),t=ja(t,"onChange"),0<t.length&&(a=new Ji("onChange","change",null,a,o),e.push({event:a,listeners:t}))}var vn=null,bn=null;function Zp(e){lu(e,0)}function ya(e){var t=Ns(e);if(L(t))return e}function em(e,t){if(e==="change")return t}var Wc=!1;if(f){var tl;if(f){var rl="oninput"in document;if(!rl){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),rl=typeof qc.oninput=="function"}tl=rl}else tl=!1;Wc=tl&&(!document.documentMode||9<document.documentMode)}function Hc(){vn&&(vn.detachEvent("onpropertychange",Kc),bn=vn=null)}function Kc(e){if(e.propertyName==="value"&&ya(bn)){var t=[];Vc(t,bn,e,Ii(e)),pc(Zp,t)}}function tm(e,t,a){e==="focusin"?(Hc(),vn=t,bn=a,vn.attachEvent("onpropertychange",Kc)):e==="focusout"&&Hc()}function rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ya(bn)}function sm(e,t){if(e==="click")return ya(t)}function nm(e,t){if(e==="input"||e==="change")return ya(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:am;function wn(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!m.call(t,u)||!Bt(e[u],t[u]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var a=Gc(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=t&&o>=t)return{node:a,offset:t-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gc(a)}}function Qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(){for(var e=window,t=te();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=te(e.document)}return t}function sl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function im(e){var t=Yc(),a=e.focusedElem,o=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Qc(a.ownerDocument.documentElement,a)){if(o!==null&&sl(a)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=a.textContent.length,h=Math.min(o.start,u);o=o.end===void 0?h:Math.min(o.end,u),!e.extend&&h>o&&(u=o,o=h,h=u),u=Jc(a,h);var g=Jc(a,o);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lm=f&&"documentMode"in document&&11>=document.documentMode,vs=null,nl=null,jn=null,al=!1;function Xc(e,t,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;al||vs==null||vs!==te(o)||(o=vs,"selectionStart"in o&&sl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jn&&wn(jn,o)||(jn=o,o=ja(nl,"onSelect"),0<o.length&&(t=new Ji("onSelect","select",null,t,a),e.push({event:t,listeners:o}),t.target=vs)))}function va(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bs={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},il={},Zc={};f&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function ba(e){if(il[e])return il[e];if(!bs[e])return e;var t=bs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zc)return il[e]=t[a];return e}var eu=ba("animationend"),tu=ba("animationiteration"),ru=ba("animationstart"),su=ba("transitionend"),nu=new Map,au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){nu.set(e,t),d(t,[e])}for(var ll=0;ll<au.length;ll++){var ol=au[ll],om=ol.toLowerCase(),cm=ol[0].toUpperCase()+ol.slice(1);Sr(om,"on"+cm)}Sr(eu,"onAnimationEnd"),Sr(tu,"onAnimationIteration"),Sr(ru,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(su,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function iu(e,t,a){var o=e.type||"unknown-event";e.currentTarget=a,op(o,t,void 0,e),e.currentTarget=null}function lu(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],u=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var g=o.length-1;0<=g;g--){var v=o[g],j=v.instance,A=v.currentTarget;if(v=v.listener,j!==h&&u.isPropagationStopped())break e;iu(u,v,A),h=j}else for(g=0;g<o.length;g++){if(v=o[g],j=v.instance,A=v.currentTarget,v=v.listener,j!==h&&u.isPropagationStopped())break e;iu(u,v,A),h=j}}}if(na)throw e=Ui,na=!1,Ui=null,e}function Te(e,t){var a=t[gl];a===void 0&&(a=t[gl]=new Set);var o=e+"__bubble";a.has(o)||(ou(t,e,2,!1),a.add(o))}function cl(e,t,a){var o=0;t&&(o|=4),ou(a,e,o,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function _n(e){if(!e[wa]){e[wa]=!0,l.forEach(function(a){a!=="selectionchange"&&(um.has(a)||cl(a,!1,e),cl(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,cl("selectionchange",!1,t))}}function ou(e,t,a,o){switch(Tc(t)){case 1:var u=_p;break;case 4:u=kp;break;default:u=Hi}a=u.bind(null,t,a,e),u=void 0,!Mi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function ul(e,t,a,o,u){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===u||v.nodeType===8&&v.parentNode===u)break;if(g===4)for(g=o.return;g!==null;){var j=g.tag;if((j===3||j===4)&&(j=g.stateNode.containerInfo,j===u||j.nodeType===8&&j.parentNode===u))return;g=g.return}for(;v!==null;){if(g=Hr(v),g===null)return;if(j=g.tag,j===5||j===6){o=h=g;continue e}v=v.parentNode}}o=o.return}pc(function(){var A=h,z=Ii(a),V=[];e:{var F=nu.get(e);if(F!==void 0){var J=Ji,ee=e;switch(e){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":J=Fp;break;case"focusin":ee="focus",J=Xi;break;case"focusout":ee="blur",J=Xi;break;case"beforeblur":case"afterblur":J=Xi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Vp;break;case eu:case tu:case ru:J=Tp;break;case su:J=qp;break;case"scroll":J=Sp;break;case"wheel":J=Kp;break;case"copy":case"cut":case"paste":J=Rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Dc}var re=(t&4)!==0,Be=!re&&e==="scroll",E=re?F!==null?F+"Capture":null:F;re=[];for(var N=A,C;N!==null;){C=N;var H=C.stateNode;if(C.tag===5&&H!==null&&(C=H,E!==null&&(H=an(N,E),H!=null&&re.push(kn(N,H,C)))),Be)break;N=N.return}0<re.length&&(F=new J(F,ee,null,a,z),V.push({event:F,listeners:re}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",F&&a!==Li&&(ee=a.relatedTarget||a.fromElement)&&(Hr(ee)||ee[or]))break e;if((J||F)&&(F=z.window===z?z:(F=z.ownerDocument)?F.defaultView||F.parentWindow:window,J?(ee=a.relatedTarget||a.toElement,J=A,ee=ee?Hr(ee):null,ee!==null&&(Be=qr(ee),ee!==Be||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(J=null,ee=A),J!==ee)){if(re=Lc,H="onMouseLeave",E="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(re=Dc,H="onPointerLeave",E="onPointerEnter",N="pointer"),Be=J==null?F:Ns(J),C=ee==null?F:Ns(ee),F=new re(H,N+"leave",J,a,z),F.target=Be,F.relatedTarget=C,H=null,Hr(z)===A&&(re=new re(E,N+"enter",ee,a,z),re.target=C,re.relatedTarget=Be,H=re),Be=H,J&&ee)t:{for(re=J,E=ee,N=0,C=re;C;C=ws(C))N++;for(C=0,H=E;H;H=ws(H))C++;for(;0<N-C;)re=ws(re),N--;for(;0<C-N;)E=ws(E),C--;for(;N--;){if(re===E||E!==null&&re===E.alternate)break t;re=ws(re),E=ws(E)}re=null}else re=null;J!==null&&cu(V,F,J,re,!1),ee!==null&&Be!==null&&cu(V,Be,ee,re,!0)}}e:{if(F=A?Ns(A):window,J=F.nodeName&&F.nodeName.toLowerCase(),J==="select"||J==="input"&&F.type==="file")var ne=em;else if(Bc(F))if(Wc)ne=nm;else{ne=rm;var ce=tm}else(J=F.nodeName)&&J.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ne=sm);if(ne&&(ne=ne(e,A))){Vc(V,ne,a,z);break e}ce&&ce(e,F,A),e==="focusout"&&(ce=F._wrapperState)&&ce.controlled&&F.type==="number"&&st(F,"number",F.value)}switch(ce=A?Ns(A):window,e){case"focusin":(Bc(ce)||ce.contentEditable==="true")&&(vs=ce,nl=A,jn=null);break;case"focusout":jn=nl=vs=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,Xc(V,a,z);break;case"selectionchange":if(lm)break;case"keydown":case"keyup":Xc(V,a,z)}var ue;if(el)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ys?Fc(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&($c&&a.locale!=="ko"&&(ys||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ys&&(ue=Oc()):(kr=z,Gi="value"in kr?kr.value:kr.textContent,ys=!0)),ce=ja(A,fe),0<ce.length&&(fe=new Ic(fe,e,null,a,z),V.push({event:fe,listeners:ce}),ue?fe.data=ue:(ue=zc(a),ue!==null&&(fe.data=ue)))),(ue=Jp?Qp(e,a):Yp(e,a))&&(A=ja(A,"onBeforeInput"),0<A.length&&(z=new Ic("onBeforeInput","beforeinput",null,a,z),V.push({event:z,listeners:A}),z.data=ue))}lu(V,t)})}function kn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ja(e,t){for(var a=t+"Capture",o=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=an(e,a),h!=null&&o.unshift(kn(e,h,u)),h=an(e,t),h!=null&&o.push(kn(e,h,u))),e=e.return}return o}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,a,o,u){for(var h=t._reactName,g=[];a!==null&&a!==o;){var v=a,j=v.alternate,A=v.stateNode;if(j!==null&&j===o)break;v.tag===5&&A!==null&&(v=A,u?(j=an(a,h),j!=null&&g.unshift(kn(a,j,v))):u||(j=an(a,h),j!=null&&g.push(kn(a,j,v)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var dm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function uu(e){return(typeof e=="string"?e:""+e).replace(dm,`
`).replace(hm,"")}function Na(e,t,a){if(t=uu(t),uu(e)!==t&&a)throw Error(n(425))}function _a(){}var dl=null,hl=null;function pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,pm=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,mm=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(fm)}:ml;function fm(e){setTimeout(function(){throw e})}function fl(e,t){var a=t,o=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(o===0){e.removeChild(u),fn(t);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=u}while(a);fn(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),rr="__reactFiber$"+js,Sn="__reactProps$"+js,or="__reactContainer$"+js,gl="__reactEvents$"+js,gm="__reactListeners$"+js,xm="__reactHandles$"+js;function Hr(e){var t=e[rr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[or]||a[rr]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hu(e);e!==null;){if(a=e[rr])return a;e=hu(e)}return t}e=a,a=e.parentNode}return null}function En(e){return e=e[rr]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ka(e){return e[Sn]||null}var xl=[],_s=-1;function Cr(e){return{current:e}}function Oe(e){0>_s||(e.current=xl[_s],xl[_s]=null,_s--)}function Ae(e,t){_s++,xl[_s]=e.current,e.current=t}var Ar={},ut=Cr(Ar),vt=Cr(!1),Kr=Ar;function ks(e,t){var a=e.type.contextTypes;if(!a)return Ar;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in a)u[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function bt(e){return e=e.childContextTypes,e!=null}function Sa(){Oe(vt),Oe(ut)}function pu(e,t,a){if(ut.current!==Ar)throw Error(n(168));Ae(ut,t),Ae(vt,a)}function mu(e,t,a){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(n(108,X(e)||"Unknown",u));return R({},a,o)}function Ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,Kr=ut.current,Ae(ut,e),Ae(vt,vt.current),!0}function fu(e,t,a){var o=e.stateNode;if(!o)throw Error(n(169));a?(e=mu(e,t,Kr),o.__reactInternalMemoizedMergedChildContext=e,Oe(vt),Oe(ut),Ae(ut,e)):Oe(vt),Ae(vt,a)}var cr=null,Ca=!1,yl=!1;function gu(e){cr===null?cr=[e]:cr.push(e)}function ym(e){Ca=!0,gu(e)}function Pr(){if(!yl&&cr!==null){yl=!0;var e=0,t=Ce;try{var a=cr;for(Ce=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}cr=null,Ca=!1}catch(u){throw cr!==null&&(cr=cr.slice(e+1)),yc(Fi,Pr),u}finally{Ce=t,yl=!1}}return null}var Ss=[],Es=0,Aa=null,Pa=0,Rt=[],Lt=0,Gr=null,ur=1,dr="";function Jr(e,t){Ss[Es++]=Pa,Ss[Es++]=Aa,Aa=e,Pa=t}function xu(e,t,a){Rt[Lt++]=ur,Rt[Lt++]=dr,Rt[Lt++]=Gr,Gr=e;var o=ur;e=dr;var u=32-zt(o)-1;o&=~(1<<u),a+=1;var h=32-zt(t)+u;if(30<h){var g=u-u%5;h=(o&(1<<g)-1).toString(32),o>>=g,u-=g,ur=1<<32-zt(t)+u|a<<u|o,dr=h+e}else ur=1<<h|a<<u|o,dr=e}function vl(e){e.return!==null&&(Jr(e,1),xu(e,1,0))}function bl(e){for(;e===Aa;)Aa=Ss[--Es],Ss[Es]=null,Pa=Ss[--Es],Ss[Es]=null;for(;e===Gr;)Gr=Rt[--Lt],Rt[Lt]=null,dr=Rt[--Lt],Rt[Lt]=null,ur=Rt[--Lt],Rt[Lt]=null}var St=null,Et=null,Le=!1,Vt=null;function yu(e,t){var a=Mt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function vu(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,Et=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Gr!==null?{id:ur,overflow:dr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=Mt(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,St=e,Et=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(Le){var t=Et;if(t){var a=t;if(!vu(e,t)){if(wl(e))throw Error(n(418));t=Er(a.nextSibling);var o=St;t&&vu(e,t)?yu(o,a):(e.flags=e.flags&-4097|2,Le=!1,St=e)}}else{if(wl(e))throw Error(n(418));e.flags=e.flags&-4097|2,Le=!1,St=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Ta(e){if(e!==St)return!1;if(!Le)return bu(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pl(e.type,e.memoizedProps)),t&&(t=Et)){if(wl(e))throw wu(),Error(n(418));for(;t;)yu(e,t),t=Er(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Et=Er(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=St?Er(e.stateNode.nextSibling):null;return!0}function wu(){for(var e=Et;e;)e=Er(e.nextSibling)}function Cs(){Et=St=null,Le=!1}function Nl(e){Vt===null?Vt=[e]:Vt.push(e)}var vm=G.ReactCurrentBatchConfig;function Cn(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var o=a.stateNode}if(!o)throw Error(n(147,e));var u=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var v=u.refs;g===null?delete v[h]:v[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ju(e){var t=e._init;return t(e._payload)}function Nu(e){function t(E,N){if(e){var C=E.deletions;C===null?(E.deletions=[N],E.flags|=16):C.push(N)}}function a(E,N){if(!e)return null;for(;N!==null;)t(E,N),N=N.sibling;return null}function o(E,N){for(E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function u(E,N){return E=Mr(E,N),E.index=0,E.sibling=null,E}function h(E,N,C){return E.index=C,e?(C=E.alternate,C!==null?(C=C.index,C<N?(E.flags|=2,N):C):(E.flags|=2,N)):(E.flags|=1048576,N)}function g(E){return e&&E.alternate===null&&(E.flags|=2),E}function v(E,N,C,H){return N===null||N.tag!==6?(N=fo(C,E.mode,H),N.return=E,N):(N=u(N,C),N.return=E,N)}function j(E,N,C,H){var ne=C.type;return ne===K?z(E,N,C.props.children,H,C.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===We&&ju(ne)===N.type)?(H=u(N,C.props),H.ref=Cn(E,N,C),H.return=E,H):(H=ri(C.type,C.key,C.props,null,E.mode,H),H.ref=Cn(E,N,C),H.return=E,H)}function A(E,N,C,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==C.containerInfo||N.stateNode.implementation!==C.implementation?(N=go(C,E.mode,H),N.return=E,N):(N=u(N,C.children||[]),N.return=E,N)}function z(E,N,C,H,ne){return N===null||N.tag!==7?(N=ss(C,E.mode,H,ne),N.return=E,N):(N=u(N,C),N.return=E,N)}function V(E,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return N=fo(""+N,E.mode,C),N.return=E,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return C=ri(N.type,N.key,N.props,null,E.mode,C),C.ref=Cn(E,null,N),C.return=E,C;case P:return N=go(N,E.mode,C),N.return=E,N;case We:var H=N._init;return V(E,H(N._payload),C)}if(ct(N)||se(N))return N=ss(N,E.mode,C,null),N.return=E,N;Oa(E,N)}return null}function F(E,N,C,H){var ne=N!==null?N.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return ne!==null?null:v(E,N,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case M:return C.key===ne?j(E,N,C,H):null;case P:return C.key===ne?A(E,N,C,H):null;case We:return ne=C._init,F(E,N,ne(C._payload),H)}if(ct(C)||se(C))return ne!==null?null:z(E,N,C,H,null);Oa(E,C)}return null}function J(E,N,C,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return E=E.get(C)||null,v(N,E,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return E=E.get(H.key===null?C:H.key)||null,j(N,E,H,ne);case P:return E=E.get(H.key===null?C:H.key)||null,A(N,E,H,ne);case We:var ce=H._init;return J(E,N,C,ce(H._payload),ne)}if(ct(H)||se(H))return E=E.get(C)||null,z(N,E,H,ne,null);Oa(N,H)}return null}function ee(E,N,C,H){for(var ne=null,ce=null,ue=N,fe=N=0,rt=null;ue!==null&&fe<C.length;fe++){ue.index>fe?(rt=ue,ue=null):rt=ue.sibling;var Se=F(E,ue,C[fe],H);if(Se===null){ue===null&&(ue=rt);break}e&&ue&&Se.alternate===null&&t(E,ue),N=h(Se,N,fe),ce===null?ne=Se:ce.sibling=Se,ce=Se,ue=rt}if(fe===C.length)return a(E,ue),Le&&Jr(E,fe),ne;if(ue===null){for(;fe<C.length;fe++)ue=V(E,C[fe],H),ue!==null&&(N=h(ue,N,fe),ce===null?ne=ue:ce.sibling=ue,ce=ue);return Le&&Jr(E,fe),ne}for(ue=o(E,ue);fe<C.length;fe++)rt=J(ue,E,fe,C[fe],H),rt!==null&&(e&&rt.alternate!==null&&ue.delete(rt.key===null?fe:rt.key),N=h(rt,N,fe),ce===null?ne=rt:ce.sibling=rt,ce=rt);return e&&ue.forEach(function(Ur){return t(E,Ur)}),Le&&Jr(E,fe),ne}function re(E,N,C,H){var ne=se(C);if(typeof ne!="function")throw Error(n(150));if(C=ne.call(C),C==null)throw Error(n(151));for(var ce=ne=null,ue=N,fe=N=0,rt=null,Se=C.next();ue!==null&&!Se.done;fe++,Se=C.next()){ue.index>fe?(rt=ue,ue=null):rt=ue.sibling;var Ur=F(E,ue,Se.value,H);if(Ur===null){ue===null&&(ue=rt);break}e&&ue&&Ur.alternate===null&&t(E,ue),N=h(Ur,N,fe),ce===null?ne=Ur:ce.sibling=Ur,ce=Ur,ue=rt}if(Se.done)return a(E,ue),Le&&Jr(E,fe),ne;if(ue===null){for(;!Se.done;fe++,Se=C.next())Se=V(E,Se.value,H),Se!==null&&(N=h(Se,N,fe),ce===null?ne=Se:ce.sibling=Se,ce=Se);return Le&&Jr(E,fe),ne}for(ue=o(E,ue);!Se.done;fe++,Se=C.next())Se=J(ue,E,fe,Se.value,H),Se!==null&&(e&&Se.alternate!==null&&ue.delete(Se.key===null?fe:Se.key),N=h(Se,N,fe),ce===null?ne=Se:ce.sibling=Se,ce=Se);return e&&ue.forEach(function(Xm){return t(E,Xm)}),Le&&Jr(E,fe),ne}function Be(E,N,C,H){if(typeof C=="object"&&C!==null&&C.type===K&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case M:e:{for(var ne=C.key,ce=N;ce!==null;){if(ce.key===ne){if(ne=C.type,ne===K){if(ce.tag===7){a(E,ce.sibling),N=u(ce,C.props.children),N.return=E,E=N;break e}}else if(ce.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===We&&ju(ne)===ce.type){a(E,ce.sibling),N=u(ce,C.props),N.ref=Cn(E,ce,C),N.return=E,E=N;break e}a(E,ce);break}else t(E,ce);ce=ce.sibling}C.type===K?(N=ss(C.props.children,E.mode,H,C.key),N.return=E,E=N):(H=ri(C.type,C.key,C.props,null,E.mode,H),H.ref=Cn(E,N,C),H.return=E,E=H)}return g(E);case P:e:{for(ce=C.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===C.containerInfo&&N.stateNode.implementation===C.implementation){a(E,N.sibling),N=u(N,C.children||[]),N.return=E,E=N;break e}else{a(E,N);break}else t(E,N);N=N.sibling}N=go(C,E.mode,H),N.return=E,E=N}return g(E);case We:return ce=C._init,Be(E,N,ce(C._payload),H)}if(ct(C))return ee(E,N,C,H);if(se(C))return re(E,N,C,H);Oa(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,N!==null&&N.tag===6?(a(E,N.sibling),N=u(N,C),N.return=E,E=N):(a(E,N),N=fo(C,E.mode,H),N.return=E,E=N),g(E)):a(E,N)}return Be}var As=Nu(!0),_u=Nu(!1),Ra=Cr(null),La=null,Ps=null,_l=null;function kl(){_l=Ps=La=null}function Sl(e){var t=Ra.current;Oe(Ra),e._currentValue=t}function El(e,t,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===a)break;e=e.return}}function Ts(e,t){La=e,_l=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(wt=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(_l!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(La===null)throw Error(n(308));Ps=e,La.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var Qr=null;function Cl(e){Qr===null?Qr=[e]:Qr.push(e)}function ku(e,t,a,o){var u=t.interleaved;return u===null?(a.next=a,Cl(t)):(a.next=u.next,u.next=a),t.interleaved=a,hr(e,o)}function hr(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Tr=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ke&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,hr(e,a)}return u=o.interleaved,u===null?(t.next=t,Cl(o)):(t.next=u.next,u.next=t),o.interleaved=t,hr(e,a)}function Ia(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Vi(e,a)}}function Eu(e,t){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?u=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?u=h=t:h=h.next=t}else u=h=t;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Da(e,t,a,o){var u=e.updateQueue;Tr=!1;var h=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var j=v,A=j.next;j.next=null,g===null?h=A:g.next=A,g=j;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==g&&(v===null?z.firstBaseUpdate=A:v.next=A,z.lastBaseUpdate=j))}if(h!==null){var V=u.baseState;g=0,z=A=j=null,v=h;do{var F=v.lane,J=v.eventTime;if((o&F)===F){z!==null&&(z=z.next={eventTime:J,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var ee=e,re=v;switch(F=t,J=a,re.tag){case 1:if(ee=re.payload,typeof ee=="function"){V=ee.call(J,V,F);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,F=typeof ee=="function"?ee.call(J,V,F):ee,F==null)break e;V=R({},V,F);break e;case 2:Tr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,F=u.effects,F===null?u.effects=[v]:F.push(v))}else J={eventTime:J,lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(A=z=J,j=V):z=z.next=J,g|=F;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;F=v,v=F.next,F.next=null,u.lastBaseUpdate=F,u.shared.pending=null}}while(!0);if(z===null&&(j=V),u.baseState=j,u.firstBaseUpdate=A,u.lastBaseUpdate=z,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else h===null&&(u.shared.lanes=0);Zr|=g,e.lanes=g,e.memoizedState=V}}function Cu(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=a,typeof u!="function")throw Error(n(191,u));u.call(o)}}}var An={},sr=Cr(An),Pn=Cr(An),Tn=Cr(An);function Yr(e){if(e===An)throw Error(n(174));return e}function Pl(e,t){switch(Ae(Tn,t),Ae(Pn,e),Ae(sr,An),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ti(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ti(t,e)}Oe(sr),Ae(sr,t)}function Os(){Oe(sr),Oe(Pn),Oe(Tn)}function Au(e){Yr(Tn.current);var t=Yr(sr.current),a=Ti(t,e.type);t!==a&&(Ae(Pn,e),Ae(sr,a))}function Tl(e){Pn.current===e&&(Oe(sr),Oe(Pn))}var Ie=Cr(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ol=[];function Rl(){for(var e=0;e<Ol.length;e++)Ol[e]._workInProgressVersionPrimary=null;Ol.length=0}var Ma=G.ReactCurrentDispatcher,Ll=G.ReactCurrentBatchConfig,Xr=0,De=null,Je=null,et=null,Ua=!1,On=!1,Rn=0,bm=0;function dt(){throw Error(n(321))}function Il(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function Dl(e,t,a,o,u,h){if(Xr=h,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ma.current=e===null||e.memoizedState===null?_m:km,e=a(o,u),On){h=0;do{if(On=!1,Rn=0,25<=h)throw Error(n(301));h+=1,et=Je=null,t.updateQueue=null,Ma.current=Sm,e=a(o,u)}while(On)}if(Ma.current=Ba,t=Je!==null&&Je.next!==null,Xr=0,et=Je=De=null,Ua=!1,t)throw Error(n(300));return e}function $l(){var e=Rn!==0;return Rn=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=e:et=et.next=e,et}function Dt(){if(Je===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=et===null?De.memoizedState:et.next;if(t!==null)et=t,Je=e;else{if(e===null)throw Error(n(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},et===null?De.memoizedState=et=e:et=et.next=e}return et}function Ln(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=Dt(),a=t.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=Je,u=o.baseQueue,h=a.pending;if(h!==null){if(u!==null){var g=u.next;u.next=h.next,h.next=g}o.baseQueue=u=h,a.pending=null}if(u!==null){h=u.next,o=o.baseState;var v=g=null,j=null,A=h;do{var z=A.lane;if((Xr&z)===z)j!==null&&(j=j.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),o=A.hasEagerState?A.eagerState:e(o,A.action);else{var V={lane:z,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};j===null?(v=j=V,g=o):j=j.next=V,De.lanes|=z,Zr|=z}A=A.next}while(A!==null&&A!==h);j===null?g=o:j.next=v,Bt(o,t.memoizedState)||(wt=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=j,a.lastRenderedState=o}if(e=a.interleaved,e!==null){u=e;do h=u.lane,De.lanes|=h,Zr|=h,u=u.next;while(u!==e)}else u===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Ul(e){var t=Dt(),a=t.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=a.dispatch,u=a.pending,h=t.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do h=e(h,g.action),g=g.next;while(g!==u);Bt(h,t.memoizedState)||(wt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,o]}function Pu(){}function Tu(e,t){var a=De,o=Dt(),u=t(),h=!Bt(o.memoizedState,u);if(h&&(o.memoizedState=u,wt=!0),o=o.queue,Fl(Lu.bind(null,a,o,e),[e]),o.getSnapshot!==t||h||et!==null&&et.memoizedState.tag&1){if(a.flags|=2048,In(9,Ru.bind(null,a,o,u,t),void 0,null),tt===null)throw Error(n(349));(Xr&30)!==0||Ou(a,t,u)}return u}function Ou(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ru(e,t,a,o){t.value=a,t.getSnapshot=o,Iu(t)&&Du(e)}function Lu(e,t,a){return a(function(){Iu(t)&&Du(e)})}function Iu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function Du(e){var t=hr(e,1);t!==null&&Kt(t,e,1,-1)}function $u(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:e},t.queue=e,e=e.dispatch=Nm.bind(null,De,e),[t.memoizedState,e]}function In(e,t,a,o){return e={tag:e,create:t,destroy:a,deps:o,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,t.lastEffect=e)),e}function Mu(){return Dt().memoizedState}function Fa(e,t,a,o){var u=nr();De.flags|=e,u.memoizedState=In(1|t,a,void 0,o===void 0?null:o)}function za(e,t,a,o){var u=Dt();o=o===void 0?null:o;var h=void 0;if(Je!==null){var g=Je.memoizedState;if(h=g.destroy,o!==null&&Il(o,g.deps)){u.memoizedState=In(t,a,h,o);return}}De.flags|=e,u.memoizedState=In(1|t,a,h,o)}function Uu(e,t){return Fa(8390656,8,e,t)}function Fl(e,t){return za(2048,8,e,t)}function Fu(e,t){return za(4,2,e,t)}function zu(e,t){return za(4,4,e,t)}function Bu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vu(e,t,a){return a=a!=null?a.concat([e]):null,za(4,4,Bu.bind(null,t,e),a)}function zl(){}function Wu(e,t){var a=Dt();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Il(t,o[1])?o[0]:(a.memoizedState=[e,t],e)}function qu(e,t){var a=Dt();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Il(t,o[1])?o[0]:(e=e(),a.memoizedState=[e,t],e)}function Hu(e,t,a){return(Xr&21)===0?(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=a):(Bt(a,t)||(a=jc(),De.lanes|=a,Zr|=a,e.baseState=!0),t)}function wm(e,t){var a=Ce;Ce=a!==0&&4>a?a:4,e(!0);var o=Ll.transition;Ll.transition={};try{e(!1),t()}finally{Ce=a,Ll.transition=o}}function Ku(){return Dt().memoizedState}function jm(e,t,a){var o=Dr(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e))Ju(t,a);else if(a=ku(e,t,a,o),a!==null){var u=yt();Kt(a,e,o,u),Qu(a,t,o)}}function Nm(e,t,a){var o=Dr(e),u={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Ju(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,v=h(g,a);if(u.hasEagerState=!0,u.eagerState=v,Bt(v,g)){var j=t.interleaved;j===null?(u.next=u,Cl(t)):(u.next=j.next,j.next=u),t.interleaved=u;return}}catch{}finally{}a=ku(e,t,u,o),a!==null&&(u=yt(),Kt(a,e,o,u),Qu(a,t,o))}}function Gu(e){var t=e.alternate;return e===De||t!==null&&t===De}function Ju(e,t){On=Ua=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qu(e,t,a){if((a&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Vi(e,a)}}var Ba={readContext:It,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},_m={readContext:It,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Uu,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Fa(4194308,4,Bu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var a=nr();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var o=nr();return t=a!==void 0?a(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=jm.bind(null,De,e),[o.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:zl,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=wm.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var o=De,u=nr();if(Le){if(a===void 0)throw Error(n(407));a=a()}else{if(a=t(),tt===null)throw Error(n(349));(Xr&30)!==0||Ou(o,t,a)}u.memoizedState=a;var h={value:a,getSnapshot:t};return u.queue=h,Uu(Lu.bind(null,o,h,e),[e]),o.flags|=2048,In(9,Ru.bind(null,o,h,a,t),void 0,null),a},useId:function(){var e=nr(),t=tt.identifierPrefix;if(Le){var a=dr,o=ur;a=(o&~(1<<32-zt(o)-1)).toString(32)+a,t=":"+t+"R"+a,a=Rn++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=bm++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},km={readContext:It,useCallback:Wu,useContext:It,useEffect:Fl,useImperativeHandle:Vu,useInsertionEffect:Fu,useLayoutEffect:zu,useMemo:qu,useReducer:Ml,useRef:Mu,useState:function(){return Ml(Ln)},useDebugValue:zl,useDeferredValue:function(e){var t=Dt();return Hu(t,Je.memoizedState,e)},useTransition:function(){var e=Ml(Ln)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Tu,useId:Ku,unstable_isNewReconciler:!1},Sm={readContext:It,useCallback:Wu,useContext:It,useEffect:Fl,useImperativeHandle:Vu,useInsertionEffect:Fu,useLayoutEffect:zu,useMemo:qu,useReducer:Ul,useRef:Mu,useState:function(){return Ul(Ln)},useDebugValue:zl,useDeferredValue:function(e){var t=Dt();return Je===null?t.memoizedState=e:Hu(t,Je.memoizedState,e)},useTransition:function(){var e=Ul(Ln)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Tu,useId:Ku,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=R({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function Bl(e,t,a,o){t=e.memoizedState,a=a(o,t),a=a==null?t:R({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Va={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var o=yt(),u=Dr(e),h=pr(o,u);h.payload=t,a!=null&&(h.callback=a),t=Or(e,h,u),t!==null&&(Kt(t,e,u,o),Ia(t,e,u))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var o=yt(),u=Dr(e),h=pr(o,u);h.tag=1,h.payload=t,a!=null&&(h.callback=a),t=Or(e,h,u),t!==null&&(Kt(t,e,u,o),Ia(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=yt(),o=Dr(e),u=pr(a,o);u.tag=2,t!=null&&(u.callback=t),t=Or(e,u,o),t!==null&&(Kt(t,e,o,a),Ia(t,e,o))}};function Yu(e,t,a,o,u,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):t.prototype&&t.prototype.isPureReactComponent?!wn(a,o)||!wn(u,h):!0}function Xu(e,t,a){var o=!1,u=Ar,h=t.contextType;return typeof h=="object"&&h!==null?h=It(h):(u=bt(t)?Kr:ut.current,o=t.contextTypes,h=(o=o!=null)?ks(e,u):Ar),t=new t(a,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),t}function Zu(e,t,a,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,o),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Vl(e,t,a,o){var u=e.stateNode;u.props=a,u.state=e.memoizedState,u.refs={},Al(e);var h=t.contextType;typeof h=="object"&&h!==null?u.context=It(h):(h=bt(t)?Kr:ut.current,u.context=ks(e,h)),u.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Bl(e,t,h,a),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Va.enqueueReplaceState(u,u.state,null),Da(e,a,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var a="",o=t;do a+=$(o),o=o.return;while(o);var u=a}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:u,digest:null}}function Wl(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function ql(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Em=typeof WeakMap=="function"?WeakMap:Map;function ed(e,t,a){a=pr(-1,a),a.tag=3,a.payload={element:null};var o=t.value;return a.callback=function(){Qa||(Qa=!0,io=o),ql(e,t)},a}function td(e,t,a){a=pr(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;a.payload=function(){return o(u)},a.callback=function(){ql(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){ql(e,t),typeof o!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),a}function rd(e,t,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Em;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(a)||(u.add(a),e=zm.bind(null,e,t,a),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,a,o,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=pr(-1,1),t.tag=2,Or(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Cm=G.ReactCurrentOwner,wt=!1;function xt(e,t,a,o){t.child=e===null?_u(t,null,a,o):As(t,e.child,a,o)}function ad(e,t,a,o,u){a=a.render;var h=t.ref;return Ts(t,u),o=Dl(e,t,a,o,h,u),a=$l(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,mr(e,t,u)):(Le&&a&&vl(t),t.flags|=1,xt(e,t,o,u),t.child)}function id(e,t,a,o,u){if(e===null){var h=a.type;return typeof h=="function"&&!mo(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=h,ld(e,t,h,o,u)):(e=ri(a.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&u)===0){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:wn,a(g,o)&&e.ref===t.ref)return mr(e,t,u)}return t.flags|=1,e=Mr(h,o),e.ref=t.ref,e.return=t,t.child=e}function ld(e,t,a,o,u){if(e!==null){var h=e.memoizedProps;if(wn(h,o)&&e.ref===t.ref)if(wt=!1,t.pendingProps=o=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,mr(e,t,u)}return Hl(e,t,a,o,u)}function od(e,t,a){var o=t.pendingProps,u=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Is,Ct),Ct|=a;else{if((a&1073741824)===0)return e=h!==null?h.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Is,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:a,Ae(Is,Ct),Ct|=o}else h!==null?(o=h.baseLanes|a,t.memoizedState=null):o=a,Ae(Is,Ct),Ct|=o;return xt(e,t,u,a),t.child}function cd(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Hl(e,t,a,o,u){var h=bt(a)?Kr:ut.current;return h=ks(t,h),Ts(t,u),a=Dl(e,t,a,o,h,u),o=$l(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,mr(e,t,u)):(Le&&o&&vl(t),t.flags|=1,xt(e,t,a,u),t.child)}function ud(e,t,a,o,u){if(bt(a)){var h=!0;Ea(t)}else h=!1;if(Ts(t,u),t.stateNode===null)qa(e,t),Xu(t,a,o),Vl(t,a,o,u),o=!0;else if(e===null){var g=t.stateNode,v=t.memoizedProps;g.props=v;var j=g.context,A=a.contextType;typeof A=="object"&&A!==null?A=It(A):(A=bt(a)?Kr:ut.current,A=ks(t,A));var z=a.getDerivedStateFromProps,V=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function";V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==o||j!==A)&&Zu(t,g,o,A),Tr=!1;var F=t.memoizedState;g.state=F,Da(t,o,g,u),j=t.memoizedState,v!==o||F!==j||vt.current||Tr?(typeof z=="function"&&(Bl(t,a,z,o),j=t.memoizedState),(v=Tr||Yu(t,a,v,o,F,j,A))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=j),g.props=o,g.state=j,g.context=A,o=v):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,Su(e,t),v=t.memoizedProps,A=t.type===t.elementType?v:Wt(t.type,v),g.props=A,V=t.pendingProps,F=g.context,j=a.contextType,typeof j=="object"&&j!==null?j=It(j):(j=bt(a)?Kr:ut.current,j=ks(t,j));var J=a.getDerivedStateFromProps;(z=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==V||F!==j)&&Zu(t,g,o,j),Tr=!1,F=t.memoizedState,g.state=F,Da(t,o,g,u);var ee=t.memoizedState;v!==V||F!==ee||vt.current||Tr?(typeof J=="function"&&(Bl(t,a,J,o),ee=t.memoizedState),(A=Tr||Yu(t,a,A,o,F,ee,j)||!1)?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,ee,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,ee,j)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=ee),g.props=o,g.state=ee,g.context=j,o=A):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),o=!1)}return Kl(e,t,a,o,h,u)}function Kl(e,t,a,o,u,h){cd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return u&&fu(t,a,!1),mr(e,t,h);o=t.stateNode,Cm.current=t;var v=g&&typeof a.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=As(t,e.child,null,h),t.child=As(t,null,v,h)):xt(e,t,v,h),t.memoizedState=o.state,u&&fu(t,a,!0),t.child}function dd(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),Pl(e,t.containerInfo)}function hd(e,t,a,o,u){return Cs(),Nl(u),t.flags|=256,xt(e,t,a,o),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,a){var o=t.pendingProps,u=Ie.current,h=!1,g=(t.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(u&2)!==0),v?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ae(Ie,u&1),e===null)return jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,h?(o=t.mode,h=t.child,g={mode:"hidden",children:g},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=si(g,o,0,null),e=ss(e,o,a,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Jl(a),t.memoizedState=Gl,e):Ql(t,g));if(u=e.memoizedState,u!==null&&(v=u.dehydrated,v!==null))return Am(e,t,g,o,v,u,a);if(h){h=o.fallback,g=t.mode,u=e.child,v=u.sibling;var j={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=j,t.deletions=null):(o=Mr(u,j),o.subtreeFlags=u.subtreeFlags&14680064),v!==null?h=Mr(v,h):(h=ss(h,g,a,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,g=e.child.memoizedState,g=g===null?Jl(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~a,t.memoizedState=Gl,o}return h=e.child,e=h.sibling,o=Mr(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=a),o.return=t,o.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=o,t.memoizedState=null,o}function Ql(e,t){return t=si({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wa(e,t,a,o){return o!==null&&Nl(o),As(t,e.child,null,a),e=Ql(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,a,o,u,h,g){if(a)return t.flags&256?(t.flags&=-257,o=Wl(Error(n(422))),Wa(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,u=t.mode,o=si({mode:"visible",children:o.children},u,0,null),h=ss(h,u,g,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&As(t,e.child,null,g),t.child.memoizedState=Jl(g),t.memoizedState=Gl,h);if((t.mode&1)===0)return Wa(e,t,g,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var v=o.dgst;return o=v,h=Error(n(419)),o=Wl(h,o,void 0),Wa(e,t,g,o)}if(v=(g&e.childLanes)!==0,wt||v){if(o=tt,o!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|g))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,hr(e,u),Kt(o,e,u,-1))}return po(),o=Wl(Error(n(421))),Wa(e,t,g,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Bm.bind(null,e),u._reactRetry=t,null):(e=h.treeContext,Et=Er(u.nextSibling),St=t,Le=!0,Vt=null,e!==null&&(Rt[Lt++]=ur,Rt[Lt++]=dr,Rt[Lt++]=Gr,ur=e.id,dr=e.overflow,Gr=t),t=Ql(t,o.children),t.flags|=4096,t)}function md(e,t,a){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),El(e.return,t,a)}function Yl(e,t,a,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=u)}function fd(e,t,a){var o=t.pendingProps,u=o.revealOrder,h=o.tail;if(xt(e,t,o.children,a),o=Ie.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,a,t);else if(e.tag===19)md(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ae(Ie,o),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&$a(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Yl(t,!1,u,a,h);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&$a(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Yl(t,!0,a,null,h);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,a=Mr(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Mr(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Pm(e,t,a){switch(t.tag){case 3:dd(t),Cs();break;case 5:Au(t);break;case 1:bt(t.type)&&Ea(t);break;case 4:Pl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;Ae(Ra,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ae(Ie,Ie.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?pd(e,t,a):(Ae(Ie,Ie.current&1),e=mr(e,t,a),e!==null?e.sibling:null);Ae(Ie,Ie.current&1);break;case 19:if(o=(a&t.childLanes)!==0,(e.flags&128)!==0){if(o)return fd(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ae(Ie,Ie.current),o)break;return null;case 22:case 23:return t.lanes=0,od(e,t,a)}return mr(e,t,a)}var gd,Xl,xd,yd;gd=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Xl=function(){},xd=function(e,t,a,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,Yr(sr.current);var h=null;switch(a){case"input":u=ie(e,u),o=ie(e,o),h=[];break;case"select":u=R({},u,{value:void 0}),o=R({},o,{value:void 0}),h=[];break;case"textarea":u=ir(e,u),o=ir(e,o),h=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=_a)}Oi(a,o);var g;a=null;for(A in u)if(!o.hasOwnProperty(A)&&u.hasOwnProperty(A)&&u[A]!=null)if(A==="style"){var v=u[A];for(g in v)v.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(c.hasOwnProperty(A)?h||(h=[]):(h=h||[]).push(A,null));for(A in o){var j=o[A];if(v=u?.[A],o.hasOwnProperty(A)&&j!==v&&(j!=null||v!=null))if(A==="style")if(v){for(g in v)!v.hasOwnProperty(g)||j&&j.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in j)j.hasOwnProperty(g)&&v[g]!==j[g]&&(a||(a={}),a[g]=j[g])}else a||(h||(h=[]),h.push(A,a)),a=j;else A==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,v=v?v.__html:void 0,j!=null&&v!==j&&(h=h||[]).push(A,j)):A==="children"?typeof j!="string"&&typeof j!="number"||(h=h||[]).push(A,""+j):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(c.hasOwnProperty(A)?(j!=null&&A==="onScroll"&&Te("scroll",e),h||v===j||(h=[])):(h=h||[]).push(A,j))}a&&(h=h||[]).push("style",a);var A=h;(t.updateQueue=A)&&(t.flags|=4)}},yd=function(e,t,a,o){a!==o&&(t.flags|=4)};function Dn(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=a,t}function Tm(e,t,a){var o=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return bt(t.type)&&Sa(),ht(t),null;case 3:return o=t.stateNode,Os(),Oe(vt),Oe(ut),Rl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vt!==null&&(co(Vt),Vt=null))),Xl(e,t),ht(t),null;case 5:Tl(t);var u=Yr(Tn.current);if(a=t.type,e!==null&&t.stateNode!=null)xd(e,t,a,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return ht(t),null}if(e=Yr(sr.current),Ta(t)){o=t.stateNode,a=t.type;var h=t.memoizedProps;switch(o[rr]=t,o[Sn]=h,e=(t.mode&1)!==0,a){case"dialog":Te("cancel",o),Te("close",o);break;case"iframe":case"object":case"embed":Te("load",o);break;case"video":case"audio":for(u=0;u<Nn.length;u++)Te(Nn[u],o);break;case"source":Te("error",o);break;case"img":case"image":case"link":Te("error",o),Te("load",o);break;case"details":Te("toggle",o);break;case"input":ge(o,h),Te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Te("invalid",o);break;case"textarea":Vr(o,h),Te("invalid",o)}Oi(a,h),u=null;for(var g in h)if(h.hasOwnProperty(g)){var v=h[g];g==="children"?typeof v=="string"?o.textContent!==v&&(h.suppressHydrationWarning!==!0&&Na(o.textContent,v,e),u=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&Na(o.textContent,v,e),u=["children",""+v]):c.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&Te("scroll",o)}switch(a){case"input":qe(o),gt(o,h,!0);break;case"textarea":qe(o),lr(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=_a)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wr(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(a,{is:o.is}):(e=g.createElement(a),a==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,a),e[rr]=t,e[Sn]=o,gd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Ri(a,o),a){case"dialog":Te("cancel",e),Te("close",e),u=o;break;case"iframe":case"object":case"embed":Te("load",e),u=o;break;case"video":case"audio":for(u=0;u<Nn.length;u++)Te(Nn[u],e);u=o;break;case"source":Te("error",e),u=o;break;case"img":case"image":case"link":Te("error",e),Te("load",e),u=o;break;case"details":Te("toggle",e),u=o;break;case"input":ge(e,o),u=ie(e,o),Te("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=R({},o,{value:void 0}),Te("invalid",e);break;case"textarea":Vr(e,o),u=ir(e,o),Te("invalid",e);break;default:u=o}Oi(a,u),v=u;for(h in v)if(v.hasOwnProperty(h)){var j=v[h];h==="style"?lc(e,j):h==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ac(e,j)):h==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&sn(e,j):typeof j=="number"&&sn(e,""+j):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?j!=null&&h==="onScroll"&&Te("scroll",e):j!=null&&B(e,h,j,g))}switch(a){case"input":qe(e),gt(e,o,!1);break;case"textarea":qe(e),lr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ye(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?Ot(e,!!o.multiple,h,!1):o.defaultValue!=null&&Ot(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=_a)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)yd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(a=Yr(Tn.current),Yr(sr.current),Ta(t)){if(o=t.stateNode,a=t.memoizedProps,o[rr]=t,(h=o.nodeValue!==a)&&(e=St,e!==null))switch(e.tag){case 3:Na(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(o.nodeValue,a,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[rr]=t,t.stateNode=o}return ht(t),null;case 13:if(Oe(Ie),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Et!==null&&(t.mode&1)!==0&&(t.flags&128)===0)wu(),Cs(),t.flags|=98560,h=!1;else if(h=Ta(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[rr]=t}else Cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),h=!1}else Vt!==null&&(co(Vt),Vt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ie.current&1)!==0?Qe===0&&(Qe=3):po())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Os(),Xl(e,t),e===null&&_n(t.stateNode.containerInfo),ht(t),null;case 10:return Sl(t.type._context),ht(t),null;case 17:return bt(t.type)&&Sa(),ht(t),null;case 19:if(Oe(Ie),h=t.memoizedState,h===null)return ht(t),null;if(o=(t.flags&128)!==0,g=h.rendering,g===null)if(o)Dn(h,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=$a(e),g!==null){for(t.flags|=128,Dn(h,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=a,a=t.child;a!==null;)h=a,e=o,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ae(Ie,Ie.current&1|2),t.child}e=e.sibling}h.tail!==null&&ze()>Ds&&(t.flags|=128,o=!0,Dn(h,!1),t.lanes=4194304)}else{if(!o)if(e=$a(g),e!==null){if(t.flags|=128,o=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Dn(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Le)return ht(t),null}else 2*ze()-h.renderingStartTime>Ds&&a!==1073741824&&(t.flags|=128,o=!0,Dn(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(a=h.last,a!==null?a.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=ze(),t.sibling=null,a=Ie.current,Ae(Ie,o?a&1|2:a&1),t):(ht(t),null);case 22:case 23:return ho(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Ct&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Om(e,t){switch(bl(t),t.tag){case 1:return bt(t.type)&&Sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Os(),Oe(vt),Oe(ut),Rl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Tl(t),null;case 13:if(Oe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Ie),null;case 4:return Os(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return ho(),null;case 24:return null;default:return null}}var Ha=!1,pt=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ls(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function Zl(e,t,a){try{a()}catch(o){Ue(e,t,o)}}var vd=!1;function Lm(e,t){if(dl=ha,e=Yc(),sl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,v=-1,j=-1,A=0,z=0,V=e,F=null;t:for(;;){for(var J;V!==a||u!==0&&V.nodeType!==3||(v=g+u),V!==h||o!==0&&V.nodeType!==3||(j=g+o),V.nodeType===3&&(g+=V.nodeValue.length),(J=V.firstChild)!==null;)F=V,V=J;for(;;){if(V===e)break t;if(F===a&&++A===u&&(v=g),F===h&&++z===o&&(j=g),(J=V.nextSibling)!==null)break;V=F,F=V.parentNode}V=J}a=v===-1||j===-1?null:{start:v,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(hl={focusedElem:e,selectionRange:a},ha=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var ee=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var re=ee.memoizedProps,Be=ee.memoizedState,E=t.stateNode,N=E.getSnapshotBeforeUpdate(t.elementType===t.type?re:Wt(t.type,re),Be);E.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(H){Ue(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return ee=vd,vd=!1,ee}function $n(e,t,a){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&Zl(t,a,h)}u=u.next}while(u!==o)}}function Ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==t)}}function eo(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[Sn],delete t[gl],delete t[gm],delete t[xm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wd(e){return e.tag===5||e.tag===3||e.tag===4}function jd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function to(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=_a));else if(o!==4&&(e=e.child,e!==null))for(to(e,t,a),e=e.sibling;e!==null;)to(e,t,a),e=e.sibling}function ro(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ro(e,t,a),e=e.sibling;e!==null;)ro(e,t,a),e=e.sibling}var nt=null,qt=!1;function Rr(e,t,a){for(a=a.child;a!==null;)Nd(e,t,a),a=a.sibling}function Nd(e,t,a){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ia,a)}catch{}switch(a.tag){case 5:pt||Ls(a,t);case 6:var o=nt,u=qt;nt=null,Rr(e,t,a),nt=o,qt=u,nt!==null&&(qt?(e=nt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):nt.removeChild(a.stateNode));break;case 18:nt!==null&&(qt?(e=nt,a=a.stateNode,e.nodeType===8?fl(e.parentNode,a):e.nodeType===1&&fl(e,a),fn(e)):fl(nt,a.stateNode));break;case 4:o=nt,u=qt,nt=a.stateNode.containerInfo,qt=!0,Rr(e,t,a),nt=o,qt=u;break;case 0:case 11:case 14:case 15:if(!pt&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var h=u,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Zl(a,t,g),u=u.next}while(u!==o)}Rr(e,t,a);break;case 1:if(!pt&&(Ls(a,t),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(v){Ue(a,t,v)}Rr(e,t,a);break;case 21:Rr(e,t,a);break;case 22:a.mode&1?(pt=(o=pt)||a.memoizedState!==null,Rr(e,t,a),pt=o):Rr(e,t,a);break;default:Rr(e,t,a)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Rm),t.forEach(function(o){var u=Vm.bind(null,e,o);a.has(o)||(a.add(o),o.then(u,u))})}}function Ht(e,t){var a=t.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];try{var h=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 5:nt=v.stateNode,qt=!1;break e;case 3:nt=v.stateNode.containerInfo,qt=!0;break e;case 4:nt=v.stateNode.containerInfo,qt=!0;break e}v=v.return}if(nt===null)throw Error(n(160));Nd(h,g,u),nt=null,qt=!1;var j=u.alternate;j!==null&&(j.return=null),u.return=null}catch(A){Ue(u,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),ar(e),o&4){try{$n(3,e,e.return),Ka(3,e)}catch(re){Ue(e,e.return,re)}try{$n(5,e,e.return)}catch(re){Ue(e,e.return,re)}}break;case 1:Ht(t,e),ar(e),o&512&&a!==null&&Ls(a,a.return);break;case 5:if(Ht(t,e),ar(e),o&512&&a!==null&&Ls(a,a.return),e.flags&32){var u=e.stateNode;try{sn(u,"")}catch(re){Ue(e,e.return,re)}}if(o&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,g=a!==null?a.memoizedProps:h,v=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&be(u,h),Ri(v,g);var A=Ri(v,h);for(g=0;g<j.length;g+=2){var z=j[g],V=j[g+1];z==="style"?lc(u,V):z==="dangerouslySetInnerHTML"?ac(u,V):z==="children"?sn(u,V):B(u,z,V,A)}switch(v){case"input":Me(u,h);break;case"textarea":ps(u,h);break;case"select":var F=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var J=h.value;J!=null?Ot(u,!!h.multiple,J,!1):F!==!!h.multiple&&(h.defaultValue!=null?Ot(u,!!h.multiple,h.defaultValue,!0):Ot(u,!!h.multiple,h.multiple?[]:"",!1))}u[Sn]=h}catch(re){Ue(e,e.return,re)}}break;case 6:if(Ht(t,e),ar(e),o&4){if(e.stateNode===null)throw Error(n(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(re){Ue(e,e.return,re)}}break;case 3:if(Ht(t,e),ar(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{fn(t.containerInfo)}catch(re){Ue(e,e.return,re)}break;case 4:Ht(t,e),ar(e);break;case 13:Ht(t,e),ar(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(ao=ze())),o&4&&_d(e);break;case 22:if(z=a!==null&&a.memoizedState!==null,e.mode&1?(pt=(A=pt)||z,Ht(t,e),pt=A):Ht(t,e),ar(e),o&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!z&&(e.mode&1)!==0)for(Z=e,z=e.child;z!==null;){for(V=Z=z;Z!==null;){switch(F=Z,J=F.child,F.tag){case 0:case 11:case 14:case 15:$n(4,F,F.return);break;case 1:Ls(F,F.return);var ee=F.stateNode;if(typeof ee.componentWillUnmount=="function"){o=F,a=F.return;try{t=o,ee.props=t.memoizedProps,ee.state=t.memoizedState,ee.componentWillUnmount()}catch(re){Ue(o,a,re)}}break;case 5:Ls(F,F.return);break;case 22:if(F.memoizedState!==null){Cd(V);continue}}J!==null?(J.return=F,Z=J):Cd(V)}z=z.sibling}e:for(z=null,V=e;;){if(V.tag===5){if(z===null){z=V;try{u=V.stateNode,A?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=V.stateNode,j=V.memoizedProps.style,g=j!=null&&j.hasOwnProperty("display")?j.display:null,v.style.display=ic("display",g))}catch(re){Ue(e,e.return,re)}}}else if(V.tag===6){if(z===null)try{V.stateNode.nodeValue=A?"":V.memoizedProps}catch(re){Ue(e,e.return,re)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;z===V&&(z=null),V=V.return}z===V&&(z=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Ht(t,e),ar(e),o&4&&_d(e);break;case 21:break;default:Ht(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(wd(a)){var o=a;break e}a=a.return}throw Error(n(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(sn(u,""),o.flags&=-33);var h=jd(e);ro(e,h,u);break;case 3:case 4:var g=o.stateNode.containerInfo,v=jd(e);to(e,v,g);break;default:throw Error(n(161))}}catch(j){Ue(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Im(e,t,a){Z=e,Sd(e)}function Sd(e,t,a){for(var o=(e.mode&1)!==0;Z!==null;){var u=Z,h=u.child;if(u.tag===22&&o){var g=u.memoizedState!==null||Ha;if(!g){var v=u.alternate,j=v!==null&&v.memoizedState!==null||pt;v=Ha;var A=pt;if(Ha=g,(pt=j)&&!A)for(Z=u;Z!==null;)g=Z,j=g.child,g.tag===22&&g.memoizedState!==null?Ad(u):j!==null?(j.return=g,Z=j):Ad(u);for(;h!==null;)Z=h,Sd(h),h=h.sibling;Z=u,Ha=v,pt=A}Ed(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,Z=h):Ed(e)}}function Ed(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||Ka(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!pt)if(a===null)o.componentDidMount();else{var u=t.elementType===t.type?a.memoizedProps:Wt(t.type,a.memoizedProps);o.componentDidUpdate(u,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Cu(t,h,o);break;case 3:var g=t.updateQueue;if(g!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Cu(t,g,a)}break;case 5:var v=t.stateNode;if(a===null&&t.flags&4){a=v;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var z=A.memoizedState;if(z!==null){var V=z.dehydrated;V!==null&&fn(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pt||t.flags&512&&eo(t)}catch(F){Ue(t,t.return,F)}}if(t===e){Z=null;break}if(a=t.sibling,a!==null){a.return=t.return,Z=a;break}Z=t.return}}function Cd(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}function Ad(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Ka(4,t)}catch(j){Ue(t,a,j)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(j){Ue(t,u,j)}}var h=t.return;try{eo(t)}catch(j){Ue(t,h,j)}break;case 5:var g=t.return;try{eo(t)}catch(j){Ue(t,g,j)}}}catch(j){Ue(t,t.return,j)}if(t===e){Z=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Z=v;break}Z=t.return}}var Dm=Math.ceil,Ga=G.ReactCurrentDispatcher,so=G.ReactCurrentOwner,$t=G.ReactCurrentBatchConfig,ke=0,tt=null,He=null,at=0,Ct=0,Is=Cr(0),Qe=0,Mn=null,Zr=0,Ja=0,no=0,Un=null,jt=null,ao=0,Ds=1/0,fr=null,Qa=!1,io=null,Lr=null,Ya=!1,Ir=null,Xa=0,Fn=0,lo=null,Za=-1,ei=0;function yt(){return(ke&6)!==0?ze():Za!==-1?Za:Za=ze()}function Dr(e){return(e.mode&1)===0?1:(ke&2)!==0&&at!==0?at&-at:vm.transition!==null?(ei===0&&(ei=jc()),ei):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Tc(e.type)),e)}function Kt(e,t,a,o){if(50<Fn)throw Fn=0,lo=null,Error(n(185));un(e,a,o),((ke&2)===0||e!==tt)&&(e===tt&&((ke&2)===0&&(Ja|=a),Qe===4&&$r(e,at)),Nt(e,o),a===1&&ke===0&&(t.mode&1)===0&&(Ds=ze()+500,Ca&&Pr()))}function Nt(e,t){var a=e.callbackNode;vp(e,t);var o=ca(e,e===tt?at:0);if(o===0)a!==null&&vc(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(a!=null&&vc(a),t===1)e.tag===0?ym(Td.bind(null,e)):gu(Td.bind(null,e)),mm(function(){(ke&6)===0&&Pr()}),a=null;else{switch(Nc(o)){case 1:a=Fi;break;case 4:a=bc;break;case 16:a=aa;break;case 536870912:a=wc;break;default:a=aa}a=Ud(a,Pd.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function Pd(e,t){if(Za=-1,ei=0,(ke&6)!==0)throw Error(n(327));var a=e.callbackNode;if($s()&&e.callbackNode!==a)return null;var o=ca(e,e===tt?at:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=ti(e,o);else{t=o;var u=ke;ke|=2;var h=Rd();(tt!==e||at!==t)&&(fr=null,Ds=ze()+500,ts(e,t));do try{Um();break}catch(v){Od(e,v)}while(!0);kl(),Ga.current=h,ke=u,He!==null?t=0:(tt=null,at=0,t=Qe)}if(t!==0){if(t===2&&(u=zi(e),u!==0&&(o=u,t=oo(e,u))),t===1)throw a=Mn,ts(e,0),$r(e,o),Nt(e,ze()),a;if(t===6)$r(e,o);else{if(u=e.current.alternate,(o&30)===0&&!$m(u)&&(t=ti(e,o),t===2&&(h=zi(e),h!==0&&(o=h,t=oo(e,h))),t===1))throw a=Mn,ts(e,0),$r(e,o),Nt(e,ze()),a;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:rs(e,jt,fr);break;case 3:if($r(e,o),(o&130023424)===o&&(t=ao+500-ze(),10<t)){if(ca(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){yt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=ml(rs.bind(null,e,jt,fr),t);break}rs(e,jt,fr);break;case 4:if($r(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var g=31-zt(o);h=1<<g,g=t[g],g>u&&(u=g),o&=~h}if(o=u,o=ze()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Dm(o/1960))-o,10<o){e.timeoutHandle=ml(rs.bind(null,e,jt,fr),o);break}rs(e,jt,fr);break;case 5:rs(e,jt,fr);break;default:throw Error(n(329))}}}return Nt(e,ze()),e.callbackNode===a?Pd.bind(null,e):null}function oo(e,t){var a=Un;return e.current.memoizedState.isDehydrated&&(ts(e,t).flags|=256),e=ti(e,t),e!==2&&(t=jt,jt=a,t!==null&&co(t)),e}function co(e){jt===null?jt=e:jt.push.apply(jt,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var u=a[o],h=u.getSnapshot;u=u.value;try{if(!Bt(h(),u))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~no,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-zt(t),o=1<<a;e[a]=-1,t&=~o}}function Td(e){if((ke&6)!==0)throw Error(n(327));$s();var t=ca(e,0);if((t&1)===0)return Nt(e,ze()),null;var a=ti(e,t);if(e.tag!==0&&a===2){var o=zi(e);o!==0&&(t=o,a=oo(e,o))}if(a===1)throw a=Mn,ts(e,0),$r(e,t),Nt(e,ze()),a;if(a===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rs(e,jt,fr),Nt(e,ze()),null}function uo(e,t){var a=ke;ke|=1;try{return e(t)}finally{ke=a,ke===0&&(Ds=ze()+500,Ca&&Pr())}}function es(e){Ir!==null&&Ir.tag===0&&(ke&6)===0&&$s();var t=ke;ke|=1;var a=$t.transition,o=Ce;try{if($t.transition=null,Ce=1,e)return e()}finally{Ce=o,$t.transition=a,ke=t,(ke&6)===0&&Pr()}}function ho(){Ct=Is.current,Oe(Is)}function ts(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,pm(a)),He!==null)for(a=He.return;a!==null;){var o=a;switch(bl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Sa();break;case 3:Os(),Oe(vt),Oe(ut),Rl();break;case 5:Tl(o);break;case 4:Os();break;case 13:Oe(Ie);break;case 19:Oe(Ie);break;case 10:Sl(o.type._context);break;case 22:case 23:ho()}a=a.return}if(tt=e,He=e=Mr(e.current,null),at=Ct=t,Qe=0,Mn=null,no=Ja=Zr=0,jt=Un=null,Qr!==null){for(t=0;t<Qr.length;t++)if(a=Qr[t],o=a.interleaved,o!==null){a.interleaved=null;var u=o.next,h=a.pending;if(h!==null){var g=h.next;h.next=u,o.next=g}a.pending=o}Qr=null}return e}function Od(e,t){do{var a=He;try{if(kl(),Ma.current=Ba,Ua){for(var o=De.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Ua=!1}if(Xr=0,et=Je=De=null,On=!1,Rn=0,so.current=null,a===null||a.return===null){Qe=1,Mn=t,He=null;break}e:{var h=e,g=a.return,v=a,j=t;if(t=at,v.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var A=j,z=v,V=z.tag;if((z.mode&1)===0&&(V===0||V===11||V===15)){var F=z.alternate;F?(z.updateQueue=F.updateQueue,z.memoizedState=F.memoizedState,z.lanes=F.lanes):(z.updateQueue=null,z.memoizedState=null)}var J=sd(g);if(J!==null){J.flags&=-257,nd(J,g,v,h,t),J.mode&1&&rd(h,A,t),t=J,j=A;var ee=t.updateQueue;if(ee===null){var re=new Set;re.add(j),t.updateQueue=re}else ee.add(j);break e}else{if((t&1)===0){rd(h,A,t),po();break e}j=Error(n(426))}}else if(Le&&v.mode&1){var Be=sd(g);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),nd(Be,g,v,h,t),Nl(Rs(j,v));break e}}h=j=Rs(j,v),Qe!==4&&(Qe=2),Un===null?Un=[h]:Un.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var E=ed(h,j,t);Eu(h,E);break e;case 1:v=j;var N=h.type,C=h.stateNode;if((h.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Lr===null||!Lr.has(C)))){h.flags|=65536,t&=-t,h.lanes|=t;var H=td(h,v,t);Eu(h,H);break e}}h=h.return}while(h!==null)}Id(a)}catch(ne){t=ne,He===a&&a!==null&&(He=a=a.return);continue}break}while(!0)}function Rd(){var e=Ga.current;return Ga.current=Ba,e===null?Ba:e}function po(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),tt===null||(Zr&268435455)===0&&(Ja&268435455)===0||$r(tt,at)}function ti(e,t){var a=ke;ke|=2;var o=Rd();(tt!==e||at!==t)&&(fr=null,ts(e,t));do try{Mm();break}catch(u){Od(e,u)}while(!0);if(kl(),ke=a,Ga.current=o,He!==null)throw Error(n(261));return tt=null,at=0,Qe}function Mm(){for(;He!==null;)Ld(He)}function Um(){for(;He!==null&&!up();)Ld(He)}function Ld(e){var t=Md(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Id(e):He=t,so.current=null}function Id(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Tm(a,t,Ct),a!==null){He=a;return}}else{if(a=Om(a,t),a!==null){a.flags&=32767,He=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Qe===0&&(Qe=5)}function rs(e,t,a){var o=Ce,u=$t.transition;try{$t.transition=null,Ce=1,Fm(e,t,a,o)}finally{$t.transition=u,Ce=o}return null}function Fm(e,t,a,o){do $s();while(Ir!==null);if((ke&6)!==0)throw Error(n(327));a=e.finishedWork;var u=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(bp(e,h),e===tt&&(He=tt=null,at=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ya||(Ya=!0,Ud(aa,function(){return $s(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=$t.transition,$t.transition=null;var g=Ce;Ce=1;var v=ke;ke|=4,so.current=null,Lm(e,a),kd(a,e),im(hl),ha=!!dl,hl=dl=null,e.current=a,Im(a),dp(),ke=v,Ce=g,$t.transition=h}else e.current=a;if(Ya&&(Ya=!1,Ir=e,Xa=u),h=e.pendingLanes,h===0&&(Lr=null),mp(a.stateNode),Nt(e,ze()),t!==null)for(o=e.onRecoverableError,a=0;a<t.length;a++)u=t[a],o(u.value,{componentStack:u.stack,digest:u.digest});if(Qa)throw Qa=!1,e=io,io=null,e;return(Xa&1)!==0&&e.tag!==0&&$s(),h=e.pendingLanes,(h&1)!==0?e===lo?Fn++:(Fn=0,lo=e):Fn=0,Pr(),null}function $s(){if(Ir!==null){var e=Nc(Xa),t=$t.transition,a=Ce;try{if($t.transition=null,Ce=16>e?16:e,Ir===null)var o=!1;else{if(e=Ir,Ir=null,Xa=0,(ke&6)!==0)throw Error(n(331));var u=ke;for(ke|=4,Z=e.current;Z!==null;){var h=Z,g=h.child;if((Z.flags&16)!==0){var v=h.deletions;if(v!==null){for(var j=0;j<v.length;j++){var A=v[j];for(Z=A;Z!==null;){var z=Z;switch(z.tag){case 0:case 11:case 15:$n(8,z,h)}var V=z.child;if(V!==null)V.return=z,Z=V;else for(;Z!==null;){z=Z;var F=z.sibling,J=z.return;if(bd(z),z===A){Z=null;break}if(F!==null){F.return=J,Z=F;break}Z=J}}}var ee=h.alternate;if(ee!==null){var re=ee.child;if(re!==null){ee.child=null;do{var Be=re.sibling;re.sibling=null,re=Be}while(re!==null)}}Z=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,Z=g;else e:for(;Z!==null;){if(h=Z,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:$n(9,h,h.return)}var E=h.sibling;if(E!==null){E.return=h.return,Z=E;break e}Z=h.return}}var N=e.current;for(Z=N;Z!==null;){g=Z;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,Z=C;else e:for(g=N;Z!==null;){if(v=Z,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Ka(9,v)}}catch(ne){Ue(v,v.return,ne)}if(v===g){Z=null;break e}var H=v.sibling;if(H!==null){H.return=v.return,Z=H;break e}Z=v.return}}if(ke=u,Pr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ia,e)}catch{}o=!0}return o}finally{Ce=a,$t.transition=t}}return!1}function Dd(e,t,a){t=Rs(a,t),t=ed(e,t,1),e=Or(e,t,1),t=yt(),e!==null&&(un(e,1,t),Nt(e,t))}function Ue(e,t,a){if(e.tag===3)Dd(e,e,a);else for(;t!==null;){if(t.tag===3){Dd(t,e,a);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Lr===null||!Lr.has(o))){e=Rs(a,e),e=td(t,e,1),t=Or(t,e,1),e=yt(),t!==null&&(un(t,1,e),Nt(t,e));break}}t=t.return}}function zm(e,t,a){var o=e.pingCache;o!==null&&o.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&a,tt===e&&(at&a)===a&&(Qe===4||Qe===3&&(at&130023424)===at&&500>ze()-ao?ts(e,0):no|=a),Nt(e,t)}function $d(e,t){t===0&&((e.mode&1)===0?t=1:(t=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var a=yt();e=hr(e,t),e!==null&&(un(e,t,a),Nt(e,a))}function Bm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$d(e,a)}function Vm(e,t){var a=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),$d(e,a)}var Md;Md=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)wt=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return wt=!1,Pm(e,t,a);wt=(e.flags&131072)!==0}else wt=!1,Le&&(t.flags&1048576)!==0&&xu(t,Pa,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;qa(e,t),e=t.pendingProps;var u=ks(t,ut.current);Ts(t,a),u=Dl(null,t,o,e,u,a);var h=$l();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(o)?(h=!0,Ea(t)):h=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Al(t),u.updater=Va,t.stateNode=u,u._reactInternals=t,Vl(t,o,e,a),t=Kl(null,t,o,!0,h,a)):(t.tag=0,Le&&h&&vl(t),xt(null,t,u,a),t=t.child),t;case 16:o=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=qm(o),e=Wt(o,e),u){case 0:t=Hl(null,t,o,e,a);break e;case 1:t=ud(null,t,o,e,a);break e;case 11:t=ad(null,t,o,e,a);break e;case 14:t=id(null,t,o,Wt(o.type,e),a);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Wt(o,u),Hl(e,t,o,u,a);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Wt(o,u),ud(e,t,o,u,a);case 3:e:{if(dd(t),e===null)throw Error(n(387));o=t.pendingProps,h=t.memoizedState,u=h.element,Su(e,t),Da(t,o,null,a);var g=t.memoizedState;if(o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){u=Rs(Error(n(423)),t),t=hd(e,t,o,a,u);break e}else if(o!==u){u=Rs(Error(n(424)),t),t=hd(e,t,o,a,u);break e}else for(Et=Er(t.stateNode.containerInfo.firstChild),St=t,Le=!0,Vt=null,a=_u(t,null,o,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),o===u){t=mr(e,t,a);break e}xt(e,t,o,a)}t=t.child}return t;case 5:return Au(t),e===null&&jl(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,g=u.children,pl(o,u)?g=null:h!==null&&pl(o,h)&&(t.flags|=32),cd(e,t),xt(e,t,g,a),t.child;case 6:return e===null&&jl(t),null;case 13:return pd(e,t,a);case 4:return Pl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=As(t,null,o,a):xt(e,t,o,a),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Wt(o,u),ad(e,t,o,u,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,h=t.memoizedProps,g=u.value,Ae(Ra,o._currentValue),o._currentValue=g,h!==null)if(Bt(h.value,g)){if(h.children===u.children&&!vt.current){t=mr(e,t,a);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){g=h.child;for(var j=v.firstContext;j!==null;){if(j.context===o){if(h.tag===1){j=pr(-1,a&-a),j.tag=2;var A=h.updateQueue;if(A!==null){A=A.shared;var z=A.pending;z===null?j.next=j:(j.next=z.next,z.next=j),A.pending=j}}h.lanes|=a,j=h.alternate,j!==null&&(j.lanes|=a),El(h.return,a,t),v.lanes|=a;break}j=j.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(n(341));g.lanes|=a,v=g.alternate,v!==null&&(v.lanes|=a),El(g,a,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}xt(e,t,u.children,a),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,Ts(t,a),u=It(u),o=o(u),t.flags|=1,xt(e,t,o,a),t.child;case 14:return o=t.type,u=Wt(o,t.pendingProps),u=Wt(o.type,u),id(e,t,o,u,a);case 15:return ld(e,t,t.type,t.pendingProps,a);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Wt(o,u),qa(e,t),t.tag=1,bt(o)?(e=!0,Ea(t)):e=!1,Ts(t,a),Xu(t,o,u),Vl(t,o,u,a),Kl(null,t,o,!0,e,a);case 19:return fd(e,t,a);case 22:return od(e,t,a)}throw Error(n(156,t.tag))};function Ud(e,t){return yc(e,t)}function Wm(e,t,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,a,o){return new Wm(e,t,a,o)}function mo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qm(e){if(typeof e=="function")return mo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===ft)return 14}return 2}function Mr(e,t){var a=e.alternate;return a===null?(a=Mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function ri(e,t,a,o,u,h){var g=2;if(o=e,typeof e=="function")mo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case K:return ss(a.children,u,h,t);case le:g=8,u|=8;break;case pe:return e=Mt(12,a,t,u|2),e.elementType=pe,e.lanes=h,e;case we:return e=Mt(13,a,t,u),e.elementType=we,e.lanes=h,e;case Xe:return e=Mt(19,a,t,u),e.elementType=Xe,e.lanes=h,e;case Ee:return si(a,u,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:g=10;break e;case _e:g=9;break e;case je:g=11;break e;case ft:g=14;break e;case We:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Mt(g,a,t,u),t.elementType=e,t.type=o,t.lanes=h,t}function ss(e,t,a,o){return e=Mt(7,e,o,t),e.lanes=a,e}function si(e,t,a,o){return e=Mt(22,e,o,t),e.elementType=Ee,e.lanes=a,e.stateNode={isHidden:!1},e}function fo(e,t,a){return e=Mt(6,e,null,t),e.lanes=a,e}function go(e,t,a){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hm(e,t,a,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function xo(e,t,a,o,u,h,g,v,j){return e=new Hm(e,t,a,v,j),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Mt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(h),e}function Km(e,t,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:o==null?null:""+o,children:e,containerInfo:t,implementation:a}}function Fd(e){if(!e)return Ar;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var a=e.type;if(bt(a))return mu(e,a,t)}return t}function zd(e,t,a,o,u,h,g,v,j){return e=xo(a,o,!0,e,u,h,g,v,j),e.context=Fd(null),a=e.current,o=yt(),u=Dr(a),h=pr(o,u),h.callback=t??null,Or(a,h,u),e.current.lanes=u,un(e,u,o),Nt(e,o),e}function ni(e,t,a,o){var u=t.current,h=yt(),g=Dr(u);return a=Fd(a),t.context===null?t.context=a:t.pendingContext=a,t=pr(h,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Or(u,t,g),e!==null&&(Kt(e,u,g,h),Ia(e,u,g)),g}function ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function yo(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function Gm(){return null}var Vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function vo(e){this._internalRoot=e}ii.prototype.render=vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));ni(e,t,null,null)},ii.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;es(function(){ni(null,e,null,null)}),t[or]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<_r.length&&t!==0&&t<_r[a].priority;a++);_r.splice(a,0,e),a===0&&Ac(e)}};function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wd(){}function Jm(e,t,a,o,u){if(u){if(typeof o=="function"){var h=o;o=function(){var A=ai(g);h.call(A)}}var g=zd(t,o,e,0,null,!1,!1,"",Wd);return e._reactRootContainer=g,e[or]=g.current,_n(e.nodeType===8?e.parentNode:e),es(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var v=o;o=function(){var A=ai(j);v.call(A)}}var j=xo(e,0,!1,null,null,!1,!1,"",Wd);return e._reactRootContainer=j,e[or]=j.current,_n(e.nodeType===8?e.parentNode:e),es(function(){ni(t,j,a,o)}),j}function oi(e,t,a,o,u){var h=a._reactRootContainer;if(h){var g=h;if(typeof u=="function"){var v=u;u=function(){var j=ai(g);v.call(j)}}ni(t,g,e,u)}else g=Jm(a,t,e,u,o);return ai(g)}_c=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=cn(t.pendingLanes);a!==0&&(Vi(t,a|1),Nt(t,ze()),(ke&6)===0&&(Ds=ze()+500,Pr()))}break;case 13:es(function(){var o=hr(e,1);if(o!==null){var u=yt();Kt(o,e,1,u)}}),yo(e,1)}},Wi=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var a=yt();Kt(t,e,134217728,a)}yo(e,134217728)}},kc=function(e){if(e.tag===13){var t=Dr(e),a=hr(e,t);if(a!==null){var o=yt();Kt(a,e,t,o)}yo(e,t)}},Sc=function(){return Ce},Ec=function(e,t){var a=Ce;try{return Ce=e,t()}finally{Ce=a}},Di=function(e,t,a){switch(t){case"input":if(Me(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var o=a[t];if(o!==e&&o.form===e.form){var u=ka(o);if(!u)throw Error(n(90));L(o),Me(o,u)}}}break;case"textarea":ps(e,a);break;case"select":t=a.value,t!=null&&Ot(e,!!a.multiple,t,!1)}},dc=uo,hc=es;var Qm={usingClientEntryPoint:!1,Events:[En,Ns,ka,cc,uc,uo]},zn={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ym={bundleType:zn.bundleType,version:zn.version,rendererPackageName:zn.rendererPackageName,rendererConfig:zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gc(e),e===null?null:e.stateNode},findFiberByHostInstance:zn.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{ia=ci.inject(Ym),tr=ci}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm,_t.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bo(t))throw Error(n(200));return Km(e,t,null,a)},_t.createRoot=function(e,t){if(!bo(e))throw Error(n(299));var a=!1,o="",u=Vd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=xo(e,1,!1,null,null,a,!1,o,u),e[or]=t.current,_n(e.nodeType===8?e.parentNode:e),new vo(t)},_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=gc(t),e=e===null?null:e.stateNode,e},_t.flushSync=function(e){return es(e)},_t.hydrate=function(e,t,a){if(!li(t))throw Error(n(200));return oi(null,e,t,!0,a)},_t.hydrateRoot=function(e,t,a){if(!bo(e))throw Error(n(405));var o=a!=null&&a.hydratedSources||null,u=!1,h="",g=Vd;if(a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),t=zd(t,null,e,1,a??null,u,!1,h,g),e[or]=t.current,_n(e),o)for(e=0;e<o.length;e++)a=o[e],u=a._getVersion,u=u(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,u]:t.mutableSourceEagerHydrationData.push(a,u);return new ii(t)},_t.render=function(e,t,a){if(!li(t))throw Error(n(200));return oi(null,e,t,!1,a)},_t.unmountComponentAtNode=function(e){if(!li(e))throw Error(n(40));return e._reactRootContainer?(es(function(){oi(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1},_t.unstable_batchedUpdates=uo,_t.unstable_renderSubtreeIntoContainer=function(e,t,a,o){if(!li(a))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return oi(e,t,a,!1,o)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var Xd;function af(){if(Xd)return No.exports;Xd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),No.exports=nf(),No.exports}var Zd;function lf(){if(Zd)return ui;Zd=1;var i=af();return ui.createRoot=i.createRoot,ui.hydrateRoot=i.hydrateRoot,ui}var of=lf(),D=Yo();const Ve=[{id:"AUTO-001",name:"Maria Garcia",email:"maria.garcia@email.com",phone:"+63 917 123 4567",nationality:"Philippines",position:"Housemaid",country:"Saudi Arabia",experience:3,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Cleaning","Cooking","Child Care","Laundry"],appliedDate:"2025-12-13",languages:["English","Tagalog","Arabic (Basic)"],aiScore:7.2,autoExtracted:!0,extractionConfidence:88,needsReview:!1,cvUrl:"Maria_Garcia_CV.pdf"},{id:"AUTO-002",name:"John Smith",email:"john.smith@email.com",phone:"+92 301 987 6543",nationality:"Pakistan",position:"Construction Worker",country:"UAE",experience:6,status:"Applied",source:"Email",passportAvailable:!0,skills:["Masonry","Carpentry","Concrete Work","Safety"],appliedDate:"2025-12-13",languages:["English","Urdu"],aiScore:8,autoExtracted:!0,extractionConfidence:72,needsReview:!0,cvUrl:"John_Smith_CV.docx"},{id:"AUTO-003",name:"Mohammed Aslam",email:"",phone:"+92 302 555 1234",nationality:"Pakistan",position:"Driver",country:"Saudi Arabia",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Light Vehicle","Heavy Vehicle","Clean License"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:7.8,autoExtracted:!0,extractionConfidence:68,needsReview:!0,cvUrl:"Mohammed_Aslam_CV.pdf"},{id:"1",name:"Ahmed Hassan",email:"ahmed.hassan@email.com",phone:"+92 300 1234567",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:5,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Electrical Installation","Maintenance","Industrial Wiring","Safety Standards"],appliedDate:"2025-12-10",languages:["English","Urdu","Arabic"],aiScore:8.5,age:32,dateOfBirth:"1993-05-15",passportNumber:"AB1234567",passportExpiry:"2028-03-20",medicalExpiry:"2026-01-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Lahore, Pakistan",salaryExpectation:"AED 2,000",availableFrom:"2026-01-01",lastContacted:"2025-12-15",interviewDate:"2025-12-22",interviewStatus:"Scheduled",linkedinUrl:"https://linkedin.com/in/ahmed-hassan-electrician",whatsappLink:"https://wa.me/923001234567",videoLink:"https://youtube.com/watch?v=abc123xyz",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"2",name:"Mohammed Ali",email:"mohammed.ali@email.com",phone:"+92 301 2345678",nationality:"Pakistan",position:"Welder",country:"Saudi Arabia",experience:7,status:"Deployed",source:"Form",passportAvailable:!0,skills:["TIG Welding","MIG Welding","Arc Welding","Metal Fabrication"],appliedDate:"2025-11-15",languages:["English","Urdu"],aiScore:9.2,age:35,dateOfBirth:"1990-08-22",passportNumber:"CD9876543",passportExpiry:"2029-06-10",medicalExpiry:"2026-11-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Riyadh, Saudi Arabia",salaryExpectation:"SAR 2,500",availableFrom:"Currently Working",lastContacted:"2025-12-01",linkedinUrl:"https://linkedin.com/in/mohammed-ali-welder",whatsappLink:"https://wa.me/923012345678",videoLink:"https://youtube.com/watch?v=def456uvw",drivingLicense:"None",yearsInGCC:5,englishLevel:"Basic",arabicLevel:"Intermediate"},{id:"3",name:"Rajesh Kumar",email:"rajesh.kumar@email.com",phone:"+91 98765 43210",nationality:"India",position:"Mason",country:"Qatar",experience:4,status:"Applied",source:"Email",passportAvailable:!0,skills:["Bricklaying","Plastering","Tiling","Construction"],appliedDate:"2025-12-13",languages:["English","Hindi"],aiScore:7.8,age:28,dateOfBirth:"1997-03-10",passportNumber:"J1234567",passportExpiry:"2027-09-15",religion:"Hindu",maritalStatus:"Single",currentLocation:"Mumbai, India",salaryExpectation:"QAR 1,600",availableFrom:"2026-02-01",lastContacted:"2025-12-14",whatsappLink:"https://wa.me/919876543210",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"4",name:"Suresh Patel",email:"suresh.patel@email.com",phone:"+91 87654 32109",nationality:"India",position:"Plumber",country:"UAE",experience:6,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Pipe Installation","Drainage Systems","Water Systems","Maintenance"],appliedDate:"2025-12-11",languages:["English","Hindi","Gujarati"],aiScore:8.1,age:29,dateOfBirth:"1996-07-18",passportNumber:"K9876543",passportExpiry:"2028-12-05",religion:"Hindu",maritalStatus:"Married",currentLocation:"Ahmedabad, India",salaryExpectation:"AED 1,800",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/918765432109",videoLink:"https://youtube.com/watch?v=plumber-demo-video",drivingLicense:"None",yearsInGCC:1,englishLevel:"Intermediate",arabicLevel:"None"},{id:"5",name:"Kamal Uddin",email:"kamal.uddin@email.com",phone:"+880 1712 345678",nationality:"Bangladesh",position:"Carpenter",country:"Oman",experience:8,status:"Applied",source:"Form",passportAvailable:!1,skills:["Woodwork","Furniture Making","Interior Finishing","Blueprint Reading"],appliedDate:"2025-12-12",languages:["English","Bengali"],aiScore:7.5,age:34,dateOfBirth:"1991-02-20",currentLocation:"Dhaka, Bangladesh",salaryExpectation:"OMR 220",availableFrom:"2026-02-01",whatsappLink:"https://wa.me/8801712345678",videoLink:"https://youtube.com/watch?v=carpenter-skills-demo",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Basic",arabicLevel:"None"},{id:"6",name:"Imran Sheikh",email:"imran.sheikh@email.com",phone:"+92 302 3456789",nationality:"Pakistan",position:"Electrician",country:"Saudi Arabia",experience:3,status:"Cancelled",source:"Manual",passportAvailable:!0,skills:["Residential Wiring","Troubleshooting","Panel Installation"],appliedDate:"2025-12-08",languages:["English","Urdu"],aiScore:6.5,videoLink:"https://youtube.com/watch?v=electrical-work-sample",whatsappLink:"https://wa.me/923023456789"},{id:"7",name:"Vijay Singh",email:"vijay.singh@email.com",phone:"+91 99887 76655",nationality:"India",position:"Heavy Driver",country:"UAE",experience:10,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Truck Driving","Heavy Equipment","UAE License","Logistics"],appliedDate:"2025-11-20",languages:["English","Hindi","Punjabi"],aiScore:9,age:38,dateOfBirth:"1987-11-10",passportNumber:"L5544332",passportExpiry:"2027-08-15",religion:"Sikh",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 3,500",availableFrom:"Currently Working",linkedinUrl:"https://linkedin.com/in/vijay-singh-driver",whatsappLink:"https://wa.me/919988776655",videoLink:"https://youtube.com/watch?v=heavy-vehicle-driving",drivingLicense:"Heavy Vehicle",yearsInGCC:8,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"8",name:"Abdul Rahman",email:"abdul.rahman@email.com",phone:"+92 303 4567890",nationality:"Pakistan",position:"Steel Fixer",country:"Qatar",experience:5,status:"Pending",source:"Email",passportAvailable:!0,skills:["Rebar Installation","Blueprint Reading","Construction","Safety"],appliedDate:"2025-12-09",languages:["English","Urdu","Arabic"],aiScore:8.3,age:31,dateOfBirth:"1994-04-12",passportNumber:"EF7788990",passportExpiry:"2029-01-25",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"QAR 1,700",availableFrom:"2026-01-10",lastContacted:"2025-12-10",whatsappLink:"https://wa.me/923034567890",videoLink:"https://youtube.com/watch?v=steel-fixing-work",linkedinUrl:"https://linkedin.com/in/abdul-rahman-steel",drivingLicense:"None",yearsInGCC:3,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"9",name:"Usman Tariq",email:"usman.tariq@email.com",phone:"+92 304 5678901",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Electrical Installation","AC Systems","Building Wiring","Troubleshooting"],appliedDate:"2025-12-14",languages:["English","Urdu"],aiScore:7.9,age:27,dateOfBirth:"1998-02-14",passportNumber:"GH2345678",passportExpiry:"2028-11-10",medicalExpiry:"2026-03-15",religion:"Muslim",maritalStatus:"Single",currentLocation:"Islamabad, Pakistan",salaryExpectation:"AED 1,900",availableFrom:"2026-01-20",whatsappLink:"https://wa.me/923045678901",videoLink:"https://youtube.com/watch?v=electrician-usman",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Intermediate",arabicLevel:"None"},{id:"10",name:"Shahid Mahmood",email:"shahid.mahmood@email.com",phone:"+92 305 6789012",nationality:"Pakistan",position:"Electrician",country:"Saudi Arabia",experience:8,status:"Pending",source:"Email",passportAvailable:!0,skills:["Industrial Wiring","PLC Systems","Motor Control","High Voltage"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:8.8,age:36,dateOfBirth:"1989-06-20",passportNumber:"IJ3456789",passportExpiry:"2029-04-15",medicalExpiry:"2026-08-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Faisalabad, Pakistan",salaryExpectation:"SAR 2,200",availableFrom:"2026-01-05",lastContacted:"2025-12-13",whatsappLink:"https://wa.me/923056789012",videoLink:"https://youtube.com/watch?v=electrician-shahid",linkedinUrl:"https://linkedin.com/in/shahid-mahmood-electrician",drivingLicense:"None",yearsInGCC:4,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"11",name:"Naveed Akhtar",email:"naveed.akhtar@email.com",phone:"+92 306 7890123",nationality:"Pakistan",position:"Electrician",country:"Serbia",experience:6,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Residential Wiring","Commercial Setup","Safety Compliance"],appliedDate:"2025-12-15",languages:["English","Urdu"],aiScore:8.2,age:33,dateOfBirth:"1992-09-08",passportNumber:"KL4567890",passportExpiry:"2028-07-25",medicalExpiry:"2026-12-10",religion:"Muslim",maritalStatus:"Married",currentLocation:"Rawalpindi, Pakistan",salaryExpectation:"EUR 1,200",availableFrom:"2026-02-15",whatsappLink:"https://wa.me/923067890123",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"12",name:"Zubair Hussain",email:"zubair.hussain@email.com",phone:"+92 307 8901234",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:5,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Building Management Systems","Fire Alarm","CCTV Installation","Networking"],appliedDate:"2025-11-28",languages:["English","Urdu","Arabic"],aiScore:8.6,age:30,dateOfBirth:"1995-04-17",passportNumber:"MN5678901",passportExpiry:"2027-10-30",religion:"Muslim",maritalStatus:"Single",currentLocation:"Abu Dhabi, UAE",salaryExpectation:"AED 2,100",availableFrom:"Currently Working",lastContacted:"2025-12-05",whatsappLink:"https://wa.me/923078901234",videoLink:"https://youtube.com/watch?v=electrician-zubair",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"13",name:"Waqas Ali",email:"waqas.ali@email.com",phone:"+92 308 9012345",nationality:"Pakistan",position:"Light Driver",country:"UAE",experience:7,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Personal Driving","UAE License","Safe Driving","Navigation"],appliedDate:"2025-12-16",languages:["English","Urdu","Arabic"],aiScore:8,age:34,dateOfBirth:"1991-07-22",passportNumber:"OP6789012",passportExpiry:"2028-05-18",medicalExpiry:"2026-09-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Multan, Pakistan",salaryExpectation:"AED 2,500",availableFrom:"2026-01-10",whatsappLink:"https://wa.me/923089012345",videoLink:"https://youtube.com/watch?v=driver-waqas",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"14",name:"Fahad Malik",email:"fahad.malik@email.com",phone:"+92 309 0123456",nationality:"Pakistan",position:"Heavy Driver",country:"Saudi Arabia",experience:9,status:"Pending",source:"Email",passportAvailable:!0,skills:["Truck Driving","Trailer Operation","Long Distance","Logistics"],appliedDate:"2025-12-11",languages:["English","Urdu","Arabic"],aiScore:8.9,age:40,dateOfBirth:"1985-03-30",passportNumber:"QR7890123",passportExpiry:"2029-02-20",medicalExpiry:"2026-06-25",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sialkot, Pakistan",salaryExpectation:"SAR 3,000",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/923090123456",videoLink:"https://youtube.com/watch?v=heavy-driver-fahad",linkedinUrl:"https://linkedin.com/in/fahad-malik-driver",drivingLicense:"Heavy Vehicle",yearsInGCC:6,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"15",name:"Bilal Ahmed",email:"bilal.ahmed@email.com",phone:"+92 310 1234567",nationality:"Pakistan",position:"Light Driver",country:"Kosovo",experience:5,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Driving","GPS Navigation","Customer Service","Safe Driving"],appliedDate:"2025-12-17",languages:["English","Urdu"],aiScore:7.6,age:29,dateOfBirth:"1996-11-05",passportNumber:"ST8901234",passportExpiry:"2028-08-12",medicalExpiry:"2026-10-18",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"EUR 900",availableFrom:"2026-02-20",whatsappLink:"https://wa.me/923101234567",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"16",name:"Asif Raza",email:"asif.raza@email.com",phone:"+92 311 2345678",nationality:"Pakistan",position:"Heavy Driver",country:"UAE",experience:12,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Dump Truck","Crane Operation","Heavy Equipment","Construction Sites"],appliedDate:"2025-11-22",languages:["English","Urdu","Arabic"],aiScore:9.1,age:42,dateOfBirth:"1983-01-15",passportNumber:"UV9012345",passportExpiry:"2027-12-08",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sharjah, UAE",salaryExpectation:"AED 4,000",availableFrom:"Currently Working",lastContacted:"2025-12-08",whatsappLink:"https://wa.me/923112345678",videoLink:"https://youtube.com/watch?v=heavy-driver-asif",drivingLicense:"Heavy Vehicle",yearsInGCC:10,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"17",name:"Kashif Mehmood",email:"kashif.mehmood@email.com",phone:"+92 312 3456789",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:6,status:"Applied",source:"Email",passportAvailable:!0,skills:["Pipe Installation","Sanitary Fitting","Water Heaters","Drainage"],appliedDate:"2025-12-14",languages:["English","Urdu"],aiScore:8.1,age:31,dateOfBirth:"1994-08-25",passportNumber:"WX0123456",passportExpiry:"2028-09-30",medicalExpiry:"2026-11-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Gujranwala, Pakistan",salaryExpectation:"AED 1,850",availableFrom:"2026-01-25",whatsappLink:"https://wa.me/923123456789",videoLink:"https://youtube.com/watch?v=plumber-kashif",drivingLicense:"None",yearsInGCC:1,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"18",name:"Hamza Qureshi",email:"hamza.qureshi@email.com",phone:"+92 313 4567890",nationality:"Pakistan",position:"Plumber",country:"Saudi Arabia",experience:7,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Commercial Plumbing","HVAC Systems","Maintenance","Repair"],appliedDate:"2025-12-10",languages:["English","Urdu","Arabic"],aiScore:8.4,age:35,dateOfBirth:"1990-05-12",passportNumber:"YZ1234567",passportExpiry:"2029-03-18",medicalExpiry:"2026-07-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Peshawar, Pakistan",salaryExpectation:"SAR 2,000",availableFrom:"2026-01-08",lastContacted:"2025-12-11",whatsappLink:"https://wa.me/923134567890",videoLink:"https://youtube.com/watch?v=plumber-hamza",linkedinUrl:"https://linkedin.com/in/hamza-qureshi-plumber",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"19",name:"Tariq Aziz",email:"tariq.aziz@email.com",phone:"+92 314 5678901",nationality:"Pakistan",position:"Plumber",country:"Serbia",experience:5,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Residential Plumbing","Bathroom Fitting","Kitchen Setup"],appliedDate:"2025-12-18",languages:["English","Urdu"],aiScore:7.8,age:28,dateOfBirth:"1997-10-03",passportNumber:"AB2345678",passportExpiry:"2028-06-14",medicalExpiry:"2026-12-05",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"EUR 1,100",availableFrom:"2026-02-28",whatsappLink:"https://wa.me/923145678901",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"20",name:"Rizwan Shah",email:"rizwan.shah@email.com",phone:"+92 315 6789012",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:9,status:"Deployed",source:"Email",passportAvailable:!0,skills:["High-rise Buildings","Fire Fighting Systems","Water Supply","Pump Installation"],appliedDate:"2025-11-25",languages:["English","Urdu","Arabic"],aiScore:8.7,age:38,dateOfBirth:"1987-02-28",passportNumber:"CD3456789",passportExpiry:"2027-11-22",religion:"Muslim",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 2,200",availableFrom:"Currently Working",lastContacted:"2025-12-02",whatsappLink:"https://wa.me/923156789012",videoLink:"https://youtube.com/watch?v=plumber-rizwan",drivingLicense:"Light Vehicle",yearsInGCC:7,englishLevel:"Fluent",arabicLevel:"Fluent"},{id:"21",name:"Ayesha Malik",email:"ayesha.malik@email.com",phone:"+92 316 7890123",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:5,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Makeup Artist","Hair Styling","Bridal Makeup","Facial Treatments"],appliedDate:"2025-12-15",languages:["English","Urdu","Arabic"],aiScore:8.3,age:27,dateOfBirth:"1998-06-12",passportNumber:"EF4567890",passportExpiry:"2028-04-20",medicalExpiry:"2026-08-15",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"AED 2,500",availableFrom:"2026-01-20",whatsappLink:"https://wa.me/923167890123",videoLink:"https://youtube.com/watch?v=beautician-ayesha",drivingLicense:"None",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"Basic"},{id:"22",name:"Sana Tariq",email:"sana.tariq@email.com",phone:"+92 317 8901234",nationality:"Pakistan",position:"Beautician",country:"Saudi Arabia",experience:6,status:"Pending",source:"Form",passportAvailable:!0,skills:["Nail Art","Spa Treatments","Waxing","Threading","Manicure & Pedicure"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:8.5,age:29,dateOfBirth:"1996-09-18",passportNumber:"GH5678901",passportExpiry:"2028-12-10",medicalExpiry:"2026-10-22",religion:"Muslim",maritalStatus:"Married",currentLocation:"Islamabad, Pakistan",salaryExpectation:"SAR 2,200",availableFrom:"2026-01-12",lastContacted:"2025-12-13",whatsappLink:"https://wa.me/923178901234",videoLink:"https://youtube.com/watch?v=beautician-sana",linkedinUrl:"https://linkedin.com/in/sana-tariq-beautician",drivingLicense:"None",yearsInGCC:2,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"23",name:"Hina Khan",email:"hina.khan@email.com",phone:"+92 318 9012345",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:8,status:"Deployed",source:"Email",passportAvailable:!0,skills:["Permanent Makeup","Laser Treatments","Anti-aging","Skin Care"],appliedDate:"2025-11-18",languages:["English","Urdu","Arabic"],aiScore:9,age:33,dateOfBirth:"1992-03-22",passportNumber:"IJ6789012",passportExpiry:"2027-10-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 3,500",availableFrom:"Currently Working",lastContacted:"2025-12-05",whatsappLink:"https://wa.me/923189012345",videoLink:"https://youtube.com/watch?v=beautician-hina",drivingLicense:"Light Vehicle",yearsInGCC:5,englishLevel:"Fluent",arabicLevel:"Fluent"},{id:"24",name:"Farah Naz",email:"farah.naz@email.com",phone:"+92 319 0123456",nationality:"Pakistan",position:"Beautician",country:"Kosovo",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Hair Coloring","Hair Extensions","European Styling","Makeup"],appliedDate:"2025-12-19",languages:["English","Urdu"],aiScore:7.7,age:26,dateOfBirth:"1999-07-08",passportNumber:"KL7890123",passportExpiry:"2028-05-28",medicalExpiry:"2026-09-10",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"EUR 950",availableFrom:"2026-03-01",whatsappLink:"https://wa.me/923190123456",drivingLicense:"None",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"25",name:"Imran Abbas",email:"imran.abbas@email.com",phone:"+92 320 1234567",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:7,status:"Applied",source:"Email",passportAvailable:!0,skills:["Solar Panel Installation","Renewable Energy","Electrical Design","Testing"],appliedDate:"2025-12-13",languages:["English","Urdu","Arabic"],aiScore:8.6,age:34,dateOfBirth:"1991-12-02",passportNumber:"MN8901234",passportExpiry:"2029-01-18",medicalExpiry:"2026-05-25",religion:"Muslim",maritalStatus:"Married",currentLocation:"Multan, Pakistan",salaryExpectation:"AED 2,300",availableFrom:"2026-01-18",whatsappLink:"https://wa.me/923201234567",videoLink:"https://youtube.com/watch?v=electrician-imran",linkedinUrl:"https://linkedin.com/in/imran-abbas-electrician",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"26",name:"Salman Rashid",email:"salman.rashid@email.com",phone:"+92 321 2345678",nationality:"Pakistan",position:"Electrician",country:"Germany",experience:9,status:"Pending",source:"Form",passportAvailable:!0,skills:["German Standards","VDE Compliance","Automation","Industrial Control"],appliedDate:"2025-12-16",languages:["English","Urdu","German (Basic)"],aiScore:8.9,age:37,dateOfBirth:"1988-04-15",passportNumber:"OP9012345",passportExpiry:"2028-08-22",medicalExpiry:"2026-11-30",religion:"Muslim",maritalStatus:"Married",currentLocation:"Faisalabad, Pakistan",salaryExpectation:"EUR 2,200",availableFrom:"2026-03-15",whatsappLink:"https://wa.me/923212345678",videoLink:"https://youtube.com/watch?v=electrician-salman",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"27",name:"Yasir Mehmood",email:"yasir.mehmood@email.com",phone:"+92 322 3456789",nationality:"Pakistan",position:"Light Driver",country:"Saudi Arabia",experience:6,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Family Driver","Airport Pickup","Safe Driving","Vehicle Maintenance"],appliedDate:"2025-12-17",languages:["English","Urdu","Arabic"],aiScore:8,age:32,dateOfBirth:"1993-08-10",passportNumber:"QR0123456",passportExpiry:"2028-07-05",medicalExpiry:"2026-10-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sialkot, Pakistan",salaryExpectation:"SAR 2,400",availableFrom:"2026-01-22",whatsappLink:"https://wa.me/923223456789",videoLink:"https://youtube.com/watch?v=driver-yasir",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Intermediate"},{id:"28",name:"Nadeem Ali",email:"nadeem.ali@email.com",phone:"+92 323 4567890",nationality:"Pakistan",position:"Heavy Driver",country:"UAE",experience:11,status:"Deployed",source:"Email",passportAvailable:!0,skills:["Trailer Truck","Container Transport","Port Operations","Long Haul"],appliedDate:"2025-11-20",languages:["English","Urdu","Arabic"],aiScore:9.2,age:43,dateOfBirth:"1982-06-18",passportNumber:"ST1234567",passportExpiry:"2027-09-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Jebel Ali, UAE",salaryExpectation:"AED 4,500",availableFrom:"Currently Working",lastContacted:"2025-12-10",whatsappLink:"https://wa.me/923234567890",videoLink:"https://youtube.com/watch?v=heavy-driver-nadeem",drivingLicense:"Heavy Vehicle",yearsInGCC:9,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"29",name:"Aamir Siddique",email:"aamir.siddique@email.com",phone:"+92 324 5678901",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:8,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Villa Plumbing","Swimming Pool Systems","Jacuzzi Installation","Luxury Homes"],appliedDate:"2025-12-14",languages:["English","Urdu","Arabic"],aiScore:8.5,age:36,dateOfBirth:"1989-11-28",passportNumber:"UV2345678",passportExpiry:"2029-02-14",medicalExpiry:"2026-06-18",religion:"Muslim",maritalStatus:"Married",currentLocation:"Rawalpindi, Pakistan",salaryExpectation:"AED 2,100",availableFrom:"2026-01-28",whatsappLink:"https://wa.me/923245678901",videoLink:"https://youtube.com/watch?v=plumber-aamir",linkedinUrl:"https://linkedin.com/in/aamir-siddique-plumber",drivingLicense:"Light Vehicle",yearsInGCC:4,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"30",name:"Faisal Khan",email:"faisal.khan@email.com",phone:"+92 325 6789012",nationality:"Pakistan",position:"Plumber",country:"Austria",experience:6,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Heating Systems","Radiator Installation","Gas Fitting"],appliedDate:"2025-12-18",languages:["English","Urdu"],aiScore:8.2,age:33,dateOfBirth:"1992-01-20",passportNumber:"WX3456789",passportExpiry:"2028-10-08",medicalExpiry:"2026-12-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Gujranwala, Pakistan",salaryExpectation:"EUR 1,800",availableFrom:"2026-03-10",whatsappLink:"https://wa.me/923256789012",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"31",name:"Zainab Riaz",email:"zainab.riaz@email.com",phone:"+92 326 7890123",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:7,status:"Pending",source:"Email",passportAvailable:!0,skills:["Microblading","Eyelash Extensions","Henna Art","Makeup Training"],appliedDate:"2025-12-11",languages:["English","Urdu","Arabic"],aiScore:8.7,age:31,dateOfBirth:"1994-05-16",passportNumber:"YZ4567890",passportExpiry:"2028-11-25",medicalExpiry:"2026-08-08",religion:"Muslim",maritalStatus:"Married",currentLocation:"Peshawar, Pakistan",salaryExpectation:"AED 3,000",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/923267890123",videoLink:"https://youtube.com/watch?v=beautician-zainab",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"32",name:"Mehwish Ahmed",email:"mehwish.ahmed@email.com",phone:"+92 327 8901234",nationality:"Pakistan",position:"Beautician",country:"Saudi Arabia",experience:5,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Hijab Styling","Arabic Makeup","Traditional Henna","Party Makeup"],appliedDate:"2025-12-16",languages:["English","Urdu","Arabic"],aiScore:8.1,age:28,dateOfBirth:"1997-09-03",passportNumber:"AB5678901",passportExpiry:"2028-06-30",medicalExpiry:"2026-09-22",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"SAR 2,500",availableFrom:"2026-02-05",whatsappLink:"https://wa.me/923278901234",videoLink:"https://youtube.com/watch?v=beautician-mehwish",drivingLicense:"None",yearsInGCC:1,englishLevel:"Fluent",arabicLevel:"Intermediate"}],qs=[{id:"1",companyName:"Al Majid Construction LLC",country:"UAE",contactPerson:"Hassan Al Majid",email:"hr@almajid.ae",phone:"+971 4 123 4567",categories:["Electrician","Plumber","Mason","Carpenter"],activeJobs:3},{id:"2",companyName:"Saudi Build Group",country:"Saudi Arabia",contactPerson:"Abdullah bin Salman",email:"recruitment@saudibuild.sa",phone:"+966 11 234 5678",categories:["Welder","Electrician","Steel Fixer"],activeJobs:2},{id:"3",companyName:"Qatar Development Co.",country:"Qatar",contactPerson:"Mohammed Al Thani",email:"jobs@qatardev.qa",phone:"+974 4444 5555",categories:["Mason","Carpenter","Heavy Driver"],activeJobs:4},{id:"4",companyName:"Oman Infrastructure",country:"Oman",contactPerson:"Said Al Balushi",email:"hr@omaninfra.om",phone:"+968 2456 7890",categories:["Electrician","Plumber","Carpenter"],activeJobs:1}],cs=[{id:"1",employerId:"1",employerName:"Al Majid Construction LLC",position:"Electrician",country:"UAE",salary:"AED 1,800 - 2,200",candidates:5,urgency:"High",skills:["Electrical Installation","Industrial Wiring","Safety Standards","Maintenance"],status:"Open",createdDate:"2025-12-01"},{id:"2",employerId:"2",employerName:"Saudi Build Group",position:"Welder",country:"Saudi Arabia",salary:"SAR 2,000 - 2,500",candidates:10,urgency:"High",skills:["TIG Welding","MIG Welding","Arc Welding","Metal Fabrication"],status:"Open",createdDate:"2025-11-28"},{id:"3",employerId:"1",employerName:"Al Majid Construction LLC",position:"Plumber",country:"UAE",salary:"AED 1,600 - 2,000",candidates:3,urgency:"Medium",skills:["Pipe Installation","Water Systems","Drainage Systems","Maintenance"],status:"Open",createdDate:"2025-12-05"},{id:"4",employerId:"3",employerName:"Qatar Development Co.",position:"Mason",country:"Qatar",salary:"QAR 1,500 - 1,800",candidates:8,urgency:"Low",skills:["Bricklaying","Plastering","Tiling","Construction"],status:"Open",createdDate:"2025-11-25"},{id:"5",employerId:"4",employerName:"Oman Infrastructure",position:"Carpenter",country:"Oman",salary:"OMR 200 - 250",candidates:2,urgency:"Medium",skills:["Woodwork","Furniture Making","Interior Finishing","Blueprint Reading"],status:"Open",createdDate:"2025-12-07"},{id:"6",employerId:"3",employerName:"Qatar Development Co.",position:"Heavy Driver",country:"Qatar",salary:"QAR 2,200 - 2,800",candidates:15,urgency:"High",skills:["Truck Driving","Heavy Equipment","Valid License","Logistics"],status:"Closed",createdDate:"2025-11-10"}];/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uf=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,l)=>l?l.toUpperCase():n.toLowerCase()),eh=i=>{const s=uf(i);return s.charAt(0).toUpperCase()+s.slice(1)},Ph=(...i)=>i.filter((s,n,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var df={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=D.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:p,...f},m)=>D.createElement("svg",{ref:m,...df,width:s,height:s,stroke:i,strokeWidth:l?Number(n)*24/Number(s):n,className:Ph("lucide",c),...f},[...p.map(([x,y])=>D.createElement(x,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(i,s)=>{const n=D.forwardRef(({className:l,...c},d)=>D.createElement(hf,{ref:d,iconNode:s,className:Ph(`lucide-${cf(eh(i))}`,`lucide-${i}`,l),...c}));return n.displayName=eh(i),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mf=Y("activity",pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gf=Y("arrow-left",ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$o=Y("award",xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vf=Y("bell",yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],th=Y("bot",bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Xt=Y("briefcase",wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],_i=Y("building-2",jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yr=Y("calendar",Nf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kf=Y("camera",_f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rh=Y("chart-column",Sf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Cf=Y("chart-pie",Ef);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ki=Y("check",Af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tf=Y("chevron-down",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ot=Y("circle-alert",Of);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Re=Y("circle-check-big",Rf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hs=Y("circle-x",Lf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Th=Y("clock",If);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Oh=Y("copy",Df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mf=Y("database",$f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ff=Y("dollar-sign",Uf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ut=Y("download",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vf=Y("eye-off",Bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zt=Y("eye",Wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yt=Y("file-text",qf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],vi=Y("file",Hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Gf=Y("folder-tree",Kf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qf=Y("funnel",Jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xi=Y("globe",Yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Zf=Y("grid-3x3",Xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Rh=Y("image",e0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Lh=Y("inbox",t0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],s0=Y("layout-dashboard",r0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Xo=Y("link-2",n0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],i0=Y("list",a0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],So=Y("loader",l0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],c0=Y("lock",o0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],d0=Y("log-in",u0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],p0=Y("log-out",h0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],mt=Y("mail",m0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vr=Y("map-pin",f0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],xr=Y("message-square",g0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mo=Y("pen",x0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],rn=Y("phone",y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],b0=Y("play",v0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Si=Y("plus",w0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],sh=Y("qr-code",j0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_0=Y("refresh-cw",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nh=Y("save",k0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Br=Y("search",S0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],di=Y("send",E0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uo=Y("settings",C0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ft=Y("shield",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Eo=Y("smartphone",P0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],yi=Y("sparkles",T0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],R0=Y("square-pen",O0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bi=Y("star",L0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ei=Y("trash-2",I0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],$0=Y("trash",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ih=Y("trending-up",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xs=Y("triangle-alert",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],en=Y("upload",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Gn=Y("user-check",z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dh=Y("user",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],er=Y("users",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],q0=Y("video",W0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tn=Y("x",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],G0=Y("zap",K0);function ah(){const i=Ve.length,s=Ve.filter(m=>m.appliedDate==="2025-12-13").length;Ve.filter(m=>new Date(m.appliedDate)>=new Date("2025-12-06")).length;const n={Applied:Ve.filter(m=>m.status==="Applied").length,Pending:Ve.filter(m=>m.status==="Pending").length,Deployed:Ve.filter(m=>m.status==="Deployed").length,Cancelled:Ve.filter(m=>m.status==="Cancelled").length},l={WhatsApp:Ve.filter(m=>m.source==="WhatsApp").length,Email:Ve.filter(m=>m.source==="Email").length,Form:Ve.filter(m=>m.source==="Form").length,Manual:Ve.filter(m=>m.source==="Manual").length},c={};Ve.forEach(m=>{c[m.country]=(c[m.country]||0)+1});const d={};Ve.forEach(m=>{d[m.position]=(d[m.position]||0)+1});const p=cs.filter(m=>m.status==="Open").length,f=qs.length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome to Falisha Manpower Recruitment Portal"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Total Candidates"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:i}),r.jsxs("p",{className:"text-sm mt-2 bg-white bg-opacity-20 px-2 py-1 rounded inline-block",children:["+",s," today"]})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(er,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Open Job Orders"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:p}),r.jsxs("p",{className:"text-sm mt-2 opacity-75",children:[cs.length," total orders"]})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Xt,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Active Employers"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:f}),r.jsx("p",{className:"text-sm mt-2 opacity-75",children:"Registered companies"})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(_i,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Deployed"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:n.Deployed}),r.jsx("p",{className:"text-sm mt-2 opacity-75",children:"Successfully placed"})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Gn,{className:"w-8 h-8"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Status Breakdown"}),r.jsx("div",{className:"space-y-5",children:Object.entries(n).map(([m,x])=>{const y=x/i*100,w={Applied:{bg:"bg-blue-50",bar:"bg-gradient-to-r from-blue-500 to-blue-600",text:"text-blue-700"},Pending:{bg:"bg-yellow-50",bar:"bg-gradient-to-r from-yellow-500 to-yellow-600",text:"text-yellow-700"},Deployed:{bg:"bg-green-50",bar:"bg-gradient-to-r from-green-500 to-green-600",text:"text-green-700"},Cancelled:{bg:"bg-red-50",bar:"bg-gradient-to-r from-red-500 to-red-600",text:"text-red-700"}};return r.jsxs("div",{className:`p-3 rounded-lg ${w[m].bg}`,children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:`text-sm font-semibold ${w[m].text}`,children:m}),r.jsxs("span",{className:`text-sm font-bold ${w[m].text}`,children:[x," (",y.toFixed(0),"%)"]})]}),r.jsx("div",{className:"w-full bg-white rounded-full h-3 shadow-inner",children:r.jsx("div",{className:`h-3 rounded-full ${w[m].bar} shadow-sm transition-all duration-500`,style:{width:`${y}%`}})})]},m)})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Application Source"}),r.jsx("div",{className:"space-y-5",children:Object.entries(l).map(([m,x])=>{const y=x/i*100,w={WhatsApp:{bg:"bg-green-50",bar:"bg-gradient-to-r from-green-500 to-emerald-600"},Email:{bg:"bg-blue-50",bar:"bg-gradient-to-r from-blue-500 to-cyan-600"},Form:{bg:"bg-purple-50",bar:"bg-gradient-to-r from-purple-500 to-pink-600"},Manual:{bg:"bg-gray-50",bar:"bg-gradient-to-r from-gray-500 to-slate-600"}};return r.jsxs("div",{className:`p-3 rounded-lg ${w[m].bg}`,children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:m}),r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[x," (",y.toFixed(0),"%)"]})]}),r.jsx("div",{className:"w-full bg-white rounded-full h-3 shadow-inner",children:r.jsx("div",{className:`h-3 rounded-full ${w[m].bar} shadow-sm transition-all duration-500`,style:{width:`${y}%`}})})]},m)})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(vr,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Country Distribution"})]}),r.jsx("div",{className:"space-y-3",children:Object.entries(c).sort((m,x)=>x[1]-m[1]).map(([m,x],y)=>r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 rounded-lg hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),r.jsx("span",{className:"font-medium text-gray-900",children:m})]}),r.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:x})]},m))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx($o,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Position Distribution"})]}),r.jsx("div",{className:"space-y-3",children:Object.entries(d).sort((m,x)=>x[1]-m[1]).map(([m,x],y)=>r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 rounded-lg hover:bg-green-50 transition-colors border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),r.jsx("span",{className:"font-medium text-gray-900",children:m})]}),r.jsx("span",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:x})]},m))})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ih,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-900",children:"AI Insights & Recommendations"}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Electrician applications increased by 32%"})," this week. High demand for UAE positions."]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Saudi Arabia is currently the top demand destination"})," with ",c["Saudi Arabia"]," active candidates."]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Recommendation:"})," Push marketing for Welder and Steel Fixer positions - high AI matching scores detected."]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Alert:"})," 5 candidates pending document verification for more than 3 days. Follow-up required."]})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(yr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{children:"Recent Applications"})]}),r.jsx("div",{className:"space-y-3",children:Ve.slice(0,5).map(m=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx(er,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{children:m.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[m.position,"  ",m.country]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${m.status==="Applied"?"bg-blue-100 text-blue-700":m.status==="Pending"?"bg-yellow-100 text-yellow-700":m.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.appliedDate})]})]},m.id))})]})]})}const J0={},Q0="https://recruitment-portal-backend-production-d1f7.up.railway.app/api",Y0=()=>{const i=J0?.VITE_API_BASE_URL;return i&&i!=="/api"&&i.trim()!==""?i:typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?Q0:"/api"},Qs=Y0();console.log("[API Client] API_BASE_URL:",Qs);console.log("[API Client] Environment:","production");console.log("[API Client] Hostname:",typeof window<"u"?window.location.hostname:"server");async function ns(i,s={}){const n=`${Qs}${i}`,l=await fetch(n,{headers:{"Content-Type":"application/json",...s.headers||{}},...s});if(!l.ok){const c=await l.text().catch(()=>"");throw new Error(`${l.status}: ${c||l.statusText}`)}if(l.status!==204)return await l.json()}const as={async listInboxMessages(i){const s=new URLSearchParams;return i?.limit!=null&&s.set("limit",String(i.limit)),i?.offset!=null&&s.set("offset",String(i.offset)),i?.source&&s.set("source",i.source),i?.status&&s.set("status",i.status),ns(`/cv-inbox?${s.toString()}`)},async listAttachments(i){return ns(`/cv-inbox/${i}/attachments`)},async createInboxMessage(i){return ns("/cv-inbox",{method:"POST",body:JSON.stringify(i)})},async uploadAttachment(i,s){return ns(`/cv-inbox/${i}/attachments`,{method:"POST",body:JSON.stringify(s)})},async deleteAttachment(i){return ns(`/cv-inbox/attachments/${i}`,{method:"DELETE"})},async triggerParsing(i){return ns(`/cv-inbox/attachments/${i}/process`,{method:"POST",body:JSON.stringify({})})},async getParsingJob(i){return ns(`/parsing-jobs/${i}`)}};class X0{async request(s,n={}){const l=`${Qs}${s}`,c=await fetch(l,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!c.ok){const d=await c.text();throw new Error(`API Error: ${c.status} ${d}`)}return c.json()}async getCandidates(s={}){const n=new URLSearchParams;s.search&&n.append("search",s.search),s.status&&s.status!=="all"&&n.append("status",s.status),s.position&&s.position!=="all"&&n.append("position",s.position),s.country_of_interest&&s.country_of_interest!=="all"&&n.append("country_of_interest",s.country_of_interest),s.documents&&s.documents!=="all"&&n.append("documents",s.documents),s.limit&&n.append("limit",s.limit.toString()),s.offset&&n.append("offset",s.offset.toString());const l=n.toString();return this.request(`/candidates${l?`?${l}`:""}`)}async bulkUpdateCandidateStatus(s,n){return this.request("/candidates/bulk/status",{method:"PATCH",body:JSON.stringify({candidateIds:s,status:n})})}async getCandidate(s){return(await this.request(`/candidates/${s}`)).candidate}async createCandidate(s){return(await this.request("/candidates",{method:"POST",body:JSON.stringify(s)})).candidate}async updateCandidate(s,n){return(await this.request(`/candidates/${s}`,{method:"PUT",body:JSON.stringify(n)})).candidate}async deleteCandidate(s){await this.request(`/candidates/${s}`,{method:"DELETE"})}async uploadDocument(s,n,l,c=!1){const d=new FormData;d.append("file",s),d.append("candidate_id",n),d.append("doc_type",l),d.append("is_primary",c.toString());const p=`${Qs}/documents`,f=await fetch(p,{method:"POST",body:d});if(!f.ok){const x=await f.text();throw new Error(`API Error: ${f.status} ${x}`)}return(await f.json()).document}async getDocument(s){return(await this.request(`/documents/${s}`)).document}async listCandidateDocuments(s){return(await this.request(`/documents/candidate/${s}`)).documents}async getDocumentDownloadUrl(s,n=3600){return(await this.request(`/documents/${s}/download?expiresIn=${n}`)).signedUrl}async getCandidateCVDownload(s){return await this.request(`/candidates/${s}/documents/cv/download`)}async uploadCandidatePhoto(s,n){const l=new FormData;l.append("photo",n);const c=`${Qs}/candidates/${s}/photo`,d=await fetch(c,{method:"POST",body:l});if(!d.ok){const p=await d.text();throw new Error(`API Error: ${d.status} ${p}`)}return await d.json()}async deleteDocument(s){await this.request(`/documents/${s}`,{method:"DELETE"})}async uploadCandidateDocument(s,n,l="web"){const c=new FormData;c.append("file",s),c.append("candidate_id",n),c.append("source",l);const d=s.size/(1024*1024),p=Math.max(12e4,12e4+d*1e4),f=new AbortController,m=setTimeout(()=>{f.abort()},p);try{const x=`${Qs}/documents/candidate-documents`,w=await fetch(x,{method:"POST",body:c,signal:f.signal});if(clearTimeout(m),!w.ok){const _=await w.text().catch(()=>"");throw new Error(`API Error: ${w.status} ${_}`)}return await w.json()}catch(x){throw clearTimeout(m),x.name==="AbortError"||x.message?.includes("aborted")?new Error(`Upload timeout: The file (${d.toFixed(2)}MB) took too long to upload. Please check your connection and try again.`):x.message?.includes("Failed to fetch")||x.message?.includes("NetworkError")?new Error("Network error: Unable to connect to server. Please check your internet connection and try again."):x}}async getCandidateDocument(s){return await this.request(`/documents/candidate-documents/${s}`)}async updateCandidateDocument(s,n){return await this.request(`/documents/candidate-documents/${s}`,{method:"PATCH",body:JSON.stringify(n)})}async getCandidateDocumentDownload(s){return await this.request(`/documents/candidate-documents/${s}/download`)}async deleteCandidateDocument(s){await this.request(`/documents/candidate-documents/${s}`,{method:"DELETE"})}async listCandidateDocumentsNew(s){return(await this.request(`/documents/candidates/${s}/documents`)).documents||[]}async getVerificationLogsByDocument(s){return await this.request(`/verification-logs/document/${s}`)}async getVerificationLogsByCandidate(s){return await this.request(`/verification-logs/candidate/${s}`)}async getVerificationTimeline(s){const n=new URLSearchParams;return s.candidateId&&n.append("candidateId",s.candidateId),s.documentId&&n.append("documentId",s.documentId),s.limit&&n.append("limit",s.limit.toString()),await this.request(`/verification-logs/timeline?${n.toString()}`)}async getCandidateTimeline(s,n={}){const l=new URLSearchParams;n.limit&&l.append("limit",n.limit.toString()),n.offset&&l.append("offset",n.offset.toString()),n.category&&l.append("category",n.category),n.startDate&&l.append("startDate",n.startDate),n.endDate&&l.append("endDate",n.endDate);const c=l.toString();return this.request(`/timeline/candidate/${s}${c?`?${c}`:""}`)}async getTimelineEvent(s){return(await this.request(`/timeline/${s}`)).event}async createTimelineEvent(s){return(await this.request("/timeline",{method:"POST",body:JSON.stringify(s)})).event}async getEmployers(s={}){const n=new URLSearchParams;s.search&&n.append("search",s.search),s.limit&&n.append("limit",s.limit.toString()),s.offset&&n.append("offset",s.offset.toString());const l=n.toString();return this.request(`/employers${l?`?${l}`:""}`)}async getEmployer(s){return(await this.request(`/employers/${s}`)).employer}async createEmployer(s){return(await this.request("/employers",{method:"POST",body:JSON.stringify(s)})).employer}async updateEmployer(s,n){return(await this.request(`/employers/${s}`,{method:"PUT",body:JSON.stringify(n)})).employer}async deleteEmployer(s){await this.request(`/employers/${s}`,{method:"DELETE"})}async generateJobCode(){return(await this.request("/job-orders/generate-code")).jobCode}async getJobOrders(s={},n=!1){const l=new URLSearchParams;s.search&&l.append("search",s.search),s.employer_id&&l.append("employer_id",s.employer_id),s.limit&&l.append("limit",s.limit.toString()),s.offset&&l.append("offset",s.offset.toString()),n&&l.append("includeEmployer","true");const c=l.toString();return this.request(`/job-orders${c?`?${c}`:""}`)}async getJobOrder(s,n=!1){const l=n?"?includeEmployer=true":"";return(await this.request(`/job-orders/${s}${l}`)).jobOrder}async createJobOrder(s){return(await this.request("/job-orders",{method:"POST",body:JSON.stringify(s)})).jobOrder}async updateJobOrder(s,n){return(await this.request(`/job-orders/${s}`,{method:"PUT",body:JSON.stringify(n)})).jobOrder}async deleteJobOrder(s){await this.request(`/job-orders/${s}`,{method:"DELETE"})}async extractCandidateData(s,n){const l=new AbortController,c=setTimeout(()=>l.abort(),3e4);try{const d=await this.request(`/candidates/${s}/extract`,{method:"POST",body:JSON.stringify({cvUrl:n}),signal:l.signal});return clearTimeout(c),d}catch(d){throw clearTimeout(c),d.name==="AbortError"?new Error("Extraction timeout: The process took too long. Please try again."):d}}async updateExtraction(s,n,l,c){return this.request(`/candidates/${s}/extraction`,{method:"PUT",body:JSON.stringify({extractedData:n,approved:l,notes:c})})}async approveExtraction(s,n,l){return this.updateExtraction(s,n,!0,l)}async getExtractionHistory(s){return this.request(`/candidates/${s}/extraction-history`)}}const Ge=new X0;function Z0({candidateId:i,extractedData:s,onClose:n,onApprove:l,onReject:c}){const[d,p]=D.useState(s),[f,m]=D.useState(""),[x,y]=D.useState([]),[w,_]=D.useState(!1),[S,O]=D.useState(!1);D.useEffect(()=>{b()},[i]);const b=async()=>{try{const M=await Ge.getExtractionHistory(i);y(M.history||[])}catch(M){console.error("Failed to load extraction history:",M)}},T=M=>M?M>=.9?"text-green-600":M>=.7?"text-yellow-600":"text-red-600":"text-gray-400",U=M=>M?M>=.9?"High":M>=.7?"Medium":"Low":"Unknown",W=async()=>{O(!0);try{await l(d,f),n()}catch(M){console.error("Failed to approve extraction:",M)}finally{O(!1)}},B=async()=>{if(!f.trim()){alert("Please provide a reason for rejection");return}O(!0);try{await c(f),n()}catch(M){console.error("Failed to reject extraction:",M)}finally{O(!1)}},G=(M,P)=>{p(K=>({...K,[M]:P}))};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Extracted Data"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and edit the automatically extracted CV data before saving"})]}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(tn,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[r.jsx(th,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"AI-Extracted Data"})]}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This data was automatically extracted from the CV. Please review and correct any errors."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nationality",d.extraction_confidence?.nationality&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.nationality)}`,children:["(",U(d.extraction_confidence.nationality)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.nationality||"",onChange:M=>G("nationality",M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position",d.extraction_confidence?.position&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.position)}`,children:["(",U(d.extraction_confidence.position)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.position||"",onChange:M=>G("position",M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Years of Experience",d.extraction_confidence?.experience_years&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.experience_years)}`,children:["(",U(d.extraction_confidence.experience_years)," confidence)"]})]}),r.jsx("input",{type:"number",value:d.experience_years||"",onChange:M=>G("experience_years",parseInt(M.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country of Interest",d.extraction_confidence?.country_of_interest&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.country_of_interest)}`,children:["(",U(d.extraction_confidence.country_of_interest)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.country_of_interest||"",onChange:M=>G("country_of_interest",M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passport Expiry"}),r.jsx("input",{type:"date",value:d.passport_expiry||"",onChange:M=>G("passport_expiry",M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Education",d.extraction_confidence?.education&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.education)}`,children:["(",U(d.extraction_confidence.education)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.education||"",onChange:M=>G("education",M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Skills (comma-separated)",d.extraction_confidence?.skills&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.skills)}`,children:["(",U(d.extraction_confidence.skills)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.skills?.join(", ")||"",onChange:M=>G("skills",M.target.value.split(",").map(P=>P.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Languages (comma-separated)",d.extraction_confidence?.languages&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.languages)}`,children:["(",U(d.extraction_confidence.languages)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.languages?.join(", ")||"",onChange:M=>G("languages",M.target.value.split(",").map(P=>P.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Certifications (comma-separated)",d.extraction_confidence?.certifications&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.certifications)}`,children:["(",U(d.extraction_confidence.certifications)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.certifications?.join(", ")||"",onChange:M=>G("certifications",M.target.value.split(",").map(P=>P.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Previous Employment",d.extraction_confidence?.previous_employment&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.previous_employment)}`,children:["(",U(d.extraction_confidence.previous_employment)," confidence)"]})]}),r.jsx("textarea",{value:d.previous_employment||"",onChange:M=>G("previous_employment",M.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professional Summary",d.extraction_confidence?.professional_summary&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.professional_summary)}`,children:["(",U(d.extraction_confidence.professional_summary)," confidence)"]})]}),r.jsx("textarea",{value:d.professional_summary||"",onChange:M=>G("professional_summary",M.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Notes (optional)"}),r.jsx("textarea",{value:f,onChange:M=>m(M.target.value),placeholder:"Add any notes about the review or corrections made...",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),x.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("button",{onClick:()=>_(!w),className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-800",children:[r.jsx(Th,{className:"w-4 h-4"}),w?"Hide":"Show"," Extraction History (",x.length,")"]}),w&&r.jsx("div",{className:"mt-4 space-y-3",children:x.map((M,P)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[M.extraction_source==="automated"?r.jsx(th,{className:"w-4 h-4 text-blue-600"}):r.jsx(Dh,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:M.extraction_source==="automated"?"AI Extraction":"Human Review"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(M.extracted_at).toLocaleString()})]}),M.notes&&r.jsx("p",{className:"text-sm text-gray-600",children:M.notes})]},P))})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[r.jsxs("button",{onClick:B,disabled:S,className:"px-6 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 flex items-center gap-2",children:[r.jsx(Xs,{className:"w-4 h-4"}),"Reject"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:n,disabled:S,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsxs("button",{onClick:W,disabled:S,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[r.jsx(ki,{className:"w-4 h-4"}),"Approve & Save"]})]})]})]})})}const eg=i=>({1:[{id:"doc-001",fileName:"Ahmed_Hassan_CV.pdf",fileType:"PDF",category:"CV",uploadedBy:"System (Auto)",uploadedDate:"2024-12-13",fileSize:"245 KB",status:"verified"},{id:"doc-002",fileName:"Ahmed_Hassan_Passport.pdf",fileType:"PDF",category:"Passport",uploadedBy:"Admin",uploadedDate:"2024-12-10",fileSize:"1.2 MB",status:"verified",expiryDate:"2028-05-15"},{id:"doc-004",fileName:"Electrical_Certificate.pdf",fileType:"PDF",category:"Certificate",uploadedBy:"Admin",uploadedDate:"2024-12-08",fileSize:"890 KB",status:"verified",expiryDate:"2026-12-31"}],"AUTO-001":[{id:"doc-003",fileName:"Maria_Garcia_CV.pdf",fileType:"PDF",category:"CV",uploadedBy:"System (WhatsApp)",uploadedDate:"2024-12-13",fileSize:"180 KB",status:"verified"}],2:[{id:"doc-005",fileName:"Mohammed_Ali_Medical.pdf",fileType:"PDF",category:"Medical",uploadedBy:"Admin",uploadedDate:"2024-11-20",fileSize:"650 KB",status:"expired",expiryDate:"2024-11-30"}],"AUTO-002":[{id:"doc-006",fileName:"John_Smith_CV.docx",fileType:"DOCX",category:"CV",uploadedBy:"System (Email)",uploadedDate:"2024-12-13",fileSize:"312 KB",status:"pending"}],3:[{id:"doc-007",fileName:"Rajesh_Photo.jpg",fileType:"JPG",category:"Photo",uploadedBy:"Admin",uploadedDate:"2024-12-13",fileSize:"450 KB",status:"verified"}]})[i]||[];function Vn(i){if(!i)return[];if(Array.isArray(i))return i.filter(s=>typeof s=="string");if(typeof i=="string")try{const s=JSON.parse(i);return Array.isArray(s)?s.filter(n=>typeof n=="string"):[]}catch{return i.split(",").map(s=>s.trim()).filter(s=>s.length>0)}return[]}function tg({candidate:i,onClose:s,initialTab:n="details",onDocumentChange:l}){const[c,d]=D.useState(!1),[p,f]=D.useState(i),[m,x]=D.useState([]),[y,w]=D.useState(!0),[_,S]=D.useState(n),[O,b]=D.useState(!1),[T,U]=D.useState(!1),[W,B]=D.useState(!1),[G,M]=D.useState(null),[P,K]=D.useState(null);D.useEffect(()=>{if(T){const $=setTimeout(()=>{console.warn("[Upload] Safety timeout: Uploading state stuck, resetting"),U(!1),K("Upload timed out. Please try again.")},18e4);return()=>clearTimeout($)}},[T]);const[le,pe]=D.useState(!1),[xe,_e]=D.useState(!1),je=async()=>{try{w(!0);const Q=(await Ge.listCandidateDocumentsNew(i.id)).map(X=>{let ye="Other";X.category==="cv_resume"?ye="CV":X.category==="passport"?ye="Passport":X.category==="certificates"?ye="Certificate":X.category==="contracts"?ye="Contract":X.category==="medical_reports"?ye="Medical":X.category==="photos"&&(ye="Photo");let ve="pending";return X.verification_status==="verified"?ve="verified":X.verification_status==="needs_review"||X.verification_status==="pending_ai"?ve="pending":(X.verification_status==="rejected_mismatch"||X.verification_status==="failed")&&(ve="expired"),{id:X.id,fileName:X.file_name||"Unknown",fileType:X.mime_type?.split("/")[1]?.toUpperCase()||"PDF",category:ye,uploadedBy:X.uploaded_by_user_id||"System",uploadedDate:X.created_at?new Date(X.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],fileSize:X.file_size?`${(X.file_size/1024).toFixed(0)} KB`:"0 KB",status:ve,expiryDate:X.expiry_date}});x(Q)}catch($){console.error("Error fetching documents:",$),x(eg(i.id))}finally{w(!1)}};D.useEffect(()=>{_==="documents"&&je()},[i.id,_]);const we=()=>{pe(!0)},Xe=async()=>{const $=`${window.location.origin}/safe-cv/${i.id}`;try{await navigator.clipboard.writeText($),_e(!0),setTimeout(()=>_e(!1),2e3)}catch(Q){console.error("Failed to copy link:",Q)}},ft=()=>{window.print()},We=()=>{d(!0)},Ee=()=>{d(!1),f(p)},q=$=>{const{name:Q,value:X}=$.target;f({...p,[Q]:X})},se=()=>{console.log("[Upload] Button clicked - opening file picker"),K(null);try{const $=document.createElement("input");$.type="file",$.accept=".pdf,.doc,.docx,.jpg,.jpeg,.png",$.multiple=!0,$.oncancel=()=>{console.log("[Upload] File picker cancelled by user"),U(!1)},$.onchange=async Q=>{console.log("[Upload] File selected:",Q.target.files?.length||0,"files");const X=Q.target.files;if(!X||X.length===0){console.log("[Upload] No files selected - resetting state"),U(!1);return}if(X){K(null),U(!0);let ye=setTimeout(()=>{console.warn("Upload safety timeout: Resetting uploading state"),U(!1)},3e5);try{const ve=[],Ze=[];for(const qe of Array.from(X)){const L=(async()=>{try{const te=await Ge.uploadCandidateDocument(qe,i.id,"web");return te.document?.id&&ve.push(te.document.id),{success:!0,file:qe.name}}catch(te){console.error("Error uploading document:",te);const ie=te instanceof Error?te.message:"Unknown error occurred";let ge=`Failed to upload ${qe.name}`;return ie.includes("timeout")||ie.includes("aborted")||ie.includes("Upload timeout")?ge=`${qe.name}: Upload timeout. Please check your connection and try again.`:ie.includes("File exceeds")||ie.includes("size limit")?ge=`${qe.name}: File is too large (max 10MB)`:ie.includes("Unsupported file type")||ie.includes("file type")?ge=`${qe.name}: Unsupported file type. Allowed: PDF, DOC, DOCX, JPG, PNG`:ie.includes("network")||ie.includes("fetch")?ge=`${qe.name}: Network error. Please check your connection and try again.`:ie.includes("Candidate not found")?ge=`${qe.name}: Candidate not found. Please refresh the page.`:ie&&(ge=`${qe.name}: ${ie}`),K(ge),{success:!1,file:qe.name,error:ge}}})();Ze.push(L)}await Promise.allSettled(Ze),U(!1);try{await je()}catch(qe){console.error("Error fetching documents after upload:",qe)}if(ve.length>0){let L=0,te=!1;for(;L<15&&!te;){await new Promise(ie=>setTimeout(ie,2e3));try{const ge=(await Ge.listCandidateDocumentsNew(i.id)).filter(be=>ve.includes(be.id)&&be.category==="cv_resume"&&be.verification_status!=="pending_ai").sort((be,Me)=>new Date(Me.created_at).getTime()-new Date(be.created_at).getTime())[0];if(ge?.storage_path){te=!0,b(!0);try{const be=Ge.extractCandidateData(i.id,ge.storage_path),Me=new Promise((st,ct)=>setTimeout(()=>ct(new Error("Extraction timeout: The process took too long. Please try again.")),3e4)),gt=await Promise.race([be,Me]);gt&&gt.success?(M(gt.data),B(!0),b(!1)):(K(gt?.error||"Failed to extract CV data"),b(!1))}catch(be){console.error("Extraction error:",be),K(be instanceof Error?be.message:"CV extraction failed. The document may still be processing. Please refresh the page."),b(!1)}break}}catch(ie){console.error("Error checking document status:",ie)}L++}await je(),te||(console.log("Uploaded documents are not CVs - no extraction needed"),await je())}else await je()}catch(ve){console.error("Upload error:",ve),K(ve instanceof Error?ve.message:"An error occurred during upload")}finally{ye&&(clearTimeout(ye),ye=null),U(!1)}}},$.onerror=Q=>{console.error("[Upload] File input error:",Q),K("Failed to open file picker. Please try again."),U(!1)},console.log("[Upload] Triggering file picker...");try{$.click(),console.log("[Upload] File picker triggered successfully")}catch(Q){console.error("[Upload] Error triggering file picker:",Q),K("Failed to open file picker. Please check your browser settings.")}}catch($){console.error("[Upload] Error in handleUploadDocument:",$),K("Failed to open file picker. Please try again."),U(!1)}},R=async $=>{try{const Q=await Ge.getCandidateDocumentDownload($.id);window.open(Q.download_url,"_blank")}catch(Q){console.error("Error viewing document:",Q),alert(Q?.message||"Failed to view document")}},k=async $=>{try{const Q=await Ge.getCandidateDocumentDownload($.id),X=document.createElement("a");X.href=Q.download_url,X.download=$.fileName,document.body.appendChild(X),X.click(),document.body.removeChild(X)}catch(Q){console.error("Error downloading document:",Q),alert(Q?.message||"Failed to download document")}},I=async $=>{if(confirm(`Are you sure you want to delete "${$.fileName}"? This action cannot be undone.`))try{await Ge.deleteCandidateDocument($.id),await je(),l&&l()}catch(Q){console.error("Error deleting document:",Q),alert(Q?.message||"Failed to delete document")}},oe=$=>{switch($){case"CV":return r.jsx(Yt,{className:"w-4 h-4"});case"Passport":return r.jsx(vi,{className:"w-4 h-4"});case"Photo":return r.jsx(Rh,{className:"w-4 h-4"});default:return r.jsx(vi,{className:"w-4 h-4"})}},me=async $=>{try{await Ge.approveExtraction(i.id,$),B(!1),M(null),f({...p,...$})}catch(Q){console.error("Failed to approve extraction:",Q),K("Failed to save extracted data")}};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 p-6 flex items-start justify-between flex-shrink-0",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 font-bold text-lg",children:((i.name||"UK").trim()||"UK").substring(0,2).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.name||"Unknown"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[i.position||"Candidate","  ",i.email||"No email"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!c&&r.jsxs("button",{onClick:We,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(Mo,{className:"w-4 h-4"}),"Edit"]}),c&&r.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(nh,{className:"w-4 h-4"}),"Save"]}),r.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(tn,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx("button",{onClick:()=>S("details"),className:`py-3 text-sm font-medium border-b-2 transition-colors ${_==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Candidate Details"}),r.jsxs("button",{onClick:()=>S("documents"),className:`py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${_==="documents"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Yt,{className:"w-4 h-4"}),"Documents",m.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded-full text-xs font-medium",children:m.length})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:_==="details"?r.jsxs("div",{className:"p-6 space-y-6",children:[i.profile_photo_url&&r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"relative",children:r.jsx("img",{src:i.profile_photo_url,alt:i.name,className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 shadow-lg",onError:$=>{$.currentTarget.style.display="none"}})})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Status"}),r.jsx("span",{className:`px-4 py-2 rounded-full text-sm inline-block ${i.status==="Applied"?"bg-blue-100 text-blue-700":i.status==="Pending"?"bg-yellow-100 text-yellow-700":i.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:i.status})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"AI Matching Score"}),r.jsxs("p",{className:"text-2xl",children:[i.ai_score||0,"/10"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(mt,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:p.email||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(rn,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:p.phone||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(vr,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Country of Interest"}),r.jsx("input",{type:"text",name:"country_of_interest",value:p.country_of_interest||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(xi,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Nationality"}),r.jsx("input",{type:"text",name:"nationality",value:p.nationality||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Professional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Xt,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Position"}),r.jsx("input",{type:"text",name:"position",value:p.position||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(yr,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Applied Date"}),r.jsx("input",{type:"date",name:"created_at",value:p.created_at?.split("T")[0]||"",onChange:q,className:`text-sm ${c?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!c})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[i.passport_received?r.jsx(Re,{className:"w-5 h-5 text-green-500 mt-1"}):r.jsx(Hs,{className:"w-5 h-5 text-red-500 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Passport Status"}),r.jsx("p",{className:"text-sm",children:i.passport_received?"Received":"Not Received"})]})]})]})]}),(()=>{const $=Vn(i.skills);return $.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Skills & Competencies"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((Q,X)=>r.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:Q},X))})]})})(),(()=>{const $=Vn(i.languages);return $.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((Q,X)=>r.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:Q},X))})]})})(),i.education&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Education"}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.education})})]}),i.certifications&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Certifications"}),r.jsx("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.certifications})})]}),i.previous_employment&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Work Experience"}),r.jsx("div",{className:"bg-indigo-50 border border-indigo-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.previous_employment})})]}),i.professional_summary&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Professional Summary"}),r.jsx("div",{className:"bg-teal-50 border border-teal-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.professional_summary})})]}),i.source&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Application Details"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Application Source"}),r.jsx("p",{className:"text-sm",children:i.source})]})]}),i.videoLink&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Video Profile"}),r.jsxs("a",{href:i.videoLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[r.jsx(q0,{className:"w-5 h-5"}),"Watch Video Profile"]})]}),i.notes&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Notes & Remarks"}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm",children:i.notes})})]}),(i.experience_years||i.position||i.ai_score)&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"AI Analysis"}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 p-4 rounded-lg space-y-2",children:[(i.experience_years||i.position)&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Strengths:"}),i.experience_years?` ${i.experience_years} years of experience`:"",i.position?` in ${i.position}`:"",".",(()=>{const $=Vn(i.skills);return $.length>0?` Strong skill set including ${$.slice(0,3).join(", ")}.`:""})()]}),i.country_of_interest&&i.country_of_interest!=="missing"&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Recommendation:"})," Highly suitable for ",i.country_of_interest," market.",i.passport_received?" Passport ready - can deploy quickly.":" Passport needed - estimated 2-3 weeks."]}),i.ai_score&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Match Score:"})," ",i.ai_score,"/10 based on experience, skills, and market demand."]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[c?r.jsxs("button",{onClick:Ee,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(nh,{className:"w-4 h-4"}),"Save Changes"]}):r.jsxs("button",{onClick:We,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Mo,{className:"w-4 h-4"}),"Edit Details"]}),r.jsxs("button",{onClick:we,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Ft,{className:"w-4 h-4"}),"Generate Employer CV"]}),r.jsxs("button",{className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(xr,{className:"w-4 h-4"}),"Send to Employer"]}),r.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Download CV"]})]})]}):r.jsxs("div",{className:"p-6 space-y-4",children:[T&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(So,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Uploading Document..."}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please wait while your file is being uploaded"})]})]}),O&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(So,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Extracting CV Data"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Processing your CV with AI... This may take a moment."})]})]}),P&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(ot,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-800",children:"Extraction Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:P}),r.jsx("button",{onClick:()=>K(null),className:"text-xs text-red-600 hover:text-red-700 mt-2 underline",children:"Dismiss"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Candidate Documents"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y?"Loading...":`${m.length} files uploaded`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:je,disabled:y,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",title:"Refresh documents",children:[r.jsx(_0,{className:`w-4 h-4 ${y?"animate-spin":""}`}),"Refresh"]}),r.jsxs("button",{onClick:se,disabled:O||T,className:`${O||T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} px-4 py-2 rounded-lg transition-colors flex items-center gap-2`,children:[r.jsx(en,{className:`w-4 h-4 ${T?"animate-pulse":""}`}),T?"Uploading...":O?"Extracting...":"Upload Document"]})]})]}),y?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(So,{className:"w-6 h-6 animate-spin text-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading documents..."})]}):m.length>0?r.jsx("div",{className:"grid grid-cols-1 gap-3",children:m.map($=>r.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${$.category==="CV"?"bg-blue-100 text-blue-600":$.category==="Passport"?"bg-purple-100 text-purple-600":$.category==="Certificate"?"bg-green-100 text-green-600":$.category==="Medical"?"bg-red-100 text-red-600":$.category==="Photo"?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600"}`,children:oe($.category)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:$.fileName}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[r.jsx("span",{children:$.fileType}),r.jsx("span",{children:""}),r.jsx("span",{children:$.fileSize}),r.jsx("span",{children:""}),r.jsx("span",{className:`px-2 py-0.5 rounded-full ${$.category==="CV"?"bg-blue-100 text-blue-700":$.category==="Passport"?"bg-purple-100 text-purple-700":$.category==="Certificate"?"bg-green-100 text-green-700":$.category==="Medical"?"bg-red-100 text-red-700":$.category==="Photo"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:$.category})]})]}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 flex-shrink-0 ${$.status==="verified"?"bg-green-100 text-green-700":$.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[$.status==="verified"&&r.jsx(Re,{className:"w-3 h-3"}),$.status==="expired"&&r.jsx(ot,{className:"w-3 h-3"}),$.status==="pending"&&r.jsx(ot,{className:"w-3 h-3"}),$.status.charAt(0).toUpperCase()+$.status.slice(1)]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yr,{className:"w-3 h-3"}),r.jsxs("span",{children:["Uploaded ",$.uploadedDate]})]}),r.jsxs("div",{children:["By ",$.uploadedBy]}),$.expiryDate&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ot,{className:"w-3 h-3"}),r.jsxs("span",{children:["Expires: ",$.expiryDate]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>R($),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm",children:[r.jsx(Zt,{className:"w-3.5 h-3.5"}),"View"]}),r.jsxs("button",{onClick:()=>k($),className:"px-3 py-1.5 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-1.5 text-sm",children:[r.jsx(Ut,{className:"w-3.5 h-3.5"}),"Download"]}),r.jsxs("button",{onClick:()=>I($),className:"px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-1.5 text-sm",children:[r.jsx(Ei,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})]})},$.id))}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsx(Yt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No documents uploaded yet"}),r.jsxs("button",{onClick:se,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[r.jsx(en,{className:"w-4 h-4"}),"Upload First Document"]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(ot,{className:"w-4 h-4 text-blue-600"}),"Document Categories"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-700",children:[r.jsx("div",{children:" CV / Resume"}),r.jsx("div",{children:" Passport"}),r.jsx("div",{children:" Certificates"}),r.jsx("div",{children:" Contracts"}),r.jsx("div",{children:" Medical Reports"}),r.jsx("div",{children:" Photos"}),r.jsx("div",{children:" Other Documents"})]})]})]})})]}),W&&G&&r.jsx(Z0,{candidateId:i.id,extractedData:G,onClose:()=>{B(!1),M(null)},onApprove:me,onReject:$=>{console.log("Extraction rejected:",$),B(!1),M(null)}}),le&&r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-5xl max-h-[95vh] overflow-hidden flex flex-col shadow-2xl",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex items-center justify-between text-white print:hidden",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Ft,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Employer-Safe CV"}),r.jsx("p",{className:"text-sm text-blue-100",children:"Contact information hidden for privacy"})]})]}),r.jsx("button",{onClick:()=>pe(!1),className:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-colors",children:r.jsx(tn,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-b border-purple-200 p-4 flex items-center justify-between gap-4 print:hidden",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Re,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Safe to Share"}),r.jsx("p",{className:"text-xs text-gray-600",children:"All sensitive information removed"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Xe,className:`px-4 py-2 rounded-lg transition-all flex items-center gap-2 font-medium ${xe?"bg-green-600 text-white":"bg-purple-600 text-white hover:bg-purple-700"}`,children:xe?r.jsxs(r.Fragment,{children:[r.jsx(ki,{className:"w-4 h-4"}),"Link Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xo,{className:"w-4 h-4"}),"Copy Share Link"]})}),r.jsxs("button",{onClick:ft,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Download PDF"]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8 print:p-8",children:r.jsxs("div",{id:"printable-cv",className:"max-w-4xl mx-auto bg-white",children:[r.jsx("div",{className:"text-center mb-6",children:r.jsx("img",{src:"/ChatGPT Image Jan 20, 2026, 05_24_22 PM.png",alt:"Falisha Manpower",className:"h-16 mx-auto mb-4"})}),r.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-blue-600",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.name||"Candidate"}),r.jsx("p",{className:"text-lg text-gray-600 mb-2",children:i.position||"Professional"}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xi,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{children:i.nationality||"Not specified"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vr,{className:"w-5 h-5 text-blue-600"}),r.jsxs("span",{children:["Seeking: ",i.country||"Not specified"]})]})]})]}),r.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ft,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-yellow-900 text-sm mb-1",children:"Contact Information Protected"}),r.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:"For privacy, direct contact details have been removed. Contact Falisha Manpower to reach this candidate."}),r.jsxs("div",{className:"text-xs text-gray-700",children:[r.jsx("p",{children:" falishamanpower4035@gmail.com"}),r.jsx("p",{children:" +92330 3333335"})]})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Professional Summary"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(yr,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Experience"})]}),r.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[i.experience_years||0," Years"]})]}),r.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(bi,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"AI Match Score"})]}),r.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[i.ai_score?.toFixed(1)||"N/A","/10"]})]})]}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:i.professional_summary||`Highly skilled ${i.position||"professional"} with ${i.experience_years||0} years of professional experience. Seeking opportunities in ${i.country||"various markets"} to contribute technical expertise and drive operational excellence.`})]}),i.previous_employment&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Work Experience"]}),r.jsx("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:i.previous_employment})})]}),Vn(i.skills).length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(bi,{className:"w-5 h-5 text-blue-600"}),"Core Skills & Competencies"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:Vn(i.skills).map(($,Q)=>r.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-blue-50 to-purple-50 rounded border border-blue-200 text-gray-800 font-medium text-center text-sm",children:$},Q))})]}),i.education&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Education"]}),r.jsx("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-purple-500",children:r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:i.education})})]}),i.certifications&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Re,{className:"w-5 h-5 text-blue-600"}),"Certifications"]}),r.jsx("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-500",children:r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:i.certifications})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Additional Information"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(xi,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Nationality"})]}),r.jsx("p",{className:"text-gray-700 text-sm",children:i.nationality||"Not specified"})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(vr,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Preferred Location"})]}),r.jsx("p",{className:"text-gray-700 text-sm",children:i.country||"Not specified"})]})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ft,{className:"w-6 h-6 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-1 text-sm",children:"Protected by Falisha Manpower"}),r.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"This employer-safe CV protects candidate privacy. Contact information has been secured."}),r.jsxs("p",{className:"text-xs text-gray-600",children:[r.jsx("strong",{children:"For interviews:"})," falishamanpower4035@gmail.com | +92330 3333335"]})]})]})})}),r.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:r.jsxs("p",{children:["Falisha Manpower AI Recruitment System | Candidate ID: ",i.id]})})]})})]}),r.jsx("style",{children:`
            @media print {
              @page {
                size: A4;
                margin: 0.5in;
              }
              
              body {
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
                margin: 0;
                padding: 0;
              }
              
              /* Hide everything */
              * {
                display: none !important;
                visibility: hidden !important;
              }
              
              /* Show only the printable CV */
              #printable-cv {
                display: block !important;
                visibility: visible !important;
                position: relative !important;
                width: 100% !important;
                height: auto !important;
                margin: 0 !important;
                padding: 0 !important;
                page-break-after: auto;
                page-break-inside: avoid;
              }
              
              #printable-cv * {
                display: block !important;
                visibility: visible !important;
                margin-bottom: 0.5rem !important;
                page-break-inside: avoid !important;
              }
              
              /* Typography */
              #printable-cv h1 { 
                font-size: 20px !important; 
                font-weight: bold !important;
                margin-bottom: 6px !important; 
              }
              #printable-cv h2 { 
                font-size: 14px !important; 
                font-weight: bold !important;
                margin-bottom: 8px !important; 
              }
              #printable-cv p { 
                font-size: 10px !important; 
                line-height: 1.3 !important;
                margin-bottom: 4px !important;
              }
              #printable-cv img {
                max-width: 100% !important;
                height: auto !important;
                margin-bottom: 8px !important;
              }
              
              /* Reduce all spacing */
              #printable-cv .mb-6 { margin-bottom: 8px !important; }
              #printable-cv .mb-4 { margin-bottom: 6px !important; }
              #printable-cv .mb-3 { margin-bottom: 4px !important; }
              #printable-cv .mb-2 { margin-bottom: 2px !important; }
              #printable-cv .mb-1 { margin-bottom: 1px !important; }
              
              #printable-cv .pb-2 { padding-bottom: 4px !important; }
              #printable-cv .pb-4 { padding-bottom: 6px !important; }
              #printable-cv .pb-6 { padding-bottom: 8px !important; }
              
              #printable-cv .p-6 { padding: 6px !important; }
              #printable-cv .p-4 { padding: 4px !important; }
              #printable-cv .p-3 { padding: 3px !important; }
              
              #printable-cv .gap-2 { gap: 2px !important; }
              #printable-cv .gap-3 { gap: 3px !important; }
              #printable-cv .gap-4 { gap: 4px !important; }
              
              /* Grid and flexbox */
              #printable-cv .grid,
              #printable-cv .flex {
                display: flex !important;
              }
              
              #printable-cv .grid-cols-2,
              #printable-cv .grid-cols-3 {
                flex-direction: row !important;
                flex-wrap: wrap !important;
              }
              
              #printable-cv .grid-cols-2 > * {
                flex: 0 0 48% !important;
              }
              
              #printable-cv .grid-cols-3 > * {
                flex: 0 0 31% !important;
              }
              
              /* Keep colors for branding */
              #printable-cv .bg-blue-50,
              #printable-cv .bg-purple-50,
              #printable-cv .bg-yellow-50,
              #printable-cv .bg-gray-50,
              #printable-cv .bg-green-50 {
                print-color-adjust: exact !important;
                -webkit-print-color-adjust: exact !important;
              }
              
              #printable-cv .border,
              #printable-cv .border-b-2,
              #printable-cv .border-l-4 {
                border-color: inherit !important;
                print-color-adjust: exact !important;
                -webkit-print-color-adjust: exact !important;
              }
              
              #printable-cv .text-sm { font-size: 9px !important; }
              #printable-cv .text-xs { font-size: 8px !important; }
              #printable-cv .text-xl { font-size: 12px !important; }
              #printable-cv .text-2xl { font-size: 14px !important; }
              #printable-cv .text-3xl { font-size: 16px !important; }
            }
          `})]})]})}function ih(i){const s=(i||"").trim();if(!s)return"??";const n=s.split(/\s+/).filter(Boolean),l=n[0]?.[0]||"",c=n[1]?.[0]||n[0]?.[1]||"";return`${l}${c}`.toUpperCase()}function rg(i){if(!i)return[];if(Array.isArray(i))return i.filter(s=>typeof s=="string");if(typeof i=="string")try{const s=JSON.parse(i);return Array.isArray(s)?s.filter(n=>typeof n=="string"):[]}catch{return i.includes(",")?i.split(",").map(s=>s.trim()).filter(s=>s.length>0):i.trim()?[i.trim()]:[]}return[]}function sg(i){if(!i)return null;const s=Object.values(i).filter(d=>typeof d=="number"&&isFinite(d));if(s.length===0)return null;const n=s.reduce((d,p)=>d+p,0)/s.length,l=n>1?n/100:n,c=Math.max(0,Math.min(10,l*10));return Math.round(c*10)/10}function ng({initialProfessionFilter:i="all"}){const[s,n]=D.useState([]),[l,c]=D.useState(!0),[d,p]=D.useState(null),[f,m]=D.useState("card"),[x,y]=D.useState(new Set),[w,_]=D.useState("Pending"),[S,O]=D.useState(!1),[b,T]=D.useState({search:"",position:i||"all",country:"all",status:"all"}),[U,W]=D.useState([]),[B,G]=D.useState([]),[M,P]=D.useState([]),[K,le]=D.useState(null),[pe,xe]=D.useState(!1),[_e,je]=D.useState("details"),[we,Xe]=D.useState(null),[ft,We]=D.useState(null),Ee=async()=>{c(!0);try{const L=await Ge.getCandidates({search:b.search,position:b.position,country_of_interest:b.country,status:b.status});n(L.candidates||[]);const te=Array.from(new Set((L.candidates||[]).map(be=>be.position).filter(Boolean))).sort();W(te);const ie=Array.from(new Set((L.candidates||[]).map(be=>be.country_of_interest).filter(Boolean))).sort();G(ie);const ge=Array.from(new Set((L.candidates||[]).map(be=>be.status||"Applied").filter(Boolean))).sort();P(ge.length?ge:["Applied","Pending","Deployed","Cancelled"])}catch(L){p(L?.message||"Failed to load candidates")}finally{c(!1)}};D.useEffect(()=>{Ee()},[b.search,b.position,b.country,b.status]);const q=D.useMemo(()=>s.filter(L=>{const te=b.search.toLowerCase(),ie=!b.search||L.name.toLowerCase().includes(te)||L.email?.toLowerCase().includes(te)||L.phone?.toLowerCase().includes(te)||L.candidate_code?.toLowerCase().includes(te),ge=b.position==="all"||L.position===b.position,be=b.country==="all"||(L.country_of_interest||"")===b.country,Me=b.status==="all"||(L.status||"Applied")===b.status;return ie&&ge&&be&&Me}),[s,b]),se=D.useMemo(()=>{const L=s.length,te=U.length,ie=s.filter(st=>!!st.needs_review).length,ge=s.filter(st=>(st.status||"Applied")==="Deployed").length,be=Date.now(),Me=10080*60*1e3,gt=s.filter(st=>{const ct=st.created_at?Date.parse(st.created_at):NaN;return Number.isFinite(ct)&&be-ct<=Me}).length;return{totalCandidates:L,totalProfessions:te,pendingReview:ie,deployed:ge,newThisWeek:gt}},[s,U.length]);D.useMemo(()=>{const L=new Map;for(const te of s){const ie=(te.position||"").trim();ie&&L.set(ie,(L.get(ie)||0)+1)}return L},[s]);const R=D.useMemo(()=>q.length===0?!1:q.every(L=>x.has(L.id)),[q,x]);function k(L){y(te=>{const ie=new Set(te);return ie.has(L)?ie.delete(L):ie.add(L),ie})}function I(){y(new Set(q.map(L=>L.id)))}function oe(){y(new Set)}async function me(){if(x.size!==0)try{O(!0);const L=Array.from(x),te=await Ge.bulkUpdateCandidateStatus(L,w),ie=new Set((te.candidates||[]).map(ge=>ge.id));n(ge=>ge.map(be=>ie.has(be.id)?{...be,status:w}:be)),oe()}catch(L){alert(L?.message||"Failed to bulk update status")}finally{O(!1)}}function $(L){le(L),je("details"),xe(!0)}function Q(L){le(L),je("documents"),xe(!0)}async function X(L){try{const{download_url:te,filename:ie}=await Ge.getCandidateCVDownload(L.id),ge=document.createElement("a");ge.href=te,ge.download=ie,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)}catch(te){te?.message?.includes("404")?alert("No CV found for this candidate. Please upload a CV first."):alert(te?.message||"Failed to download CV")}}function ye(L){const te=document.createElement("input");te.type="file",te.accept="image/*",te.onchange=async ie=>{const ge=ie.target.files?.[0];if(ge){if(ge.size>5*1024*1024){alert("Photo must be smaller than 5MB");return}try{Xe(L),console.log("Uploading photo for candidate:",L,"File:",ge.name,ge.size,"bytes");const be=await Ge.uploadCandidatePhoto(L,ge);console.log("Photo upload result:",be);const Me=await Ge.getCandidates(b);n(Me.candidates||[]),alert("Photo uploaded successfully!")}catch(be){console.error("Photo upload error:",be),alert(`Failed to upload photo: ${be?.message||"Unknown error"}`)}finally{Xe(null)}}},te.click()}function ve(L,te,ie){ie?Ze(L,te):qe(L,te)}async function Ze(L,te){try{const ge=(await Ge.listCandidateDocuments(L)).find(Me=>Me.doc_type.toLowerCase()===te.toLowerCase());if(!ge){alert(`No ${te} found`);return}const be=await Ge.getDocumentDownloadUrl(ge.id);window.open(be,"_blank")}catch(ie){alert(ie?.message||"Failed to view document")}}function qe(L,te){const ie=document.createElement("input");ie.type="file",ie.accept=te==="photo"?"image/*":".pdf,.jpg,.jpeg,.png,.doc,.docx",ie.onchange=async ge=>{const be=ge.target.files?.[0];if(be)try{await Ge.uploadDocument(be,L,te,!1);const Me=await Ge.getCandidates(b);n(Me.candidates||[]),alert(`${te} uploaded successfully!`)}catch(Me){alert(Me?.message||`Failed to upload ${te}`)}},ie.click()}return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):d?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),r.jsx("p",{className:"text-red-700 mb-4",children:d}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidates"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your candidate pipeline"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Candidates"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:se.totalCandidates})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Professions"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:se.totalProfessions})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Pending Review"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:se.pendingReview})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Deployed"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:se.deployed})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"New This Week"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:se.newThisWeek})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("select",{value:b.country,onChange:L=>T(te=>({...te,country:L.target.value})),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Countries"}),B.map(L=>r.jsx("option",{value:L,children:L},L))]}),r.jsxs("select",{value:b.status,onChange:L=>T(te=>({...te,status:L.target.value})),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),M.map(L=>r.jsx("option",{value:L,children:L},L))]}),r.jsxs("div",{className:"md:col-span-2 relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search candidates by name, email, phone...",value:b.search,onChange:L=>T(te=>({...te,search:L.target.value})),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>m("card"),className:`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${f==="card"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(Zf,{className:"w-4 h-4"}),"Cards"]}),r.jsxs("button",{onClick:()=>m("table"),className:`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${f==="table"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(i0,{className:"w-4 h-4"}),"Table"]})]})]}),x.size>0&&r.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[x.size," candidate",x.size>1?"s":""," selected"]}),r.jsx("button",{onClick:oe,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear selection"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:w,onChange:L=>_(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",disabled:S,children:[r.jsx("option",{value:"Applied",children:"Applied"}),r.jsx("option",{value:"Pending",children:"Pending"}),r.jsx("option",{value:"Deployed",children:"Deployed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsx("button",{onClick:me,disabled:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-50",children:S?"Updating...":"Update Status"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",r.jsx("strong",{children:q.length})," of ",r.jsx("strong",{children:s.length})," candidates"]}),r.jsx("button",{onClick:R?oe:I,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:R?"Deselect All":"Select All"})]})]}),f==="card"?q.length===0?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Br,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No candidates found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters."})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:q.map(L=>{const te=rg(L.skills),ie=sg(L.extraction_confidence),ge=typeof L.ai_score=="number"&&isFinite(L.ai_score)?L.ai_score:ie,be=(L.status||"Applied").toString(),Me=x.has(L.id),gt=!!L.cv_received,st=!!L.passport_received,ct=!!L.certificate_received||!!L.degree_received,Ot=!!L.photo_received,ir=!!L.medical_received,Vr=[gt,st,ct,Ot,ir].filter(Boolean).length,ps=Vr===5;return r.jsxs("div",{className:`bg-white rounded-xl border-2 transition-all hover:shadow-2xl ${Me?"border-blue-500 shadow-lg":"border-gray-200"}`,children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500 to-purple-600 h-32 rounded-t-xl",children:[r.jsx("div",{className:"absolute -bottom-16 left-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-xl",children:L.profile_photo_url?r.jsx("img",{src:L.profile_photo_url,alt:L.name,className:"w-full h-full rounded-full object-cover",onError:lr=>{lr.currentTarget.style.display="none";const Wr=lr.currentTarget.parentElement;Wr&&(Wr.innerHTML=`<div class="w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-4xl font-bold text-blue-600">${ih(L.name)}</div>`)}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-4xl font-bold text-blue-600",children:ih(L.name)})}),r.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors shadow-lg",onClick:lr=>{lr.stopPropagation(),ye(L.id)},disabled:we===L.id,children:we===L.id?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(kf,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("input",{type:"checkbox",checked:Me,onChange:()=>k(L.id),className:"w-6 h-6 text-blue-600 rounded cursor-pointer bg-white border-2 border-white shadow-lg"})})]}),r.jsxs("div",{className:"pt-20 p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:L.name}),L.needs_review&&r.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(Xs,{className:"w-3 h-3"}),"Review"]}),L.auto_extracted&&!L.needs_review&&r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(yi,{className:"w-3 h-3"}),"Auto"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[r.jsx(Xt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-lg",children:L.position||""})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx("span",{className:"text-sm",children:L.nationality||""}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx(vr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium text-blue-600",children:L.country_of_interest||""})]})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[r.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex-shrink-0 ${be==="Applied"?"bg-blue-100 text-blue-700":be==="Pending"?"bg-yellow-100 text-yellow-700":be==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:be}),ge!=null&&r.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 px-4 py-2 rounded-lg",children:[r.jsx(bi,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),r.jsx("span",{className:"text-lg font-bold text-gray-900",children:ge.toFixed(1)}),r.jsx("span",{className:"text-xs text-gray-500",children:"/10"})]}),L.experience_years!=null&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Xt,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-medium",children:[L.experience_years,"y exp"]})]})]}),r.jsxs("div",{className:"space-y-3 mb-4 pb-4 border-b border-gray-200",children:[L.phone&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(rn,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Phone"}),r.jsx("div",{className:"text-gray-900 font-medium truncate",children:L.phone})]})]}),L.email&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(mt,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),r.jsx("div",{className:"text-gray-900 font-medium truncate",children:L.email})]})]}),L.created_at&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(yr,{className:"w-4 h-4 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Applied Date"}),r.jsx("div",{className:"text-gray-900 font-medium",children:new Date(L.created_at).toLocaleDateString()})]})]})]}),te.length>0&&r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx($o,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Top Skills"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[te.slice(0,4).map((lr,Wr)=>r.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 rounded-lg text-xs font-medium border border-blue-200",children:lr},Wr)),te.length>4&&r.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:["+",te.length-4," more"]})]})]}),r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Document List"}),r.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Vr===0?"bg-red-100 text-red-700":ps?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[Vr," files"]})]}),r.jsx("button",{onClick:()=>Q(L),className:"text-xs text-blue-600 hover:text-blue-700",children:"View All "})]}),Vr>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[r.jsxs("div",{onClick:()=>ve(L.id,"cv",gt),className:`relative group cursor-pointer ${gt?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(Yt,{className:`w-5 h-5 mb-1 ${gt?"text-green-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"CV"}),gt?r.jsx(Re,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(Hs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>ve(L.id,"passport",st),className:`relative group cursor-pointer ${st?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(vi,{className:`w-5 h-5 mb-1 ${st?"text-purple-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Passport"}),st?r.jsx(Re,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(Hs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>ve(L.id,"certificate",ct),className:`relative group cursor-pointer ${ct?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx($o,{className:`w-5 h-5 mb-1 ${ct?"text-blue-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Cert"}),ct?r.jsx(Re,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(Hs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>ve(L.id,"photo",Ot),className:`relative group cursor-pointer ${Ot?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(Rh,{className:`w-5 h-5 mb-1 ${Ot?"text-pink-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Photo"}),Ot?r.jsx(Re,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(Hs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>ve(L.id,"medical",ir),className:`relative group cursor-pointer ${ir?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(vi,{className:`w-5 h-5 mb-1 ${ir?"text-green-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Medical"}),ir?r.jsx(Re,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(Hs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]})]}),!ps&&r.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-700 flex items-center gap-2",children:[r.jsx(Xs,{className:"w-3 h-3"}),"Some documents are missing"]}),ps&&r.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-xs text-green-700 flex items-center gap-2",children:[r.jsx(Re,{className:"w-3 h-3"}),"All documents are valid"]})]}):r.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700 flex items-center gap-2",children:[r.jsx(ot,{className:"w-4 h-4"}),"No documents uploaded yet"]})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>$(L),className:"px-5 py-3.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[r.jsx(Zt,{className:"w-5 h-5"}),"View Profile"]}),r.jsxs("button",{onClick:()=>X(L),className:"px-5 py-3.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[r.jsx(Ut,{className:"w-5 h-5"}),"Download CV"]})]})})]})]},L.id)})}):r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:r.jsx("p",{className:"text-gray-600 text-center",children:"Table view coming soon..."})}),pe&&K&&r.jsx(tg,{candidate:K,initialTab:_e,onClose:()=>{xe(!1),le(null)},onDocumentChange:()=>{Ee()}})]})}function ag(i){const s=(i||"").trim();if(!s)return"??";const n=s.split(/\s+/).filter(Boolean),l=n[0]?.[0]||"",c=n[1]?.[0]||n[0]?.[1]||"";return`${l}${c}`.toUpperCase()}function ig(){const[i,s]=D.useState([]),[n,l]=D.useState(!0),[c,d]=D.useState(null),[p,f]=D.useState("");D.useEffect(()=>{let x=!0;return(async()=>{try{const y=await Ge.getCandidates();x&&s(y.candidates||[])}catch(y){x&&d(y?.message||"Failed to load candidates")}finally{x&&l(!1)}})(),()=>{x=!1}},[]);const m=D.useMemo(()=>{if(!p)return i;const x=p.toLowerCase();return i.filter(y=>y.name.toLowerCase().includes(x)||y.position?.toLowerCase().includes(x)||y.email?.toLowerCase().includes(x)||y.country_of_interest?.toLowerCase().includes(x))},[i,p]);return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):c?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),r.jsx("p",{className:"text-red-700 mb-4",children:c}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidate Browser"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Browse and search all candidates"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Candidates"}),r.jsx("div",{className:"text-2xl font-bold",children:i.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search by name, position, email, or country...",value:p,onChange:x=>f(x.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",m.length," of ",i.length," candidates"]})]}),m.length===0?r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Br,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No candidates found"}),r.jsx("p",{className:"text-gray-600",children:p?"Try adjusting your search terms":"Add candidates to see them here"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(x=>{const y=(x.status||"Applied").toString(),w=x.ai_score;return r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 hover:border-blue-400 hover:shadow-xl transition-all overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 h-24 relative",children:r.jsx("div",{className:"absolute -bottom-10 left-6",children:r.jsx("div",{className:"w-20 h-20 bg-white rounded-full p-1.5 shadow-xl",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-2xl font-bold text-blue-600",children:ag(x.name)})})})}),r.jsxs("div",{className:"pt-14 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:x.name}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[r.jsx(Xt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:x.position||"Position not set"})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200",children:[r.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-medium ${y==="Applied"?"bg-blue-100 text-blue-700":y==="Pending"?"bg-yellow-100 text-yellow-700":y==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y}),w!=null&&r.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg",children:[r.jsx(bi,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),r.jsx("span",{className:"text-xs font-bold text-gray-900",children:w.toFixed(1)})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[x.email&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded flex items-center justify-center",children:r.jsx(mt,{className:"w-3 h-3 text-green-600"})}),r.jsx("span",{className:"text-gray-700 truncate",children:x.email})]}),x.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded flex items-center justify-center",children:r.jsx(rn,{className:"w-3 h-3 text-blue-600"})}),r.jsx("span",{className:"text-gray-700",children:x.phone})]}),x.country_of_interest&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded flex items-center justify-center",children:r.jsx(vr,{className:"w-3 h-3 text-purple-600"})}),r.jsx("span",{className:"text-gray-700",children:x.country_of_interest})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Documents:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[x.cv_received&&r.jsx(Re,{className:"w-4 h-4 text-green-500"}),x.passport_received&&r.jsx(Re,{className:"w-4 h-4 text-green-500"}),x.photo_received&&r.jsx(Re,{className:"w-4 h-4 text-green-500"}),!x.cv_received&&!x.passport_received&&!x.photo_received&&r.jsx("span",{className:"text-gray-400",children:"None uploaded"})]})]})]})]},x.id)})})]})}function lg(){const[i,s]=D.useState(""),[n,l]=D.useState(null),c=async(p,f)=>{l(p);try{await new Promise(y=>setTimeout(y,1500));const m=`
EMPLOYER SAFE CV - ${f}
Generated on: ${new Date().toLocaleDateString()}

Company: ${f}
CV Type: Employer Safe CV (Redacted Candidate Information)

This CV has been generated by Falisha Manpower recruitment system.
All sensitive candidate information has been removed for employer safety.
Only relevant professional information is displayed.

Features:
- Candidate anonymization
- Professional profile summary
- Skills and experience highlights
- Available position matches
- Confidential contact information

For more information, please contact:
Falisha Manpower
Phone: +92330 3333335
Email: falishamanpower4035@gmail.com
      `,x=document.createElement("a");x.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(m)),x.setAttribute("download",`EmployerCV_${f.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.txt`),document.body.appendChild(x),x.click(),document.body.removeChild(x)}catch(m){console.error("Error generating CV:",m),alert("Failed to generate CV. Please try again.")}finally{l(null)}},d=qs.filter(p=>p.companyName.toLowerCase().includes(i.toLowerCase())||p.country.toLowerCase().includes(i.toLowerCase())||p.contactPerson.toLowerCase().includes(i.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Employer Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage your employer database and relationships"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(Si,{className:"w-4 h-4"}),"Add Employer"]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search by company name, country, or contact person...",value:i,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(p=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:r.jsx(_i,{className:"w-6 h-6"})}),p.activeJobs>0&&r.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[p.activeJobs," Active Jobs"]})]}),r.jsx("h3",{className:"text-white",children:p.companyName}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(vr,{className:"w-4 h-4"}),r.jsx("p",{className:"text-sm text-blue-100",children:p.country})]})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contact Person"}),r.jsx("p",{className:"text-sm",children:p.contactPerson})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(mt,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),r.jsx("p",{className:"text-sm break-all",children:p.email})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(rn,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),r.jsx("p",{className:"text-sm",children:p.phone})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Xt,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Hiring Categories"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.categories.slice(0,3).map((f,m)=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:f},m)),p.categories.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",p.categories.length-3," more"]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 p-4 flex gap-2",children:[r.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4"}),"View Details"]}),r.jsx("button",{onClick:()=>c(p.id,p.companyName),disabled:n===p.id,className:"flex-1 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",title:"Generate safe CV for this employer",children:n===p.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ut,{className:"w-4 h-4"}),"Generate CV"]})})]})]},p.id))}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"mb-4",children:"Employer Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Total Employers"}),r.jsx("p",{className:"text-2xl text-blue-900",children:qs.length})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Active Jobs"}),r.jsx("p",{className:"text-2xl text-green-900",children:qs.reduce((p,f)=>p+f.activeJobs,0)})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Countries"}),r.jsx("p",{className:"text-2xl text-purple-900",children:new Set(qs.map(p=>p.country)).size})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-orange-600 mb-1",children:"Categories"}),r.jsx("p",{className:"text-2xl text-orange-900",children:new Set(qs.flatMap(p=>p.categories)).size})]})]})]})]})}function og(){const[i,s]=D.useState(""),[n,l]=D.useState("all"),c=cs.filter(d=>{const p=d.position.toLowerCase().includes(i.toLowerCase())||d.employerName.toLowerCase().includes(i.toLowerCase())||d.country.toLowerCase().includes(i.toLowerCase()),f=n==="all"||d.status===n;return p&&f});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Job Order Management"}),r.jsx("p",{className:"text-gray-600",children:"Track and manage all job orders from employers"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(Si,{className:"w-4 h-4"}),"Create Job Order"]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search by position, employer, or country...",value:i,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:n,onChange:d=>l(d.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Closed",children:"Closed"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(d=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Xt,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white mb-1",children:d.position}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-100",children:[r.jsx(_i,{className:"w-4 h-4"}),d.employerName]})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${d.status==="Open"?"bg-white bg-opacity-20":"bg-gray-500"}`,children:d.status})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(vr,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Location"}),r.jsx("p",{className:"text-sm",children:d.country})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ff,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Salary"}),r.jsx("p",{className:"text-sm",children:d.salary})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(er,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Required"}),r.jsxs("p",{className:"text-sm",children:[d.candidates," candidates"]})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ot,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Urgency"}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs inline-block ${d.urgency==="High"?"bg-red-100 text-red-700":d.urgency==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:d.urgency})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Required Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.skills.slice(0,3).map((p,f)=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:p},f)),d.skills.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",d.skills.length-3," more"]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-100",children:["Created on ",d.createdDate]})]}),r.jsxs("div",{className:"border-t border-gray-200 p-4 flex gap-2",children:[r.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[r.jsx(er,{className:"w-4 h-4"}),"View Matches"]}),r.jsxs("button",{className:"flex-1 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4"}),"Details"]})]})]},d.id))}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"mb-4",children:"Job Order Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Open Jobs"}),r.jsx("p",{className:"text-2xl text-green-900",children:cs.filter(d=>d.status==="Open").length})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Total Candidates"}),r.jsx("p",{className:"text-2xl text-blue-900",children:cs.reduce((d,p)=>d+p.candidates,0)})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-red-600 mb-1",children:"High Urgency"}),r.jsx("p",{className:"text-2xl text-red-900",children:cs.filter(d=>d.urgency==="High"&&d.status==="Open").length})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Closed Jobs"}),r.jsx("p",{className:"text-2xl text-gray-900",children:cs.filter(d=>d.status==="Closed").length})]})]})]})]})}function cg(){const[i,s]=D.useState("daily"),n=Ve.length,l=Ve.filter(y=>y.status==="Deployed").length,c=Ve.filter(y=>y.status==="Pending").length,d=Ve.filter(y=>y.status==="Applied").length,p=Ve.reduce((y,w)=>(y[w.country]=(y[w.country]||0)+1,y),{}),f=Ve.reduce((y,w)=>(y[w.position]=(y[w.position]||0)+1,y),{}),m=Ve.reduce((y,w)=>(y[w.source]=(y[w.source]||0)+1,y),{}),x=[{id:"daily",name:"Daily Activity Report",description:"New candidates, status changes, and daily metrics",icon:yr,color:"blue"},{id:"country",name:"Country-wise Report",description:"Applications breakdown by destination country",icon:Cf,color:"green"},{id:"position",name:"Position-wise Report",description:"Applications breakdown by trade/position",icon:rh,color:"purple"},{id:"source",name:"Source Analysis",description:"Application sources and conversion rates",icon:Ih,color:"orange"},{id:"employer",name:"Employer Pipeline",description:"Job orders and fulfillment status",icon:Yt,color:"red"},{id:"status",name:"Status Summary",description:"Candidate status workflow and timeline",icon:rh,color:"indigo"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Reports & Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Generate and export detailed reports"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(yr,{className:"w-4 h-4"}),"Select Date Range"]}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Export All"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Applications"}),r.jsx("p",{className:"text-3xl mb-1",children:n}),r.jsx("p",{className:"text-sm text-green-600",children:"All time"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Deployed"}),r.jsx("p",{className:"text-3xl mb-1",children:l}),r.jsxs("p",{className:"text-sm text-gray-500",children:[(l/n*100).toFixed(1),"% success rate"]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"In Progress"}),r.jsx("p",{className:"text-3xl mb-1",children:c}),r.jsx("p",{className:"text-sm text-yellow-600",children:"Pending review"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Applications"}),r.jsx("p",{className:"text-3xl mb-1",children:d}),r.jsx("p",{className:"text-sm text-blue-600",children:"Ready to process"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(y=>{const w=y.icon,_={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600",red:"bg-red-100 text-red-600",indigo:"bg-indigo-100 text-indigo-600"};return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${_[y.color]}`,children:r.jsx(w,{className:"w-6 h-6"})}),r.jsx("h3",{className:"mb-2",children:y.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.description}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"flex-1 px-3 py-2 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"View"}),r.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:r.jsx(Ut,{className:"w-4 h-4"})})]})]})},y.id)})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{children:"Country-wise Distribution"}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Export to Excel"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Country"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Total Candidates"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Percentage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Visual"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(p).sort((y,w)=>w[1]-y[1]).map(([y,w])=>{const _=w/n*100;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:y}),r.jsx("td",{className:"px-6 py-4",children:w}),r.jsxs("td",{className:"px-6 py-4",children:[_.toFixed(1),"%"]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-xs",children:r.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${_}%`}})})})]},y)})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{children:"Position-wise Distribution"}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Export to Excel"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(f).sort((y,w)=>w[1]-y[1]).map(([y,w])=>{const _=w/n*100;return r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm",children:y}),r.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:w})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${_}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[_.toFixed(1),"% of total"]})]},y)})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"mb-6",children:"Application Source Analysis"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(m).map(([y,w])=>{const _=w/n*100;return r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y}),r.jsx("p",{className:"text-3xl mb-1",children:w}),r.jsxs("p",{className:"text-sm text-gray-500",children:[_.toFixed(1),"%"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-3",children:r.jsx("div",{className:"h-1 rounded-full bg-indigo-500",style:{width:`${_}%`}})})]},y)})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[r.jsx("h3",{className:"text-blue-900 mb-4",children:"AI Generated Summary (Daily Report)"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Applications:"})," ",d," new candidates today. Peak application time: 10 AM - 2 PM. Most common source: ",Object.entries(m).sort((y,w)=>w[1]-y[1])[0][0],"."]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Top Demand:"})," ",Object.entries(p).sort((y,w)=>w[1]-y[1])[0][0]," ","is the most requested destination with ",Object.entries(p).sort((y,w)=>w[1]-y[1])[0][1]," candidates."]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Positions:"})," ",Object.entries(f).sort((y,w)=>w[1]-y[1])[0][0]," ","has the highest applications (",Object.entries(f).sort((y,w)=>w[1]-y[1])[0][1]," candidates)."]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Recommendation:"})," Focus recruitment efforts on ",Object.entries(f).sort((y,w)=>y[1]-w[1])[0][0]," ","positions as they have lower application rates but high demand from employers."]})})]})]})]})}function ug(){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure your recruitment portal preferences"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(xr,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"WhatsApp Integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Automated candidate intake via WhatsApp"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Auto-reply to new messages"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Send automated greeting and application link"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Follow-up reminders"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-send reminders to incomplete applications"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Status notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Notify candidates of status changes"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(mt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"Email Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure email automation and CV import"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Email Address for CV Import"}),r.jsx("input",{type:"email",defaultValue:"cvs@falishamanpower.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Auto-import CVs from inbox"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically process CV attachments"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Daily analytics email"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Send daily reports to management"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(G0,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"AI Features"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure AI-powered automation"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI CV Parsing"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically extract data from CVs"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI Candidate Matching"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-match candidates to job orders"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI Insights & Recommendations"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Get AI-powered recruitment insights"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI Employer CV Generation"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-generate employer-safe CVs"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(vf,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage notification preferences"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"New candidate notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Get notified of new applications"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Job order updates"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Notifications for new job orders"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI matching alerts"}),r.jsx("p",{className:"text-xs text-gray-500",children:"When AI finds high-scoring matches"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:r.jsx(er,{className:"w-5 h-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"User Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage admin users and permissions"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600",children:"A"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500",children:"admin@falishamanpower.com"})]})]}),r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Super Admin"})]}),r.jsx("button",{className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Add New User"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Mf,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-900",children:"System Information"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Portal status and configuration"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Version"}),r.jsx("p",{className:"text-sm",children:"v1.0.0 (Premium Edition)"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Database Status"}),r.jsx("p",{className:"text-sm text-green-600",children:" Connected"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"AI Service"}),r.jsx("p",{className:"text-sm text-green-600",children:" Active"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"WhatsApp Integration"}),r.jsx("p",{className:"text-sm text-green-600",children:" Connected"})]})]})]})]})}function $h(){const[i,s]=D.useState({fullName:"",email:"",phone:"",nationality:"",countryOfInterest:"",position:"",experience:"",passportNumber:"",passportExpiry:"",passportAvailable:"yes",currentLocation:"",languages:"",skills:"",additionalInfo:""}),[n,l]=D.useState(null),[c,d]=D.useState(!1),[p,f]=D.useState({}),m=["UAE","Saudi Arabia","Qatar","Oman","Kuwait","Bahrain","Malaysia","Singapore","Other"],x=["Electrician","Plumber","Mason","Carpenter","Welder","Steel Fixer","Heavy Driver","Light Driver","Painter","HVAC Technician","Mechanic","Chef/Cook","Waiter","Cleaner","Security Guard","Warehouse Worker","Other"],y=["Pakistan","India","Bangladesh","Sri Lanka","Nepal","Philippines","Indonesia","Egypt","Kenya","Uganda","Other"],w=b=>{const{name:T,value:U}=b.target;s(W=>({...W,[T]:U})),p[T]&&f(W=>({...W,[T]:""}))},_=b=>{b.target.files&&b.target.files[0]&&(l(b.target.files[0]),p.cvFile&&f(T=>({...T,cvFile:""})))},S=()=>{const b={};return i.fullName.trim()||(b.fullName="Full name is required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(b.email="Email is invalid"):b.email="Email is required",i.phone.trim()||(b.phone="Phone number is required"),i.nationality||(b.nationality="Nationality is required"),i.countryOfInterest||(b.countryOfInterest="Country of interest is required"),i.position||(b.position="Position is required"),i.experience||(b.experience="Experience is required"),n||(b.cvFile="CV/Resume is required"),f(b),Object.keys(b).length===0},O=b=>{if(b.preventDefault(),!S()){const T=document.querySelector(".border-red-500");T&&T.scrollIntoView({behavior:"smooth",block:"center"});return}console.log("Form Data:",i),console.log("CV File:",n),d(!0),window.scrollTo({top:0,behavior:"smooth"})};return c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Re,{className:"w-10 h-10 text-green-600"})}),r.jsx("h2",{className:"text-green-600 mb-4",children:"Application Submitted Successfully!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for applying with Falisha Manpower. We have received your application and will review it shortly."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"What's Next?"}),r.jsx("br",{}),"Our recruitment team will review your profile within 2-3 business days. We'll contact you via WhatsApp or email if your profile matches any of our current job openings."]})}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Application Reference: ",r.jsxs("strong",{children:["FM",Date.now().toString().slice(-6)]})]}),r.jsx("button",{onClick:()=>{d(!1),s({fullName:"",email:"",phone:"",nationality:"",countryOfInterest:"",position:"",experience:"",passportNumber:"",passportExpiry:"",passportAvailable:"yes",currentLocation:"",languages:"",skills:"",additionalInfo:""}),l(null)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another Application"})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4",children:"FM"}),r.jsx("h1",{className:"text-blue-600 mb-2",children:"Falisha Manpower"}),r.jsx("h2",{className:"mb-2",children:"Job Application Form"}),r.jsx("p",{className:"text-gray-600",children:"Fill out this form to apply for overseas employment opportunities"})]}),r.jsxs("form",{onSubmit:O,className:"bg-white rounded-lg shadow-lg p-6 md:p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Dh,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:w,placeholder:"Enter your full name",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.fullName?"border-red-500":"border-gray-300"}`}),p.fullName&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.fullName]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(mt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"email",name:"email",value:i.email,onChange:w,placeholder:"your.email@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.email?"border-red-500":"border-gray-300"}`})]}),p.email&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.email]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Phone Number (with country code) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(rn,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:w,placeholder:"+92 300 1234567",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.phone?"border-red-500":"border-gray-300"}`})]}),p.phone&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.phone]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Nationality ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(xi,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsxs("select",{name:"nationality",value:i.nationality,onChange:w,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.nationality?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select nationality"}),y.map(b=>r.jsx("option",{value:b,children:b},b))]})]}),p.nationality&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.nationality]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Current Location/City"}),r.jsx("input",{type:"text",name:"currentLocation",value:i.currentLocation,onChange:w,placeholder:"e.g., Lahore, Pakistan",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Job Preferences"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Country of Interest ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(vr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsxs("select",{name:"countryOfInterest",value:i.countryOfInterest,onChange:w,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.countryOfInterest?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select country"}),m.map(b=>r.jsx("option",{value:b,children:b},b))]})]}),p.countryOfInterest&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.countryOfInterest]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Position/Trade ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"position",value:i.position,onChange:w,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.position?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select position"}),x.map(b=>r.jsx("option",{value:b,children:b},b))]}),p.position&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.position]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Years of Experience ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"experience",value:i.experience,onChange:w,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.experience?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select experience"}),r.jsx("option",{value:"0-1",children:"0-1 years"}),r.jsx("option",{value:"1-3",children:"1-3 years"}),r.jsx("option",{value:"3-5",children:"3-5 years"}),r.jsx("option",{value:"5-10",children:"5-10 years"}),r.jsx("option",{value:"10+",children:"10+ years"})]}),p.experience&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.experience]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Skills & Certifications"}),r.jsx("textarea",{name:"skills",value:i.skills,onChange:w,placeholder:"List your relevant skills, certifications, licenses (e.g., TIG Welding, Safety Certificate, Heavy Equipment License)",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Languages Known"}),r.jsx("input",{type:"text",name:"languages",value:i.languages,onChange:w,placeholder:"e.g., English, Urdu, Arabic",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Passport Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Do you have a valid passport?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"passportAvailable",value:"yes",checked:i.passportAvailable==="yes",onChange:w,className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm",children:"Yes"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"passportAvailable",value:"no",checked:i.passportAvailable==="no",onChange:w,className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm",children:"No"})]})]})]}),i.passportAvailable==="yes"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Passport Number"}),r.jsx("input",{type:"text",name:"passportNumber",value:i.passportNumber,onChange:w,placeholder:"e.g., AB1234567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Passport Expiry Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(yr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"date",name:"passportExpiry",value:i.passportExpiry,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(en,{className:"w-5 h-5 text-blue-600"}),"CV/Resume Upload"]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Upload Your CV/Resume ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${p.cvFile?"border-red-500 bg-red-50":"border-gray-300 hover:border-blue-500"} transition-colors`,children:[r.jsx(en,{className:`w-12 h-12 mx-auto mb-3 ${p.cvFile?"text-red-400":"text-gray-400"}`}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-blue-600 hover:text-blue-700",children:"Click to upload"}),r.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),r.jsx("input",{type:"file",onChange:_,accept:".pdf,.doc,.docx",className:"hidden"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PDF, DOC, DOCX (Max 5MB)"}),n&&r.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg",children:[r.jsx(Re,{className:"w-4 h-4"}),n.name]})]}),p.cvFile&&r.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[r.jsx(ot,{className:"w-4 h-4"})," ",p.cvFile]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"mb-4",children:"Additional Information"}),r.jsx("textarea",{name:"additionalInfo",value:i.additionalInfo,onChange:w,placeholder:"Any additional information you'd like to share...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Re,{className:"w-5 h-5"}),"Submit Application"]}),r.jsx("p",{className:"text-sm text-gray-500 text-center mt-4",children:"By submitting this form, you agree to our terms and conditions"})]})]}),r.jsxs("div",{className:"text-center mt-6 text-gray-600",children:[r.jsx("p",{className:"text-sm",children:" 2025 Falisha Manpower. All rights reserved."}),r.jsx("p",{className:"text-sm mt-2",children:"Need help? Contact us via WhatsApp or email"})]})]})})}function dg({onClose:i}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",children:r.jsxs("div",{className:"min-h-screen relative",children:[r.jsx("button",{onClick:i,className:"fixed top-4 right-4 z-50 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",title:"Close Preview",children:r.jsx(tn,{className:"w-6 h-6"})}),r.jsx($h,{})]})})}function hg(){const[i,s]=D.useState(!1),[n,l]=D.useState(!1),[c,d]=D.useState(!1),p="https://falishamanpower.com/apply",f=()=>{navigator.clipboard.writeText(p),s(!0),setTimeout(()=>s(!1),2e3)},m=()=>{const _=encodeURIComponent(` *Overseas Job Opportunity* 

Apply now with Falisha Manpower for employment in Gulf countries!

 Fill out our online application form:
${p}

We're currently recruiting for positions in UAE, Saudi Arabia, Qatar, and more.

Apply today!`);window.open(`https://wa.me/?text=${_}`,"_blank")},x=()=>{const _=encodeURIComponent("Apply for Overseas Employment - Falisha Manpower"),S=encodeURIComponent(`Dear Candidate,

Thank you for your interest in overseas employment opportunities.

Please complete our online application form at:
${p}

We are currently recruiting for various positions in Gulf countries including UAE, Saudi Arabia, Qatar, Oman, and more.

Best regards,
Falisha Manpower Team`);window.location.href=`mailto:?subject=${_}&body=${S}`},y=()=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(p)}`,w=()=>{const _=document.createElement("a");_.href=y(),_.download="falisha-application-qr.png",document.body.appendChild(_),_.click(),document.body.removeChild(_)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Application Form Link"}),r.jsx("p",{className:"text-gray-600",children:"Share this link with candidates to collect applications"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm mb-3",children:"Public Application Form URL"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Xo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",value:p,readOnly:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none"})]}),r.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(ki,{className:"w-4 h-4"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Oh,{className:"w-4 h-4"}),"Copy"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:m,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(xr,{className:"w-6 h-6 text-green-600"})}),r.jsx("h3",{className:"mb-2",children:"Share via WhatsApp"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send the application link directly via WhatsApp"})]}),r.jsxs("button",{onClick:x,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(mt,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"mb-2",children:"Share via Email"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Email the application link to candidates"})]}),r.jsxs("button",{onClick:()=>l(!n),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(sh,{className:"w-6 h-6 text-purple-600"})}),r.jsx("h3",{className:"mb-2",children:"Generate QR Code"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create a scannable QR code for the form"})]})]}),n&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{children:"QR Code"}),r.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[r.jsx(sh,{className:"w-4 h-4"}),"Download QR Code"]})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg border-2 border-gray-200 mb-4",children:r.jsx("img",{src:y(),alt:"Application Form QR Code",className:"w-64 h-64"})}),r.jsx("p",{className:"text-sm text-gray-600 text-center max-w-md",children:"Print this QR code and display it at your office, recruitment centers, or share it on social media. Candidates can scan it to directly access the application form."})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[r.jsx("h3",{className:"text-blue-900 mb-4",children:"How to Use"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"1"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Share the Link:"})," Copy and paste the URL in your WhatsApp status, Facebook posts, or send directly to candidates"]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"2"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Use QR Code:"})," Print the QR code and display it at your office or recruitment centers for easy scanning"]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"3"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Track Applications:"})," All submissions will automatically appear in the Candidate Management section"]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"4"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Mobile Friendly:"})," The form is fully optimized for mobile devices - candidates can apply from their phones"]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"mb-4",children:"Preview Form"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"See how the application form looks to candidates before sharing"}),r.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(Zt,{className:"w-4 h-4"}),"Open Form Preview"]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Application Form Preview"}),r.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx(dg,{})]})})]})}function pg(){const[i,s]=D.useState([]),[n,l]=D.useState("all"),[c,d]=D.useState(!1),[p,f]=D.useState(null),[m,x]=D.useState(!1),y=D.useRef(null),w=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`web-${Date.now()}-${Math.random().toString(16).slice(2)}`;D.useEffect(()=>{_().catch(()=>{})},[]);async function _(){d(!0),f(null);try{const{messages:P}=await as.listInboxMessages({limit:25,offset:0}),K=Object.fromEntries(P.map(xe=>[xe.id,xe])),le=await Promise.all(P.map(xe=>as.listAttachments(xe.id).catch(()=>[]))),pe=[];for(let xe=0;xe<P.length;xe++){const _e=P[xe],je=le[xe]||[];for(const we of je)pe.push({id:we.id,messageId:_e.id,fileName:we.file_name||"Attachment",source:_e.source==="whatsapp"?"WhatsApp":_e.source==="email"?"Email":_e.source==="web"?"Web Form":"Unknown",senderName:_e.payload?.sender_name||"Unknown",senderContact:_e.payload?.sender_contact||"Unknown",receivedDate:_e.received_at?new Date(_e.received_at).toLocaleString():"-",fileSize:"-",status:we.candidate_id?"extracted":"queued",candidateId:we.candidate_id||void 0})}s(pe)}catch(P){f(P?.message||"Failed to load CV inbox")}finally{d(!1)}}async function S(P){s(K=>K.map(le=>le.id===P?{...le,status:"processing",errorMessage:void 0}:le));try{const le=(await as.triggerParsing(P)).job_id;s(pe=>pe.map(xe=>xe.id===P?{...xe,jobId:le,status:"processing"}:xe)),O(le,P)}catch(K){s(le=>le.map(pe=>pe.id===P?{...pe,status:"error",errorMessage:`Processing not available: ${K?.message||"unknown error"}`}:pe))}}async function O(P,K){let le=0;const pe=60,xe=setInterval(async()=>{le+=1;try{const _e=await as.getParsingJob(P);_e.status==="completed"?(clearInterval(xe),s(je=>je.map(we=>we.id===K?{...we,status:"extracted",candidateId:_e.candidate_id||we.candidateId}:we))):_e.status==="failed"?(clearInterval(xe),s(je=>je.map(we=>we.id===K?{...we,status:"error",errorMessage:_e.error_message||"Parsing failed"}:we))):s(je=>je.map(we=>we.id===K?{...we,status:_e.status}:we))}catch(_e){clearInterval(xe),s(je=>je.map(we=>we.id===K?{...we,status:"error",errorMessage:`Status check failed: ${_e?.message||"unknown error"}`}:we))}le>=pe&&(clearInterval(xe),s(_e=>_e.map(je=>je.id===K?{...je,status:"error",errorMessage:"Processing timeout"}:je)))},2e3)}const b=P=>new Promise((K,le)=>{const pe=new FileReader;pe.onload=()=>K(pe.result.split(",").pop()||""),pe.onerror=()=>le(pe.error),pe.readAsDataURL(P)}),T=()=>{y.current?.click()},U=async P=>{const K=P.target.files?.[0];if(K){x(!0),f(null);try{const le=await b(K),pe=await as.createInboxMessage({source:"web",status:"received",received_at:new Date().toISOString(),external_message_id:w(),payload:{sender_name:"Manual Upload",sender_contact:"web"}}),xe=await as.uploadAttachment(pe.id,{file_base64:le,file_name:K.name,mime_type:K.type||"application/octet-stream",attachment_type:"manual_upload",storage_bucket:"documents",storage_path:`inbox/${K.name}`}),_e={id:xe.id,messageId:pe.id,fileName:xe.file_name||K.name,source:"Web Form",senderName:"Manual Upload",senderContact:"web",receivedDate:new Date().toLocaleString(),fileSize:`${(K.size/1024).toFixed(1)} KB`,status:"queued",candidateId:xe.candidate_id||void 0};s(je=>[_e,...je]),await S(xe.id)}catch(le){f(le?.message||"Manual upload failed")}finally{x(!1),P.target.value=""}}},W=async P=>{if(!window.confirm("Delete this CV from inbox?"))return;f(null);const le=i;s(pe=>pe.filter(xe=>xe.id!==P));try{await as.deleteAttachment(P)}catch(pe){f(pe?.message||"Failed to delete CV"),s(le)}},B=P=>{S(P)},G=n==="all"?i:i.filter(P=>P.status===n),M={total:i.length,processing:i.filter(P=>P.status==="processing"||P.status==="queued").length,extracted:i.filter(P=>P.status==="extracted").length,errors:i.filter(P=>P.status==="error").length,needsReview:i.filter(P=>P.status==="extracted"&&(P.confidence||0)<85).length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl",children:"CV Inbox"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Automatic AI extraction - CVs become candidates instantly"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{ref:y,type:"file",accept:".pdf,.doc,.docx,.txt,.rtf",className:"hidden",onChange:U}),r.jsxs("button",{onClick:T,disabled:m,className:`bg-blue-600 text-white px-6 py-3 rounded-lg transition-colors flex items-center gap-2 shadow-lg ${m?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,children:[r.jsx(en,{className:"w-5 h-5"}),m?"Uploading...":"Upload CV"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Total CVs"}),r.jsx(Lh,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:M.total}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"All time"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Processing"}),r.jsx(yi,{className:"w-6 h-6 opacity-80 animate-pulse"})]}),r.jsx("div",{className:"text-3xl font-bold",children:M.processing}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"AI extracting now..."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Extracted"}),r.jsx(Re,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:M.extracted}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Now candidates"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Needs Review"}),r.jsx(Xs,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:M.needsReview}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Low confidence"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Errors"}),r.jsx(Xs,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:M.errors}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Need manual fix"})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>l("all"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="all"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",M.total,")"]})]}),r.jsxs("button",{onClick:()=>l("processing"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="processing"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Processing ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",M.processing,")"]})]}),r.jsxs("button",{onClick:()=>l("extracted"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="extracted"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Extracted ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",M.extracted,")"]})]}),r.jsxs("button",{onClick:()=>l("error"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="error"?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Errors ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",M.errors,")"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto",children:[c&&r.jsx("div",{className:"p-4 text-sm text-gray-600",children:"Loading inbox..."}),p&&r.jsx("div",{className:"p-4 text-sm text-red-600",children:p}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"CV Details"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Source"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Sender Info"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Received"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:G.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${P.status==="processing"||P.status==="queued"?"bg-blue-100 animate-pulse":P.status==="extracted"?"bg-green-100":"bg-red-100"}`,children:r.jsx(Yt,{className:`w-5 h-5 ${P.status==="processing"||P.status==="queued"?"text-blue-600":P.status==="extracted"?"text-green-600":"text-red-600"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:P.fileName}),r.jsx("p",{className:"text-sm text-gray-500",children:P.fileSize}),P.status==="error"&&P.errorMessage&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:P.errorMessage})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[P.source==="WhatsApp"&&r.jsxs(r.Fragment,{children:[r.jsx(xr,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-700 font-medium",children:"WhatsApp"})]}),P.source==="Email"&&r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Email"})]}),P.source==="Web Form"&&r.jsxs(r.Fragment,{children:[r.jsx(en,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm text-purple-700 font-medium",children:"Web Form"})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.senderName}),r.jsx("p",{className:"text-sm text-gray-500",children:P.senderContact})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(yr,{className:"w-4 h-4"}),P.receivedDate]})}),r.jsxs("td",{className:"px-6 py-4",children:[(P.status==="processing"||P.status==="queued")&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(yi,{className:"w-3 h-3 animate-spin"}),P.status==="queued"?"Queued":"AI Processing..."]})}),P.status==="extracted"&&r.jsxs("div",{children:[r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1 w-fit mb-1",children:[r.jsx(Re,{className:"w-3 h-3"}),"Extracted"]}),P.confidence&&r.jsxs("div",{className:"text-xs text-gray-600",children:["Confidence: ",r.jsxs("span",{className:`font-semibold ${P.confidence>=85?"text-green-600":"text-yellow-600"}`,children:[P.confidence,"%"]})]})]}),P.status==="error"&&r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium flex items-center gap-1 w-fit",children:[r.jsx(Xs,{className:"w-3 h-3"}),"Error"]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[P.status==="extracted"&&P.candidateId&&r.jsxs("button",{onClick:()=>window.location.hash="candidates",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm",children:[r.jsx(Zt,{className:"w-4 h-4"}),"View Candidate"]}),P.status==="error"&&r.jsx("button",{onClick:()=>B(P.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Retry Extraction"}),P.status!=="extracted"&&P.status!=="processing"&&r.jsxs("button",{onClick:()=>S(P.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:[r.jsx(b0,{className:"w-4 h-4"}),"Process CV"]}),r.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Download",children:r.jsx(Ut,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>W(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete CV",children:r.jsx($0,{className:"w-4 h-4"})})]})})]},P.id))})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:r.jsx(yi,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" Fully Automatic AI Processing"}),r.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"When a CV arrives from WhatsApp, Email, or Web Form, our AI automatically:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 text-sm mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"1"}),"Reads the CV file"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"2"}),"Extracts all data"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"3"}),"Creates candidate profile"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"4"}),"Flags if needs review"]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:" What happens next:"})," The candidate automatically appears in ",r.jsx("strong",{children:"Candidate Management"})," with a ",r.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Needs Review"})," badge if confidence is low. You can then review and fix any missing fields."]})})]})]})})]})}const mg=[{id:"tmpl-001",name:"CV Received - WhatsApp",type:"WhatsApp",trigger:"CV Received",message:` Thank you {name}!

We have received your CV for the position of {position}.

 Your application details:
 Name: {name}
 Position: {position}
 Country of Interest: {country}

Our team will review your profile and contact you within 2-3 business days.

 Track your application: falisha.com/track/{id}

Best regards,
Falisha Manpower`,variables:["name","position","country","id"],autoSend:!0,active:!0,usageCount:1247},{id:"tmpl-002",name:"CV Received - Email",type:"Email",trigger:"CV Received",subject:"Application Received - {position} Position",message:`Dear {name},

Thank you for applying to Falisha Manpower for the position of {position}.

We have successfully received your CV and it is now under review by our recruitment team.

Application Details:
- Position Applied: {position}
- Country of Interest: {country}
- Application Date: {date}
- Application ID: {id}

What happens next?
1. Our team will review your profile within 2-3 business days
2. If shortlisted, we will contact you for an interview
3. You can track your application status at: https://falisha.com/track/{id}

If you have any questions, feel free to contact us:
 Phone: +92 300 1234567
 Email: info@falisha.com

Best regards,
Recruitment Team
Falisha Manpower`,variables:["name","position","country","date","id"],autoSend:!0,active:!0,usageCount:892},{id:"tmpl-003",name:"Interview Scheduled - WhatsApp",type:"WhatsApp",trigger:"Interview Scheduled",message:` Great news {name}!

You have been shortlisted for the {position} position.

 Interview Details:
 Date: {interview_date}
 Time: {interview_time}
 Location: {interview_location}

 Please bring:
 Original passport
 Educational certificates
 Experience letters
 2 passport size photos

Reply "CONFIRM" to confirm your attendance.

Good luck!
Falisha Manpower`,variables:["name","position","interview_date","interview_time","interview_location"],autoSend:!1,active:!0,usageCount:156},{id:"tmpl-004",name:"Interview Scheduled - Email",type:"Email",trigger:"Interview Scheduled",subject:"Interview Invitation - {position} Position at Falisha Manpower",message:`Dear {name},

Congratulations! You have been shortlisted for the {position} position.

Interview Details:
------------------
Date: {interview_date}
Time: {interview_time}
Location: {interview_location}
Duration: Approximately 30-45 minutes

Documents Required:
-------------------
1. Original Passport (valid for at least 2 years)
2. Educational Certificates (attested copies)
3. Experience Letters from previous employers
4. Professional Certificates/Licenses
5. Two recent passport-size photographs
6. Copy of this email

Interview Format:
-----------------
The interview will consist of:
- Skills assessment
- Language proficiency test
- Personal interview with HR
- Medical fitness check (if applicable)

Important Notes:
---------------
 Please arrive 15 minutes before your scheduled time
 Dress code: Business casual
 Bring all original documents for verification
 Reply to this email to confirm your attendance

If you need to reschedule, please contact us at least 24 hours in advance.

We look forward to meeting you!

Best regards,
{recruiter_name}
Falisha Manpower
Phone: {office_phone}
Email: {office_email}`,variables:["name","position","interview_date","interview_time","interview_location","recruiter_name","office_phone","office_email"],autoSend:!1,active:!0,usageCount:134},{id:"tmpl-005",name:"Offer Letter - Email",type:"Email",trigger:"Offer Letter",subject:"Job Offer - {position} in {country}",message:`Dear {name},

We are pleased to offer you the position of {position} with our client in {country}.

Job Offer Details:
------------------
Position: {position}
Country: {country}
Employer: {employer_name}
Salary: {salary} per month
Contract Duration: {contract_duration}
Benefits: {benefits}

Next Steps:
-----------
1. Review the attached employment contract
2. Sign and return the contract within 3 days
3. Complete medical examination
4. Submit all required documents
5. Attend pre-departure orientation

Required Documents:
-------------------
 Signed contract
 Medical fitness certificate
 Police clearance certificate
 Educational certificates (attested)
 Passport copy
 Passport-size photographs (6 copies)

Please confirm your acceptance by replying to this email within 48 hours.

Congratulations on your new opportunity!

Best regards,
{recruiter_name}
Falisha Manpower`,variables:["name","position","country","employer_name","salary","contract_duration","benefits","recruiter_name"],autoSend:!1,active:!0,usageCount:67},{id:"tmpl-006",name:"Application Status Update - SMS",type:"SMS",trigger:"Manual",message:"Hi {name}, your application (ID: {id}) for {position} is now {status}. Contact us for details: +92 300 1234567",variables:["name","id","position","status"],autoSend:!1,active:!0,usageCount:423}];function fg(){const[i,s]=D.useState(mg),[n,l]=D.useState(null),[c,d]=D.useState("all"),[p,f]=D.useState(!1),[m,x]=D.useState({name:"Ahmed Hassan",position:"Electrician",country:"UAE",date:"2024-12-13",id:"CND-001",interview_date:"2024-12-20",interview_time:"10:00 AM",interview_location:"Falisha Office, Lahore",recruiter_name:"Sarah Ahmed",office_phone:"+92 300 1234567",office_email:"info@falisha.com",employer_name:"ABC Construction",salary:"1500 AED",contract_duration:"2 years",benefits:"Accommodation, Food, Transportation",status:"Under Review"}),y=c==="all"?i:i.filter(S=>S.type===c),w=S=>{let O=S.message;return Object.entries(m).forEach(([b,T])=>{O=O.replace(new RegExp(`{${b}}`,"g"),T)}),O},_={total:i.length,whatsapp:i.filter(S=>S.type==="WhatsApp").length,email:i.filter(S=>S.type==="Email").length,sms:i.filter(S=>S.type==="SMS").length,auto:i.filter(S=>S.autoSend).length,active:i.filter(S=>S.active).length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl",children:"Communication Templates"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Automated messages for WhatsApp, Email & SMS"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg",children:[r.jsx(Si,{className:"w-5 h-5"}),"Create Template"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),r.jsx(xr,{className:"w-4 h-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-semibold",children:_.total})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-green-700",children:"WhatsApp"}),r.jsx(xr,{className:"w-4 h-4 text-green-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-green-900",children:_.whatsapp})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-blue-700",children:"Email"}),r.jsx(mt,{className:"w-4 h-4 text-blue-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-blue-900",children:_.email})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-purple-700",children:"SMS"}),r.jsx(Eo,{className:"w-4 h-4 text-purple-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-purple-900",children:_.sms})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-2 border-yellow-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-yellow-700",children:"Auto-Send"}),r.jsx(di,{className:"w-4 h-4 text-yellow-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-yellow-900",children:_.auto})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Active"}),r.jsx(Re,{className:"w-4 h-4 text-green-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-green-900",children:_.active})]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg transition-colors ${c==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Templates"}),r.jsxs("button",{onClick:()=>d("WhatsApp"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c==="WhatsApp"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(xr,{className:"w-4 h-4"}),"WhatsApp"]}),r.jsxs("button",{onClick:()=>d("Email"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c==="Email"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(mt,{className:"w-4 h-4"}),"Email"]}),r.jsxs("button",{onClick:()=>d("SMS"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${c==="SMS"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(Eo,{className:"w-4 h-4"}),"SMS"]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(S=>r.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsxs("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${S.type==="WhatsApp"?"bg-green-100":S.type==="Email"?"bg-blue-100":"bg-purple-100"}`,children:[S.type==="WhatsApp"&&r.jsx(xr,{className:"w-6 h-6 text-green-600"}),S.type==="Email"&&r.jsx(mt,{className:"w-6 h-6 text-blue-600"}),S.type==="SMS"&&r.jsx(Eo,{className:"w-6 h-6 text-purple-600"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:S.name}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.type==="WhatsApp"?"bg-green-100 text-green-700":S.type==="Email"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:S.type}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:S.trigger}),S.autoSend&&r.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(di,{className:"w-3 h-3"}),"Auto-Send"]}),S.active&&r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(Re,{className:"w-3 h-3"}),"Active"]})]})]})]})}),S.subject&&r.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded border border-gray-200",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Subject:"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.subject})]}),r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Message:"}),r.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap line-clamp-4 font-mono",children:S.message})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Variables Used:"}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:S.variables.map(O=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-mono",children:`{${O}}`},O))})]}),r.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4 pb-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(di,{className:"w-4 h-4"}),r.jsxs("span",{children:["Used ",S.usageCount," times"]})]})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsxs("button",{onClick:()=>{l(S),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Zt,{className:"w-4 h-4"}),"Preview"]}),r.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Oh,{className:"w-4 h-4"}),"Copy"]}),r.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Mo,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Ei,{className:"w-4 h-4"}),"Delete"]})]})]})},S.id))}),p&&n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Template Preview"}),r.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx("span",{className:"text-2xl",children:""})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-2",children:n.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:n.type}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:n.trigger})]})]}),n.subject&&r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Subject:"}),r.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:w({...n,message:n.subject})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Message:"}),r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded whitespace-pre-wrap",children:w(n)})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:r.jsxs("div",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," This preview uses sample data. Actual messages will use real candidate information."]})})]}),r.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"}),r.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(di,{className:"w-5 h-5"}),"Send Test Message"]})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:r.jsx(Uo,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automated Communication System"}),r.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:['Templates with "Auto-Send" enabled will automatically send messages when triggered. You can use variables like ',"{name}",", ","{position}",", etc. to personalize messages."]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Re,{className:"w-4 h-4 text-green-600"}),"Auto-send on CV received"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Re,{className:"w-4 h-4 text-green-600"}),"Personalized variables"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Re,{className:"w-4 h-4 text-green-600"}),"Multi-channel support"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Re,{className:"w-4 h-4 text-green-600"}),"Usage tracking"]})]})]})]})})]})}const Mh={Admin:{candidates:{view:!0,create:!0,edit:!0,delete:!0,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!0},jobs:{view:!0,create:!0,edit:!0,delete:!0},documents:{view:!0,upload:!0,delete:!0},analytics:{view:!0,export:!0},users:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0}},Manager:{candidates:{view:!0,create:!0,edit:!0,delete:!1,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!1},jobs:{view:!0,create:!0,edit:!0,delete:!1},documents:{view:!0,upload:!0,delete:!1},analytics:{view:!0,export:!0},users:{view:!0,create:!1,edit:!1,delete:!1},settings:{view:!0,edit:!1}},Recruiter:{candidates:{view:!0,create:!0,edit:!0,delete:!1,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!1},jobs:{view:!0,create:!0,edit:!0,delete:!1},documents:{view:!0,upload:!0,delete:!1},analytics:{view:!0,export:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1}},Viewer:{candidates:{view:!0,create:!1,edit:!1,delete:!1,export:!1},employers:{view:!0,create:!1,edit:!1,delete:!1},jobs:{view:!0,create:!1,edit:!1,delete:!1},documents:{view:!0,upload:!1,delete:!1},analytics:{view:!0,export:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1}}},Ms=[{id:"1",name:"Sarah Admin",email:"admin@falisha.com",password:"admin123",role:"Admin",phone:"+1 (555) 100-0001",department:"Management",joinedDate:"2023-01-15",lastActive:"2 minutes ago",status:"Active"},{id:"2",name:"John Recruiter",email:"john@falisha.com",password:"recruiter123",role:"Recruiter",phone:"+1 (555) 100-0002",department:"Recruitment",joinedDate:"2023-03-20",lastActive:"15 minutes ago",status:"Active"},{id:"3",name:"Maria Manager",email:"maria@falisha.com",password:"manager123",role:"Manager",phone:"+1 (555) 100-0003",department:"Operations",joinedDate:"2023-02-10",lastActive:"1 hour ago",status:"Active"},{id:"4",name:"David Viewer",email:"david@falisha.com",password:"viewer123",role:"Viewer",phone:"+1 (555) 100-0004",department:"Support",joinedDate:"2023-06-01",lastActive:"3 hours ago",status:"Active"},{id:"5",name:"Lisa Recruiter",email:"lisa@falisha.com",password:"recruiter123",role:"Recruiter",phone:"+1 (555) 100-0005",department:"Recruitment",joinedDate:"2023-04-15",lastActive:"30 minutes ago",status:"Active"},{id:"6",name:"James Inactive",email:"james@falisha.com",password:"inactive123",role:"Recruiter",phone:"+1 (555) 100-0006",department:"Recruitment",joinedDate:"2023-05-01",lastActive:"2 days ago",status:"Inactive"}];function gg(i){const s=Mh[i.role];return i.permissions?{candidates:{...s.candidates,...i.permissions.candidates},employers:{...s.employers,...i.permissions.employers},jobs:{...s.jobs,...i.permissions.jobs},documents:{...s.documents,...i.permissions.documents},analytics:{...s.analytics,...i.permissions.analytics},users:{...s.users,...i.permissions.users},settings:{...s.settings,...i.permissions.settings}}:s}function xg(i,s,n){return gg(i)[s]?.[n]||!1}function Ci(i,s){var n={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.indexOf(l)<0&&(n[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(i);c<l.length;c++)s.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(i,l[c])&&(n[l[c]]=i[l[c]]);return n}function yg(i,s,n,l){function c(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function f(y){try{x(l.next(y))}catch(w){p(w)}}function m(y){try{x(l.throw(y))}catch(w){p(w)}}function x(y){y.done?d(y.value):c(y.value).then(f,m)}x((l=l.apply(i,s||[])).next())})}const vg=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);class Zo extends Error{constructor(s,n="FunctionsError",l){super(s),this.name=n,this.context=l}}class bg extends Zo{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class lh extends Zo{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class oh extends Zo{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Fo;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Fo||(Fo={}));class wg{constructor(s,{headers:n={},customFetch:l,region:c=Fo.Any}={}){this.url=s,this.headers=n,this.region=c,this.fetch=vg(l)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return yg(this,arguments,void 0,function*(n,l={}){var c;let d,p;try{const{headers:f,method:m,body:x,signal:y,timeout:w}=l;let _={},{region:S}=l;S||(S=this.region);const O=new URL(`${this.url}/${n}`);S&&S!=="any"&&(_["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let b;x&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",b=x):typeof x=="string"?(_["Content-Type"]="text/plain",b=x):typeof FormData<"u"&&x instanceof FormData?b=x:(_["Content-Type"]="application/json",b=JSON.stringify(x)):b=x;let T=y;w&&(p=new AbortController,d=setTimeout(()=>p.abort(),w),y?(T=p.signal,y.addEventListener("abort",()=>p.abort())):T=p.signal);const U=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:b,signal:T}).catch(M=>{throw new bg(M)}),W=U.headers.get("x-relay-error");if(W&&W==="true")throw new lh(U);if(!U.ok)throw new oh(U);let B=((c=U.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),G;return B==="application/json"?G=yield U.json():B==="application/octet-stream"||B==="application/pdf"?G=yield U.blob():B==="text/event-stream"?G=U:B==="multipart/form-data"?G=yield U.formData():G=yield U.text(),{data:G,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof oh||f instanceof lh?f.context:void 0}}finally{d&&clearTimeout(d)}})}}var jg=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},Ng=class{constructor(i){var s,n;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let p=null,f=null,m=null,x=d.status,y=d.statusText;if(d.ok){var w,_;if(n.method!=="HEAD"){var S;const U=await d.text();U===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const b=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),T=(_=d.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");b&&T&&T.length>1&&(m=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(p={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,x=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var O;const b=await d.text();try{p=JSON.parse(b),Array.isArray(p)&&d.status===404&&(f=[],p=null,x=200,y="OK")}catch{d.status===404&&b===""?(x=204,y="No Content"):p={message:b}}if(p&&n.isMaybeSingle&&(!(p==null||(O=p.details)===null||O===void 0)&&O.includes("0 rows"))&&(p=null,x=200,y="OK"),p&&n.shouldThrowOnError)throw new jg(p)}return{error:p,data:f,count:m,status:x,statusText:y}});return this.shouldThrowOnError||(c=c.catch(d=>{var p;let f="";const m=d?.cause;if(m){var x,y,w,_;const O=(x=m?.message)!==null&&x!==void 0?x:"",b=(y=m?.code)!==null&&y!==void 0?y:"";f=`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,f+=`

Caused by: ${(_=m?.name)!==null&&_!==void 0?_:"Error"}: ${O}`,b&&(f+=` (${b})`),m?.stack&&(f+=`
${m.stack}`)}else{var S;f=(S=d?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,s)}returns(){return this}overrideTypes(){return this}},_g=class extends Ng{select(i){let s=!1;const n=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:n,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:n=s}={}){const l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:n,referencedTable:l=n}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:n=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var p;const f=[i?"analyze":null,s?"verbose":null,n?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${f};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const ch=new RegExp("[,()]");var Ks=class extends _g{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const n=Array.from(new Set(s)).map(l=>typeof l=="string"&&ch.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,s){const n=Array.from(new Set(s)).map(l=>typeof l=="string"&&ch.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:n,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${c}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(i,s,n){return this.url.searchParams.append(i,`not.${s}.${n}`),this}or(i,{foreignTable:s,referencedTable:n=s}={}){const l=n?`${n}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,n){return this.url.searchParams.append(i,`${s}.${n}`),this}},kg=class{constructor(i,{headers:s={},schema:n,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=n,this.fetch=l}select(i,s){const{head:n=!1,count:l}=s??{},c=n?"HEAD":"GET";let d=!1;const p=(i??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",p),l&&this.headers.append("Prefer",`count=${l}`),new Ks({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:n=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(d.length>0){const p=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new Ks({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:n=!1,count:l,defaultToNull:c=!0}={}){var d;const p="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(f.length>0){const m=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ks({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var n;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Ks({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:i}={}){var s;const n="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Ks({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}},Sg=class Uh{constructor(s,{headers:n={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(n),this.schemaName=l,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kg(new URL(`${this.url}/${s}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Uh(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,n={},{head:l=!1,get:c=!1,count:d}={}){var p;let f;const m=new URL(`${this.url}/rpc/${s}`);let x;l||c?(f=l?"HEAD":"GET",Object.entries(n).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{m.searchParams.append(w,_)})):(f="POST",x=n);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new Ks({method:f,url:m,headers:y,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class Eg{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const l=n.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const l=this.getWebSocketConstructor();return new l(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Cg="2.89.0",Ag=`realtime-js/${Cg}`,Fh="1.0.0",Pg="2.0.0",uh=Fh,zo=1e4,Tg=1e3,Og=100;var Fr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Fr||(Fr={}));var Ye;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ye||(Ye={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var Bo;(function(i){i.websocket="websocket"})(Bo||(Bo={}));var us;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(us||(us={}));class Rg{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,n){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(s));let l=[s.join_ref,s.ref,s.topic,s.event,s.payload];return n(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(s){var n;return this._isArrayBuffer((n=s.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var n,l;const c=(l=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(s){var n,l;const c=(l=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:{},p=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(s,n,l){var c,d;const p=s.topic,f=(c=s.ref)!==null&&c!==void 0?c:"",m=(d=s.join_ref)!==null&&d!==void 0?d:"",x=s.payload.event,y=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+p.length+x.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let O=new DataView(S),b=0;O.setUint8(b++,this.KINDS.userBroadcastPush),O.setUint8(b++,m.length),O.setUint8(b++,f.length),O.setUint8(b++,p.length),O.setUint8(b++,x.length),O.setUint8(b++,w.length),O.setUint8(b++,n),Array.from(m,U=>O.setUint8(b++,U.charCodeAt(0))),Array.from(f,U=>O.setUint8(b++,U.charCodeAt(0))),Array.from(p,U=>O.setUint8(b++,U.charCodeAt(0))),Array.from(x,U=>O.setUint8(b++,U.charCodeAt(0))),Array.from(w,U=>O.setUint8(b++,U.charCodeAt(0)));var T=new Uint8Array(S.byteLength+l.byteLength);return T.set(new Uint8Array(S),0),T.set(new Uint8Array(l),S.byteLength),T.buffer}decode(s,n){if(this._isArrayBuffer(s)){let l=this._binaryDecode(s);return n(l)}if(typeof s=="string"){const l=JSON.parse(s),[c,d,p,f,m]=l;return n({join_ref:c,ref:d,topic:p,event:f,payload:m})}return n({})}_binaryDecode(s){const n=new DataView(s),l=n.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,n,c)}}_decodeUserBroadcast(s,n,l){const c=n.getUint8(1),d=n.getUint8(2),p=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const x=l.decode(s.slice(m,m+c));m=m+c;const y=l.decode(s.slice(m,m+d));m=m+d;const w=l.decode(s.slice(m,m+p));m=m+p;const _=s.slice(m,s.byteLength),S=f===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,O={type:this.BROADCAST_EVENT,event:y,payload:S};return p>0&&(O.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(s){var n;return s instanceof ArrayBuffer||((n=s?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(s,n){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([l])=>n.includes(l)))}}class zh{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Pe||(Pe={}));const dh=(i,s,n={})=>{var l;const c=(l=n.skipTypes)!==null&&l!==void 0?l:[];return s?Object.keys(s).reduce((d,p)=>(d[p]=Lg(p,i,s,c),d),{}):{}},Lg=(i,s,n,l)=>{const c=s.find(f=>f.name===i),d=c?.type,p=n[i];return d&&!l.includes(d)?Bh(d,p):Vo(p)},Bh=(i,s)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Mg(s,n)}switch(i){case Pe.bool:return Ig(s);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return Dg(s);case Pe.json:case Pe.jsonb:return $g(s);case Pe.timestamp:return Ug(s);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return Vo(s);default:return Vo(s)}},Vo=i=>i,Ig=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Dg=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},$g=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Mg=(i,s)=>{if(typeof i!="string")return i;const n=i.length-1,l=i[n];if(i[0]==="{"&&l==="}"){let d;const p=i.slice(1,n);try{d=JSON.parse("["+p+"]")}catch{d=p?p.split(","):[]}return d.map(f=>Bh(s,f))}return i},Ug=i=>typeof i=="string"?i.replace(" ","T"):i,Vh=i=>{const s=new URL(i);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class Co{constructor(s,n,l={},c=zo){this.channel=s,this.event=n,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var l;return this._hasReceived(s)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(l=>l.status===s).forEach(l=>l.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var hh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(hh||(hh={}));class Hn{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:d,onLeave:p,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,c,d,p),this.pendingDiffs.forEach(m=>{this.state=Hn.syncDiff(this.state,m,d,p)}),this.pendingDiffs=[],f()}),this.channel._on(l.diff,{},c=>{const{onJoin:d,onLeave:p,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Hn.syncDiff(this.state,c,d,p),f())}),this.onJoin((c,d,p)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:p})}),this.onLeave((c,d,p)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,l,c){const d=this.cloneDeep(s),p=this.transformState(n),f={},m={};return this.map(d,(x,y)=>{p[x]||(m[x]=y)}),this.map(p,(x,y)=>{const w=d[x];if(w){const _=y.map(T=>T.presence_ref),S=w.map(T=>T.presence_ref),O=y.filter(T=>S.indexOf(T.presence_ref)<0),b=w.filter(T=>_.indexOf(T.presence_ref)<0);O.length>0&&(f[x]=O),b.length>0&&(m[x]=b)}else f[x]=y}),this.syncDiff(d,{joins:f,leaves:m},l,c)}static syncDiff(s,n,l,c){const{joins:d,leaves:p}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(d,(f,m)=>{var x;const y=(x=s[f])!==null&&x!==void 0?x:[];if(s[f]=this.cloneDeep(m),y.length>0){const w=s[f].map(S=>S.presence_ref),_=y.filter(S=>w.indexOf(S.presence_ref)<0);s[f].unshift(..._)}l(f,y,m)}),this.map(p,(f,m)=>{let x=s[f];if(!x)return;const y=m.map(w=>w.presence_ref);x=x.filter(w=>y.indexOf(w.presence_ref)<0),s[f]=x,c(f,x,m),x.length===0&&delete s[f]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(l=>n(l,s[l]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,l)=>{const c=s[l];return"metas"in c?n[l]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[l]=c,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ph;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(ph||(ph={}));var Kn;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Kn||(Kn={}));var gr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class Ys{constructor(s,n={config:{}},l){var c,d;if(this.topic=s,this.params=n,this.socket=l,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(p,f)=>{this._trigger(this._replyEventName(f),p)}),this.presence=new Hn(this),this.broadcastEndpointURL=Vh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,n=this.timeout){var l,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:p,presence:f,private:m}}=this.params,x=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],y=!!this.bindings[Kn.PRESENCE]&&this.bindings[Kn.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},_={broadcast:p,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:x,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>s?.(gr.CHANNEL_ERROR,S)),this._onClose(()=>s?.(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){s?.(gr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,T=(O=b?.length)!==null&&O!==void 0?O:0,U=[];for(let W=0;W<T;W++){const B=b[W],{filter:{event:G,schema:M,table:P,filter:K}}=B,le=S&&S[W];if(le&&le.event===G&&Ys.isFilterValueEqual(le.schema,M)&&Ys.isFilterValueEqual(le.table,P)&&Ys.isFilterValueEqual(le.filter,K))U.push(Object.assign(Object.assign({},B),{id:le.id}));else{this.unsubscribe(),this.state=Ye.errored,s?.(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,s&&s(gr.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ye.errored,s?.(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{s?.(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,l){return this.state===Ye.joined&&s===Kn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,n,l)}async httpSend(s,n,l={}){var c;if(n==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const x=await f.json();m=x.error||x.message||m}catch{}return Promise.reject(new Error(m))}async send(s,n={}){var l,c;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:p}=s,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:p,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var p,f,m;const x=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(f=(p=this.params)===null||p===void 0?void 0:p.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Co(this,Qt.leave,{},s),l.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(s,n,l){const c=new AbortController,d=setTimeout(()=>c.abort(),l),p=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(d),p}_push(s,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Co(this,s,n,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Og){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,l){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,l){var c,d;const p=s.toLocaleLowerCase(),{close:f,error:m,leave:x,join:y}=Qt;if(l&&[f,m,x,y].indexOf(p)>=0&&l!==this._joinRef())return;let _=this._onMessage(p,n,l);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var O,b,T;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((T=(b=S.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===p}).map(S=>S.callback(_,l)):(d=this.bindings[p])===null||d===void 0||d.filter(S=>{var O,b,T,U,W,B;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in S){const G=S.id,M=(O=S.filter)===null||O===void 0?void 0:O.event;return G&&((b=n.ids)===null||b===void 0?void 0:b.includes(G))&&(M==="*"||M?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const G=(W=(U=S?.filter)===null||U===void 0?void 0:U.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return G==="*"||G===((B=n?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===p}).map(S=>{if(typeof _=="object"&&"ids"in _){const O=_.data,{schema:b,table:T,commit_timestamp:U,type:W,errors:B}=O;_=Object.assign(Object.assign({},{schema:b,table:T,commit_timestamp:U,eventType:W,new:{},old:{},errors:B}),this._getPayloadRecords(O))}S.callback(_,l)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,l){const c=s.toLocaleLowerCase(),d={type:c,filter:n,callback:l};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(s,n){const l=s.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Ys.isEqual(c.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const l in s)if(s[l]!==n[l])return!1;return!0}static isFilterValueEqual(s,n){return(s??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Qt.close,{},s)}_onError(s){this._on(Qt.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=dh(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=dh(s.columns,s.old_record)),n}}const Ao=()=>{},hi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fg=[1e3,2e3,5e3,1e4],zg=1e4,Bg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vg{constructor(s,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zo,this.transport=null,this.heartbeatIntervalMs=hi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ao,this.ref=0,this.reconnectTimer=null,this.vsn=uh,this.logger=Ao,this.conn=null,this.sendBuffer=[],this.serializer=new Rg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((l=n?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${Bo.websocket}`,this.httpEndpoint=Vh(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Eg.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,l){this.logger(s,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return us.Connecting;case Fr.open:return us.Open;case Fr.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const l=`realtime:${s}`,c=this.getChannels().find(d=>d.topic===l);if(c)return c;{const d=new Ys(`realtime:${s}`,n,this);return this.channels.push(d),d}}push(s){const{topic:n,event:l,payload:c,ref:d}=s,p=()=>{this.encode(s,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${l} (${d})`,c),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Tg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(l=>l.topic===s&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:d,ref:p}=n,f=p?`(${p})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${c} ${f}`.trim(),d),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(c,d,p)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===Fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Qt.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const l=s.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${s}${l}${c}`}_workerObjectUrl(s){let n;if(s)n=s;else{const l=new Blob([Bg],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n,l=!1;if(s)n=s,l=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),n=this.accessTokenValue}else n=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(c=>{const d={access_token:n,version:Ag};n&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(l=>{try{l(n)}catch(c){this.log("error",`error in ${s} callback`,c)}})}catch(l){this.log("error",`error triggering ${s} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new zh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,l,c,d,p,f,m,x,y,w,_,S;switch(this.transport=(n=s?.transport)!==null&&n!==void 0?n:null,this.timeout=(l=s?.timeout)!==null&&l!==void 0?l:zo,this.heartbeatIntervalMs=(c=s?.heartbeatIntervalMs)!==null&&c!==void 0?c:hi.HEARTBEAT_INTERVAL,this.worker=(d=s?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(p=s?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(f=s?.heartbeatCallback)!==null&&f!==void 0?f:Ao,this.vsn=(m=s?.vsn)!==null&&m!==void 0?m:uh,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=s?.reconnectAfterMs)!==null&&x!==void 0?x:(O=>Fg[O-1]||zg),this.vsn){case Fh:this.encode=(y=s?.encode)!==null&&y!==void 0?y:((O,b)=>b(JSON.stringify(O))),this.decode=(w=s?.decode)!==null&&w!==void 0?w:((O,b)=>b(JSON.parse(O)));break;case Pg:this.encode=(_=s?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=s?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}var Jn=class extends Error{constructor(i,s){super(i),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&s.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Wg(i,s,n){const l=new URL(s,i);if(n)for(const[c,d]of Object.entries(n))d!==void 0&&l.searchParams.set(c,d);return l.toString()}async function qg(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Hg(i){const s=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:l,query:c,body:d,headers:p}){const f=Wg(i.baseUrl,l,c),m=await qg(i.auth),x=await s(f,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...m,...p},body:d?JSON.stringify(d):void 0}),y=await x.text(),w=(x.headers.get("content-type")||"").includes("application/json"),_=w&&y?JSON.parse(y):y;if(!x.ok){const S=w?_:void 0,O=S?.error;throw new Jn(O?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:O?.type,icebergCode:O?.code,details:S})}return{status:x.status,headers:x.headers,data:_}}}}function pi(i){return i.join("")}var Kg=class{constructor(i,s=""){this.client=i,this.prefix=s}async listNamespaces(i){const s=i?{parent:pi(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,s){const n={namespace:i.namespace,properties:s?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pi(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pi(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pi(i.namespace)}`}),!0}catch(s){if(s instanceof Jn&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(i,s){try{return await this.createNamespace(i,s)}catch(n){if(n instanceof Jn&&n.status===409)return;throw n}}};function Us(i){return i.join("")}var Gg=class{constructor(i,s="",n){this.client=i,this.prefix=s,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(i.namespace)}/tables`})).data.identifiers}async createTable(i,s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(i.namespace)}/tables`,body:s,headers:n})).data.metadata}async updateTable(i,s){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(i.namespace)}/tables/${i.name}`,body:s});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(s?.purge??!1)}})}async loadTable(i){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(i.namespace)}/tables/${i.name}`,headers:s})).data.metadata}async tableExists(i){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(i.namespace)}/tables/${i.name}`,headers:s}),!0}catch(n){if(n instanceof Jn&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,s){try{return await this.createTable(i,s)}catch(n){if(n instanceof Jn&&n.status===409)return await this.loadTable({namespace:i.namespace,name:s.name});throw n}}},Jg=class{constructor(i){let s="v1";i.catalogName&&(s+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Hg({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Kg(this.client,s),this.tableOps=new Gg(this.client,s,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,s){return this.namespaceOps.createNamespace(i,s)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,s){return this.tableOps.createTable(i,s)}async updateTable(i,s){return this.tableOps.updateTable(i,s)}async dropTable(i,s){await this.tableOps.dropTable(i,s)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,s){return this.namespaceOps.createNamespaceIfNotExists(i,s)}async createTableIfNotExists(i,s){return this.tableOps.createTableIfNotExists(i,s)}},Ai=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function $e(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Qg=class extends Ai{constructor(i,s,n){super(i),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wo=class extends Ai{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}};const ec=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),Yg=()=>Response,qo=i=>{if(Array.isArray(i))return i.map(n=>qo(n));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([n,l])=>{const c=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[c]=qo(l)}),s},Xg=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Zg=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Qn(i){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Qn(i)}function ex(i,s){if(Qn(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var l=n.call(i,s);if(Qn(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function tx(i){var s=ex(i,"string");return Qn(s)=="symbol"?s:s+""}function rx(i,s,n){return(s=tx(s))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,i}function mh(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);s&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),n.push.apply(n,l)}return n}function he(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?mh(Object(n),!0).forEach(function(l){rx(i,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(n,l))})}return i}const Po=i=>{var s;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(s=i.error)===null||s===void 0?void 0:s.message)||JSON.stringify(i)},sx=async(i,s,n)=>{i instanceof await Yg()&&!n?.noResolveJson?i.json().then(l=>{const c=i.status||500,d=l?.statusCode||c+"";s(new Qg(Po(l),c,d))}).catch(l=>{s(new Wo(Po(l),l))}):s(new Wo(Po(i),i))},nx=(i,s,n,l)=>{const c={method:i,headers:s?.headers||{}};return i==="GET"||!l?c:(Xg(l)?(c.headers=he({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(l)):c.body=l,s?.duplex&&(c.duplex=s.duplex),he(he({},c),n))};async function ta(i,s,n,l,c,d){return new Promise((p,f)=>{i(n,nx(s,l,c,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>p(m)).catch(m=>sx(m,f,l))})}async function Yn(i,s,n,l){return ta(i,"GET",s,n,l)}async function Jt(i,s,n,l,c){return ta(i,"POST",s,l,c,n)}async function Ho(i,s,n,l,c){return ta(i,"PUT",s,l,c,n)}async function ax(i,s,n,l){return ta(i,"HEAD",s,he(he({},n),{},{noResolveJson:!0}),l)}async function tc(i,s,n,l,c){return ta(i,"DELETE",s,l,c,n)}var ix=class{constructor(i,s){this.downloadFn=i,this.shouldThrowOnError=s}then(i,s){return this.execute().then(i,s)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}};let Wh;Wh=Symbol.toStringTag;var lx=class{constructor(i,s){this.downloadFn=i,this.shouldThrowOnError=s,this[Wh]="BlobDownloadBuilder",this.promise=null}asStream(){return new ix(this.downloadFn,this.shouldThrowOnError)}then(i,s){return this.getPromise().then(i,s)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}};const ox={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cx=class{constructor(i,s={},n,l){this.shouldThrowOnError=!1,this.url=i,this.headers=s,this.bucketId=n,this.fetch=ec(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,s,n,l){var c=this;try{let d;const p=he(he({},fh),l);let f=he(he({},c.headers),i==="POST"&&{"x-upsert":String(p.upsert)});const m=p.metadata;typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),m&&d.append("metadata",c.encodeMetadata(m)),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.has("cacheControl")||d.append("cacheControl",p.cacheControl),m&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(m))):(d=n,f["cache-control"]=`max-age=${p.cacheControl}`,f["content-type"]=p.contentType,m&&(f["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!p.duplex&&(p.duplex="half")),l?.headers&&(f=he(he({},f),l.headers));const x=c._removeEmptyFolders(s),y=c._getFinalPath(x),w=await(i=="PUT"?Ho:Jt)(c.fetch,`${c.url}/object/${y}`,d,he({headers:f},p?.duplex?{duplex:p.duplex}:{}));return{data:{path:x,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(c.shouldThrowOnError)throw d;if($e(d))return{data:null,error:d};throw d}}async upload(i,s,n){return this.uploadOrUpdate("POST",i,s,n)}async uploadToSignedUrl(i,s,n,l){var c=this;const d=c._removeEmptyFolders(i),p=c._getFinalPath(d),f=new URL(c.url+`/object/upload/sign/${p}`);f.searchParams.set("token",s);try{let m;const x=he({upsert:fh.upsert},l),y=he(he({},c.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",x.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",x.cacheControl)):(m=n,y["cache-control"]=`max-age=${x.cacheControl}`,y["content-type"]=x.contentType),{data:{path:d,fullPath:(await Ho(c.fetch,f.toString(),m,{headers:y})).Key},error:null}}catch(m){if(c.shouldThrowOnError)throw m;if($e(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(i,s){var n=this;try{let l=n._getFinalPath(i);const c=he({},n.headers);s?.upsert&&(c["x-upsert"]="true");const d=await Jt(n.fetch,`${n.url}/object/upload/sign/${l}`,{},{headers:c}),p=new URL(n.url+d.url),f=p.searchParams.get("token");if(!f)throw new Ai("No token returned by API");return{data:{signedUrl:p.toString(),path:i,token:f},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async update(i,s,n){return this.uploadOrUpdate("PUT",i,s,n)}async move(i,s,n){var l=this;try{return{data:await Jt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async copy(i,s,n){var l=this;try{return{data:{path:(await Jt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrl(i,s,n){var l=this;try{let c=l._getFinalPath(i),d=await Jt(l.fetch,`${l.url}/object/sign/${c}`,he({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:l.headers});const p=n?.download?`&download=${n.download===!0?"":n.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${p}`)},{data:d,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async createSignedUrls(i,s,n){var l=this;try{const c=await Jt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:s,paths:i},{headers:l.headers}),d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:c.map(p=>he(he({},p),{},{signedUrl:p.signedURL?encodeURI(`${l.url}${p.signedURL}${d}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}download(i,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(i),p=()=>Yn(this.fetch,`${this.url}/${n}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new lx(p,this.shouldThrowOnError)}async info(i){var s=this;const n=s._getFinalPath(i);try{return{data:qo(await Yn(s.fetch,`${s.url}/object/info/${n}`,{headers:s.headers})),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async exists(i){var s=this;const n=s._getFinalPath(i);try{return await ax(s.fetch,`${s.url}/object/${n}`,{headers:s.headers}),{data:!0,error:null}}catch(l){if(s.shouldThrowOnError)throw l;if($e(l)&&l instanceof Wo){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,s){const n=this._getFinalPath(i),l=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const d=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&l.push(p);let f=l.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${f}`)}}}async remove(i){var s=this;try{return{data:await tc(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:i},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async list(i,s,n){var l=this;try{const c=he(he(he({},ox),s),{},{prefix:i||""});return{data:await Jt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},n),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}}async listV2(i,s){var n=this;try{const l=he({},i);return{data:await Jt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,l,{headers:n.headers},s),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}};const qh="2.89.0",Hh={"X-Client-Info":`storage-js/${qh}`};var ux=class{constructor(i,s={},n,l){this.shouldThrowOnError=!1;const c=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=he(he({},Hh),s),this.fetch=ec(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var s=this;try{const n=s.listBucketOptionsToQueryString(i);return{data:await Yn(s.fetch,`${s.url}/bucket${n}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getBucket(i){var s=this;try{return{data:await Yn(s.fetch,`${s.url}/bucket/${i}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async createBucket(i,s={public:!1}){var n=this;try{return{data:await Jt(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async updateBucket(i,s){var n=this;try{return{data:await Ho(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async emptyBucket(i){var s=this;try{return{data:await Jt(s.fetch,`${s.url}/bucket/${i}/empty`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(i){var s=this;try{return{data:await tc(s.fetch,`${s.url}/bucket/${i}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(i){const s={};return i&&("limit"in i&&(s.limit=String(i.limit)),"offset"in i&&(s.offset=String(i.offset)),i.search&&(s.search=i.search),i.sortColumn&&(s.sortColumn=i.sortColumn),i.sortOrder&&(s.sortOrder=i.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},dx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},Hh),s),this.fetch=ec(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var s=this;try{return{data:await Jt(s.fetch,`${s.url}/bucket`,{name:i},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async listBuckets(i){var s=this;try{const n=new URLSearchParams;i?.limit!==void 0&&n.set("limit",i.limit.toString()),i?.offset!==void 0&&n.set("offset",i.offset.toString()),i?.sortColumn&&n.set("sortColumn",i.sortColumn),i?.sortOrder&&n.set("sortOrder",i.sortOrder),i?.search&&n.set("search",i.search);const l=n.toString(),c=l?`${s.url}/bucket?${l}`:`${s.url}/bucket`;return{data:await Yn(s.fetch,c,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(i){var s=this;try{return{data:await tc(s.fetch,`${s.url}/bucket/${i}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}from(i){var s=this;if(!Zg(i))throw new Ai("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Jg({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(n,{get(c,d){const p=c[d];return typeof p!="function"?p:async(...f)=>{try{return{data:await p.apply(c,f),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const rc={"X-Client-Info":`storage-js/${qh}`,"Content-Type":"application/json"};var Kh=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var To=class extends Kh{constructor(i,s,n){super(i),this.name="StorageVectorsApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hx=class extends Kh{constructor(i,s){super(i),this.name="StorageVectorsUnknownError",this.originalError=s}};const sc=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),px=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},gh=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),mx=async(i,s,n)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const l=i.status||500,c=i;if(typeof c.json=="function")c.json().then(d=>{const p=d?.statusCode||d?.code||l+"";s(new To(gh(d),l,p))}).catch(()=>{const d=l+"";s(new To(c.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";s(new To(c.statusText||`HTTP ${l} error`,l,d))}}else s(new hx(gh(i),i))},fx=(i,s,n,l)=>{const c={method:i,headers:s?.headers||{}};return l?(px(l)?(c.headers=he({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(l)):c.body=l,he(he({},c),n)):c};async function gx(i,s,n,l,c,d){return new Promise((p,f)=>{i(n,fx(s,l,c,d)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const x=m.headers.get("content-type");return!x||!x.includes("application/json")?{}:m.json()}).then(m=>p(m)).catch(m=>mx(m,f,l))})}async function Tt(i,s,n,l,c){return gx(i,"POST",s,l,c,n)}var xx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},rc),s),this.fetch=sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/CreateIndex`,i,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async getIndex(i,s){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:s},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pt(l))return{data:null,error:l};throw l}}async listIndexes(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/ListIndexes`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async deleteIndex(i,s){var n=this;try{return{data:await Tt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:s},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Pt(l))return{data:null,error:l};throw l}}},yx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},rc),s),this.fetch=sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var s=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Tt(s.fetch,`${s.url}/PutVectors`,i,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async getVectors(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/GetVectors`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async listVectors(i){var s=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Tt(s.fetch,`${s.url}/ListVectors`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async queryVectors(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/QueryVectors`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async deleteVectors(i){var s=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Tt(s.fetch,`${s.url}/DeleteVectors`,i,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}},vx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},rc),s),this.fetch=sc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async getBucket(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:i},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async listBuckets(i={}){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/ListVectorBuckets`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}async deleteBucket(i){var s=this;try{return{data:await Tt(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}}},bx=class extends vx{constructor(i,s={}){super(i,s.headers||{},s.fetch)}from(i){return new wx(this.url,this.headers,i,this.fetch)}async createBucket(i){var s=()=>super.createBucket,n=this;return s().call(n,i)}async getBucket(i){var s=()=>super.getBucket,n=this;return s().call(n,i)}async listBuckets(i={}){var s=()=>super.listBuckets,n=this;return s().call(n,i)}async deleteBucket(i){var s=()=>super.deleteBucket,n=this;return s().call(n,i)}},wx=class extends xx{constructor(i,s,n,l){super(i,s,l),this.vectorBucketName=n}async createIndex(i){var s=()=>super.createIndex,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var s=()=>super.listIndexes,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var s=()=>super.getIndex,n=this;return s().call(n,n.vectorBucketName,i)}async deleteIndex(i){var s=()=>super.deleteIndex,n=this;return s().call(n,n.vectorBucketName,i)}index(i){return new jx(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},jx=class extends yx{constructor(i,s,n,l,c){super(i,s,c),this.vectorBucketName=n,this.indexName=l}async putVectors(i){var s=()=>super.putVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var s=()=>super.getVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var s=()=>super.listVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var s=()=>super.queryVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var s=()=>super.deleteVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Nx=class extends ux{constructor(i,s={},n,l){super(i,s,n,l)}from(i){return new cx(this.url,this.headers,i,this.fetch)}get vectors(){return new bx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dx(this.url+"/iceberg",this.headers,this.fetch)}};const Gh="2.89.0",Gs=30*1e3,Ko=3,Oo=Ko*Gs,_x="http://localhost:9999",kx="supabase.auth.token",Sx={"X-Client-Info":`gotrue-js/${Gh}`},Go="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ex=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cx=600*1e3;class Xn extends Error{constructor(s,n,l){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}}function ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Ax extends Xn{constructor(s,n,l){super(s,n,l),this.name="AuthApiError",this.status=n,this.code=l}}function Px(i){return ae(i)&&i.name==="AuthApiError"}class ds extends Xn{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}}class br extends Xn{constructor(s,n,l,c){super(s,l,c),this.name=n,this.status=l}}class At extends br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tx(i){return ae(i)&&i.name==="AuthSessionMissingError"}class Fs extends br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mi extends br{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class fi extends br{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ox(i){return ae(i)&&i.name==="AuthImplicitGrantRedirectError"}class xh extends br{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rx extends br{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jo extends br{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}}function Ro(i){return ae(i)&&i.name==="AuthRetryableFetchError"}class yh extends br{constructor(s,n,l){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}}class Qo extends br{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),Lx=(()=>{const i=new Array(128);for(let s=0;s<i.length;s+=1)i[s]=-1;for(let s=0;s<vh.length;s+=1)i[vh[s].charCodeAt(0)]=-2;for(let s=0;s<wi.length;s+=1)i[wi[s].charCodeAt(0)]=s;return i})();function bh(i,s,n){if(i!==null)for(s.queue=s.queue<<8|i,s.queuedBits+=8;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;n(wi[l]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;n(wi[l]),s.queuedBits-=6}}function Qh(i,s,n){const l=Lx[i];if(l>-1)for(s.queue=s.queue<<6|l,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function wh(i){const s=[],n=p=>{s.push(String.fromCodePoint(p))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=p=>{$x(p,l,n)};for(let p=0;p<i.length;p+=1)Qh(i.charCodeAt(p),c,d);return s.join("")}function Ix(i,s){if(i<=127){s(i);return}else if(i<=2047){s(192|i>>6),s(128|i&63);return}else if(i<=65535){s(224|i>>12),s(128|i>>6&63),s(128|i&63);return}else if(i<=1114111){s(240|i>>18),s(128|i>>12&63),s(128|i>>6&63),s(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Dx(i,s){for(let n=0;n<i.length;n+=1){let l=i.charCodeAt(n);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(i.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}Ix(l,s)}}function $x(i,s,n){if(s.utf8seq===0){if(i<=127){n(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){s.utf8seq=l;break}if(s.utf8seq===2)s.codepoint=i&31;else if(s.utf8seq===3)s.codepoint=i&15;else if(s.utf8seq===4)s.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|i&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function Zs(i){const s=[],n={queue:0,queuedBits:0},l=c=>{s.push(c)};for(let c=0;c<i.length;c+=1)Qh(i.charCodeAt(c),n,l);return new Uint8Array(s)}function Mx(i){const s=[];return Dx(i,n=>s.push(n)),new Uint8Array(s)}function hs(i){const s=[],n={queue:0,queuedBits:0},l=c=>{s.push(c)};return i.forEach(c=>bh(c,n,l)),bh(null,n,l),s.join("")}function Ux(i){return Math.round(Date.now()/1e3)+i}function Fx(){return Symbol("auth-callback")}const lt=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Yh=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function zx(i){const s={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,d)=>{s[d]=c})}catch{}return n.searchParams.forEach((l,c)=>{s[c]=l}),s}const Xh=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),Bx=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Js=async(i,s,n)=>{await i.setItem(s,JSON.stringify(n))},ls=async(i,s)=>{const n=await i.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},it=async(i,s)=>{await i.removeItem(s)};class Pi{constructor(){this.promise=new Pi.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}Pi.promiseConstructor=Promise;function Lo(i){const s=i.split(".");if(s.length!==3)throw new Qo("Invalid JWT structure");for(let l=0;l<s.length;l++)if(!Ex.test(s[l]))throw new Qo("JWT not in base64url format");return{header:JSON.parse(wh(s[0])),payload:JSON.parse(wh(s[1])),signature:Zs(s[2]),raw:{header:s[0],payload:s[1]}}}async function Vx(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function Wx(i,s){return new Promise((l,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const p=await i(d);if(!s(d,null,p)){l(p);return}}catch(p){if(!s(d,p)){c(p);return}}})()})}function qx(i){return("0"+i.toString(16)).substr(-2)}function Hx(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let c="";for(let d=0;d<56;d++)c+=n.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(s),Array.from(s,qx).join("")}async function Kx(i){const n=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(l);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Gx(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await Kx(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(i,s,n=!1){const l=Hx();let c=l;n&&(c+="/PASSWORD_RECOVERY"),await Js(i,`${s}-code-verifier`,c);const d=await Gx(l);return[d,l===d?"plain":"s256"]}const Jx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qx(i){const s=i.headers.get(Go);if(!s||!s.match(Jx))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Yx(i){if(!i)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(i<=s)throw new Error("JWT has expired")}function Xx(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(i){if(!Zx.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const i={};return new Proxy(i,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ey(i,s){return new Proxy(i,{get:(n,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,l,c)}return!s.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(n,l,c)}})}function jh(i){return JSON.parse(JSON.stringify(i))}const os=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ty=[502,503,504];async function Nh(i){var s;if(!Bx(i))throw new Jo(os(i),0);if(ty.includes(i.status))throw new Jo(os(i),i.status);let n;try{n=await i.json()}catch(d){throw new ds(os(d),d)}let l;const c=Qx(i);if(c&&c.getTime()>=Jh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new yh(os(n),i.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(l==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,p)=>d&&typeof p=="string",!0))throw new yh(os(n),i.status,n.weak_password.reasons);throw new Ax(os(n),i.status||500,l)}const ry=(i,s,n,l)=>{const c={method:i,headers:s?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),n))};async function de(i,s,n,l){var c;const d=Object.assign({},l?.headers);d[Go]||(d[Go]=Jh["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const p=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(p.redirect_to=l.redirectTo);const f=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",m=await sy(i,s,n+f,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function sy(i,s,n,l,c,d){const p=ry(s,l,c,d);let f;try{f=await i(n,Object.assign({},p))}catch(m){throw console.error(m),new Jo(os(m),0)}if(f.ok||await Nh(f),l?.noResolveJson)return f;try{return await f.json()}catch(m){await Nh(m)}}function Gt(i){var s;let n=null;iy(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Ux(i.expires_in)));const l=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:n,user:l},error:null}}function _h(i){const s=Gt(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(s.data.weak_password=i.weak_password),s}function zr(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function ny(i){return{data:i,error:null}}function ay(i){const{action_link:s,email_otp:n,hashed_token:l,redirect_to:c,verification_type:d}=i,p=Ci(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:s,email_otp:n,hashed_token:l,redirect_to:c,verification_type:d},m=Object.assign({},p);return{data:{properties:f,user:m},error:null}}function kh(i){return i}function iy(i){return i.access_token&&i.refresh_token&&i.expires_in}const Do=["global","local","others"];class ly{constructor({url:s="",headers:n={},fetch:l}){this.url=s,this.headers=n,this.fetch=Xh(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,n=Do[0]){if(Do.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Do.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(s,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zr})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async generateLink(s){try{const{options:n}=s,l=Ci(s,["options"]),c=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:ay,redirectTo:n?.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:zr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,l,c,d,p,f,m;try{const x={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:kh});if(y.error)throw y.error;const w=await y.json(),_=(p=y.headers.get("x-total-count"))!==null&&p!==void 0?p:0,S=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const b=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(O.split(";")[1].split("=")[1]);x[`${T}Page`]=b}),x.total=parseInt(_)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(ae(x))return{data:{users:[]},error:x};throw x}}async getUserById(s){Bs(s);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:zr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){Bs(s);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:zr})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(s,n=!1){Bs(s);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:zr})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(s){Bs(s.userId);try{const{data:n,error:l}=await de(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:l}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(s){Bs(s.userId),Bs(s.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(s){var n,l,c,d,p,f,m;try{const x={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(d=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:kh});if(y.error)throw y.error;const w=await y.json(),_=(p=y.headers.get("x-total-count"))!==null&&p!==void 0?p:0,S=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const b=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(O.split(";")[1].split("=")[1]);x[`${T}Page`]=b}),x.total=parseInt(_)),{data:Object.assign(Object.assign({},w),x),error:null}}catch(x){if(ae(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(s){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(s){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(s,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(s){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(s){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function Sh(i={}){return{getItem:s=>i[s]||null,setItem:(s,n)=>{i[s]=n},removeItem:s=>{delete i[s]}}}const Vs={debug:!!(globalThis&&Yh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zh extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class oy extends Zh{}async function cy(i,s,n){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const l=new globalThis.AbortController;return s>0&&setTimeout(()=>{l.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await n()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(s===0)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new oy(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Vs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ep(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function dy(i){return parseInt(i,16)}function hy(i){const s=new TextEncoder().encode(i);return"0x"+Array.from(s,l=>l.toString(16).padStart(2,"0")).join("")}function py(i){var s;const{chainId:n,domain:l,expirationTime:c,issuedAt:d=new Date,nonce:p,notBefore:f,requestId:m,resources:x,scheme:y,uri:w,version:_}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((s=i.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=ep(i.address),O=y?`${y}://${l}`:l,b=i.statement?`${i.statement}
`:"",T=`${O} wants you to sign in with your Ethereum account:
${S}

${b}`;let U=`URI: ${w}
Version: ${_}
Chain ID: ${n}${p?`
Nonce: ${p}`:""}
Issued At: ${d.toISOString()}`;if(c&&(U+=`
Expiration Time: ${c.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),m&&(U+=`
Request ID: ${m}`),x){let W=`
Resources:`;for(const B of x){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);W+=`
- ${B}`}U+=W}return`${T}
${U}`}class Ke extends Error{constructor({message:s,code:n,cause:l,name:c}){var d;super(s,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=c??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class ji extends Ke{constructor(s,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:s}),this.name="WebAuthnUnknownError",this.originalError=n}}function my({error:i,options:s}){var n,l,c;const{publicKey:d}=s;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(s.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ke({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const p=window.location.hostname;if(tp(p)){if(d.rp.id!==p)return new Ke({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function fy({error:i,options:s}){const{publicKey:n}=s;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ke({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(tp(l)){if(n.rpId!==l)return new Ke({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class gy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const xy=new gy;function yy(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:s,user:n,excludeCredentials:l}=i,c=Ci(i,["challenge","user","excludeCredentials"]),d=Zs(s).buffer,p=Object.assign(Object.assign({},n),{id:Zs(n.id).buffer}),f=Object.assign(Object.assign({},c),{challenge:d,user:p});if(l&&l.length>0){f.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const x=l[m];f.excludeCredentials[m]=Object.assign(Object.assign({},x),{id:Zs(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return f}function vy(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:s,allowCredentials:n}=i,l=Ci(i,["challenge","allowCredentials"]),c=Zs(s).buffer,d=Object.assign(Object.assign({},l),{challenge:c});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const f=n[p];d.allowCredentials[p]=Object.assign(Object.assign({},f),{id:Zs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function by(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:hs(new Uint8Array(i.response.attestationObject)),clientDataJSON:hs(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function wy(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,l=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:hs(new Uint8Array(c.authenticatorData)),clientDataJSON:hs(new Uint8Array(c.clientDataJSON)),signature:hs(new Uint8Array(c.signature)),userHandle:c.userHandle?hs(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function tp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Eh(){var i,s;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.get)=="function")}async function jy(i){try{const s=await navigator.credentials.create(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new ji("Browser returned unexpected credential type",s)}:{data:null,error:new ji("Empty credential response",s)}}catch(s){return{data:null,error:my({error:s,options:i})}}}async function Ny(i){try{const s=await navigator.credentials.get(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new ji("Browser returned unexpected credential type",s)}:{data:null,error:new ji("Empty credential response",s)}}catch(s){return{data:null,error:fy({error:s,options:i})}}}const _y={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ky={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ni(...i){const s=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),n=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of i)if(c)for(const d in c){const p=c[d];if(p!==void 0)if(Array.isArray(p))l[d]=p;else if(n(p))l[d]=p;else if(s(p)){const f=l[d];s(f)?l[d]=Ni(f,p):l[d]=Ni(p)}else l[d]=p}return l}function Sy(i,s){return Ni(_y,i,s||{})}function Ey(i,s){return Ni(ky,i,s||{})}class Cy{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:n,friendlyName:l,signal:c},d){try{const{data:p,error:f}=await this.client.mfa.challenge({factorId:s,webauthn:n});if(!p)return{data:null,error:f};const m=c??xy.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:x}=p.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${l}`),x.displayName||(x.displayName=x.name)}switch(p.webauthn.type){case"create":{const x=Sy(p.webauthn.credential_options.publicKey,d?.create),{data:y,error:w}=await jy({publicKey:x,signal:m});return y?{data:{factorId:s,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const x=Ey(p.webauthn.credential_options.publicKey,d?.request),{data:y,error:w}=await Ny(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:x,signal:m}));return y?{data:{factorId:s,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(p){return ae(p)?{data:null,error:p}:{data:null,error:new ds("Unexpected error in challenge",p)}}}async _verify({challengeId:s,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:s,webauthn:l})}async _authenticate({factorId:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!n)return{data:null,error:new Xn("rpId is required for WebAuthn authentication")};try{if(!Eh())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:p,error:f}=await this.challenge({factorId:s,webauthn:{rpId:n,rpOrigins:l},signal:c},{request:d});if(!p)return{data:null,error:f};const{webauthn:m}=p;return this._verify({factorId:s,challengeId:p.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:l,credential_response:m.credential_response}})}catch(p){return ae(p)?{data:null,error:p}:{data:null,error:new ds("Unexpected error in authenticate",p)}}}async _register({friendlyName:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!n)return{data:null,error:new Xn("rpId is required for WebAuthn registration")};try{if(!Eh())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:p,error:f}=await this._enroll({friendlyName:s});if(!p)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===s&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:m,error:x}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:c},{create:d});return m?this._verify({factorId:p.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:x}}catch(p){return ae(p)?{data:null,error:p}:{data:null,error:new ds("Unexpected error in register",p)}}}}uy();const Ay={url:_x,storageKey:kx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ch(i,s,n){return await n()}const Ws={};class Zn{get jwks(){var s,n;return(n=(s=Ws[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=Ws[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:s})}constructor(s){var n,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Ay),s);if(this.storageKey=d.storageKey,this.instanceID=(n=Zn.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&lt()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new ly({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Xh(d.fetch),this.lock=d.lock||Ch,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&lt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=cy:this.lock=Ch,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Yh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gh}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let n={},l="none";if(lt()&&(n=zx(window.location.href),this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce")),lt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:d}=await this._getSessionFromURL(n,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Ox(d)){const m=(s=d.details)===null||s===void 0?void 0:s.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:p,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",p,"redirect type",f),await this._saveSession(p),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new ds("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,l,c;try{const d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=s?.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=s?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Gt}),{data:p,error:f}=d;if(f||!p)return this._returnResult({data:{user:null,session:null},error:f});const m=p.session,x=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(d){if(ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(s){var n,l,c;try{let d;if("email"in s){const{email:y,password:w,options:_}=s;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await zs(this.storage,this.storageKey)),d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:y,password:w,data:(n=_?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:O},xform:Gt})}else if("phone"in s){const{phone:y,password:w,options:_}=s;d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(c=_?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Gt})}else throw new mi("You must provide either an email or phone number and a password");const{data:p,error:f}=d;if(f||!p)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=p.session,x=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(d){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(s){try{let n;if("email"in s){const{email:d,password:p,options:f}=s;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:p,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_h})}else if("phone"in s){const{phone:d,password:p,options:f}=s;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:p,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_h})}else throw new mi("You must provide either an email or phone number and a password");const{data:l,error:c}=n;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new Fs;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(s){var n,l,c,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;switch(n){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(s){var n,l,c,d,p,f,m,x,y,w,_;let S,O;if("message"in s)S=s.message,O=s.signature;else{const{chain:b,wallet:T,statement:U,options:W}=s;let B;if(lt())if(typeof T=="object")B=T;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")B=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=T}const G=new URL((n=W?.url)!==null&&n!==void 0?n:window.location.href),M=await B.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=ep(M[0]);let K=(l=W?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const pe=await B.request({method:"eth_chainId"});K=dy(pe)}const le={domain:G.host,address:P,statement:U,uri:G.href,version:"1",chainId:K,nonce:(c=W?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(p=(d=W?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(f=W?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=W?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(x=W?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(y=W?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=py(le),O=await B.request({method:"personal_sign",params:[hy(S),P]})}try{const{data:b,error:T}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((w=s.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=s.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Gt});if(T)throw T;if(!b||!b.session||!b.user){const U=new Fs;return this._returnResult({data:{user:null,session:null},error:U})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:T})}catch(b){if(ae(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(s){var n,l,c,d,p,f,m,x,y,w,_,S;let O,b;if("message"in s)O=s.message,b=s.signature;else{const{chain:T,wallet:U,statement:W,options:B}=s;let G;if(lt())if(typeof U=="object")G=U;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))G=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=U}const M=new URL((n=B?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in G&&G.signIn){const P=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),W?{statement:W}:null));let K;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")K=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)K=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)O=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),b=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${M.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(c=(l=B?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((x=B?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((w=(y=B?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...B.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const P=await G.signMessage(new TextEncoder().encode(O),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=P}}try{const{data:T,error:U}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:hs(b)},!((_=s.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=s.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Gt});if(U)throw U;if(!T||!T.session||!T.user){const W=new Fs;return this._returnResult({data:{user:null,session:null},error:W})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:U})}catch(T){if(ae(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(s){const n=await ls(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(n??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Rx;const{data:d,error:p}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:l},xform:Gt});if(await it(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!d||!d.session||!d.user){const f=new Fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:p})}catch(d){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(s){try{const{options:n,provider:l,token:c,access_token:d,nonce:p}=s,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:d,nonce:p,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gt}),{data:m,error:x}=f;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!m||!m.session||!m.user){const y=new Fs;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:x})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(s){var n,l,c,d,p;try{if("email"in s){const{email:f,options:m}=s;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await zs(this.storage,this.storageKey));const{error:w}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:x,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in s){const{phone:f,options:m}=s,{data:x,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=m?.data)!==null&&c!==void 0?c:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(p=m?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:y})}throw new mi("You must provide either an email or phone number.")}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(s){var n,l;try{let c,d;"options"in s&&(c=(n=s.options)===null||n===void 0?void 0:n.redirectTo,d=(l=s.options)===null||l===void 0?void 0:l.captchaToken);const{data:p,error:f}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Gt});if(f)throw f;if(!p)throw new Error("An error occurred on token verification.");const m=p.session,x=p.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(s){var n,l,c,d,p;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await zs(this.storage,this.storageKey));const x=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(l=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=s?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:ny});return!((d=x.data)===null||d===void 0)&&d.url&&lt()&&!(!((p=s.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(f){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:l}=s;if(l)throw l;if(!n)throw new At;const{error:c}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:l,type:c,options:d}=s,{error:p}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in s){const{phone:l,type:c,options:d}=s,{data:p,error:f}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:f})}throw new mi("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const l=s.expires_at?s.expires_at*1e3-Date.now()<Oo:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",s.expires_at),!l){if(this.userStorage){const p=await ls(this.userStorage,this.storageKey+"-user");p?.user?s.user=p.user:s.user=Io()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};s.user=ey(s.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:c,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(s){try{return s?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:zr}):await this._useSession(async n=>{var l,c,d;const{data:p,error:f}=n;if(f)throw f;return!(!((l=p.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:zr})})}catch(n){if(ae(n))return Tx(n)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async l=>{const{data:c,error:d}=l;if(d)throw d;if(!c.session)throw new At;const p=c.session;let f=null,m=null;this.flowType==="pkce"&&s.email!=null&&([f,m]=await zs(this.storage,this.storageKey));const{data:x,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:f,code_challenge_method:m}),jwt:p.access_token,xform:zr});if(y)throw y;return p.user=x.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new At;const n=Date.now()/1e3;let l=n,c=!0,d=null;const{payload:p}=Lo(s.access_token);if(p.exp&&(l=p.exp,c=l<=n),c){const{data:f,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};d=f}else{const{data:f,error:m}=await this._getUser(s.access_token);if(m)throw m;d={access_token:s.access_token,refresh_token:s.refresh_token,user:f.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var l;if(!s){const{data:p,error:f}=n;if(f)throw f;s=(l=p.session)!==null&&l!==void 0?l:void 0}if(!s?.refresh_token)throw new At;const{data:c,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(s,n){try{if(!lt())throw new fi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new fi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new xh("No code detected.");const{data:W,error:B}=await this._exchangeCodeForSession(s.code);if(B)throw B;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:d,refresh_token:p,expires_in:f,expires_at:m,token_type:x}=s;if(!d||!f||!p||!x)throw new fi("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(f);let _=y+w;m&&(_=parseInt(m));const S=_-y;S*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const O=_-w;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,_,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,_,y);const{data:b,error:T}=await this._getUser(d);if(T)throw T;const U={provider_token:l,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:_,refresh_token:p,token_type:x,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:s.type},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:c,error:d}=n;if(d)return this._returnResult({error:d});const p=(l=c.session)===null||l===void 0?void 0:l.access_token;if(p){const{error:f}=await this.admin.signOut(p,s);if(f&&!(Px(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return s!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const n=Fx(),l={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(s){return await this._useSession(async n=>{var l,c;try{const{data:{session:d},error:p}=n;if(p)throw p;await((l=this.stateChangeEmitters.get(s))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,n={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await zs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var s;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var n;try{const{data:l,error:c}=await this._useSession(async d=>{var p,f,m,x,y;const{data:w,error:_}=d;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(p=s.options)===null||p===void 0?void 0:p.redirectTo,scopes:(f=s.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(x=w.session)===null||x===void 0?void 0:x.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return lt()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:s.provider,url:l?.url},error:null})}catch(l){if(ae(l))return this._returnResult({data:{provider:s.provider,url:null},error:l});throw l}}async linkIdentityIdToken(s){return await this._useSession(async n=>{var l;try{const{error:c,data:{session:d}}=n;if(c)throw c;const{options:p,provider:f,token:m,access_token:x,nonce:y}=s,w=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:f,id_token:m,access_token:x,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Gt}),{data:_,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Fs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(c){if(await it(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(s){try{return await this._useSession(async n=>{var l,c;const{data:d,error:p}=n;if(p)throw p;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await Wx(async c=>(c>0&&await Vx(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Gt})),(c,d)=>{const p=200*Math.pow(2,c);return d&&Ro(d)&&Date.now()+p-l<Gs})}catch(l){if(this._debug(n,"error",l),ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",l),lt()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:s,url:l},error:null}}async _recoverAndRefresh(){var s,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await ls(this.storage,this.storageKey);if(c&&this.userStorage){let p=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:c.user},await Js(this.userStorage,this.storageKey+"-user",p)),c.user=(s=p?.user)!==null&&s!==void 0?s:Io()}else if(c&&!c.user&&!c.user){const p=await ls(this.storage,this.storageKey+"-user");p&&p?.user?(c.user=p.user,await it(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,c)):c.user=Io()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const d=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Oo;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Oo}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:p}=await this._callRefreshToken(c.refresh_token);p&&(console.error(p),Ro(p)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:f}=await this._getUser(c.access_token);!f&&p?.user?(c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(l,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(s){var n,l;if(!s)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Pi;const{data:d,error:p}=await this._refreshAccessToken(s);if(p)throw p;if(!d.session)throw new At;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const f={data:d.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(d){if(this._debug(c,"error",d),ae(d)){const p={data:null,error:d};return Ro(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(p),p}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,n,l=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:s,session:n});const d=[],p=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(s,n)}catch(m){d.push(m)}});if(await Promise.all(p),d.length>0){for(let f=0;f<d.length;f+=1)console.error(d[f]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},s),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await Js(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const d=jh(c);await Js(this.storage,this.storageKey,d)}else{const c=jh(n);await Js(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-s)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Gs}ms, refresh threshold is ${Ko} ticks`),c<=Ko&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof Zh)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,l){const c=[`provider=${encodeURIComponent(n)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,p]=await zs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(p)}`});c.push(f.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);c.push(d.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var l;const{data:c,error:d}=n;return d?this._returnResult({data:null,error:d}):await de(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(s){try{return await this._useSession(async n=>{var l,c;const{data:d,error:p}=n;if(p)return this._returnResult({data:null,error:p});const f=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:m,error:x}=await de(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return x?this._returnResult({data:null,error:x}):(s.factorType==="totp"&&m.type==="totp"&&(!((c=m?.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?by(s.webauthn.credential_response):wy(s.webauthn.credential_response)})}:{code:s.code}),{data:f,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:p,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=await de(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(p.error)return p;const{data:f}=p;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:yy(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(s){const{data:n,error:l}=await this._challenge({factorId:s.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){var s;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(s=n?.factors)!==null&&s!==void 0?s:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var s,n;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Lo(l.access_token);let p=null;d.aal&&(p=d.aal);let f=p;((n=(s=l.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const x=d.amr||[];return{data:{currentLevel:p,nextLevel:f,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new At})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(s,n){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new At});const p=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return p.data&&p.data.redirect_url&&lt()&&!n?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(s,n){try{return await this._useSession(async l=>{const{data:{session:c},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new At});const p=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return p.data&&p.data.redirect_url&&lt()&&!n?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:n},error:l}=s;return l?this._returnResult({data:null,error:l}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new At})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async n=>{const{data:{session:l},error:c}=n;return c?this._returnResult({data:null,error:c}):l?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(s,n={keys:[]}){let l=n.keys.find(f=>f.kid===s);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(f=>f.kid===s),l&&this.jwks_cached_at+Cx>c)return l;const{data:d,error:p}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,l=d.keys.find(f=>f.kid===s),!l)?null:l}async getClaims(s,n={}){try{let l=s;if(!l){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});l=S.session.access_token}const{header:c,payload:d,signature:p,raw:{header:f,payload:m}}=Lo(l);n?.allowExpired||Yx(d.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!x){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:c,signature:p},error:null}}const y=Xx(c.alg),w=await crypto.subtle.importKey("jwk",x,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,p,Mx(`${f}.${m}`)))throw new Qo("Invalid JWT signature");return{data:{claims:d,header:c,signature:p},error:null}}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}}Zn.nextInstanceID={};const Py=Zn,Ty="2.89.0";let qn="";typeof Deno<"u"?qn="deno":typeof document<"u"?qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qn="react-native":qn="node";const Oy={"X-Client-Info":`supabase-js-${qn}/${Ty}`},Ry={headers:Oy},Ly={schema:"public"},Iy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dy={};function ea(i){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ea(i)}function $y(i,s){if(ea(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var l=n.call(i,s);if(ea(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function My(i){var s=$y(i,"string");return ea(s)=="symbol"?s:s+""}function Uy(i,s,n){return(s=My(s))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,i}function Ah(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);s&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),n.push.apply(n,l)}return n}function Fe(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ah(Object(n),!0).forEach(function(l){Uy(i,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(n,l))})}return i}const Fy=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),zy=()=>Headers,By=(i,s,n)=>{const l=Fy(n),c=zy();return async(d,p)=>{var f;const m=(f=await s())!==null&&f!==void 0?f:i;let x=new c(p?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${m}`),l(d,Fe(Fe({},p),{},{headers:x}))}};function Vy(i){return i.endsWith("/")?i:i+"/"}function Wy(i,s){var n,l;const{db:c,auth:d,realtime:p,global:f}=i,{db:m,auth:x,realtime:y,global:w}=s,_={db:Fe(Fe({},m),c),auth:Fe(Fe({},x),d),realtime:Fe(Fe({},y),p),storage:{},global:Fe(Fe(Fe({},w),f),{},{headers:Fe(Fe({},(n=w?.headers)!==null&&n!==void 0?n:{}),(l=f?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?_.accessToken=i.accessToken:delete _.accessToken,_}function qy(i){const s=i?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vy(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Hy=class extends Py{constructor(i){super(i)}},Ky=class{constructor(i,s,n){var l,c;this.supabaseUrl=i,this.supabaseKey=s;const d=qy(i);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:Ly,realtime:Dy,auth:Fe(Fe({},Iy),{},{storageKey:p}),global:Ry},m=Wy(n??{},f);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=m.auth)!==null&&x!==void 0?x:{},this.headers,m.global.fetch)}this.fetch=By(s,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Sg(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Nx(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new wg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,s,n)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,s,n;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:n,storage:l,userStorage:c,storageKey:d,flowType:p,lock:f,debug:m,throwOnError:x},y,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hy({url:this.authUrl.href,headers:Fe(Fe({},_),y),storageKey:d,autoRefreshToken:i,persistSession:s,detectSessionInUrl:n,storage:l,userStorage:c,flowType:p,lock:f,debug:m,throwOnError:x,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Vg(this.realtimeUrl.href,Fe(Fe({},i),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(i,s,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Gy=(i,s,n)=>new Ky(i,s,n);function Jy(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const s=i.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qy="https://hncvsextwmvjydcukdwx.supabase.co",Yy="sb_publishable_5qD27qPFc04oqSmS61s1tw_lgt8FhBV",gi=Gy(Qy,Yy),rp=D.createContext(void 0),nc=()=>{const i=D.useContext(rp);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},Xy=({children:i})=>{const[s,n]=D.useState(null),[l,c]=D.useState(!0);D.useEffect(()=>{gi.auth.getSession().then(({data:{session:x}})=>{n(x),c(!1)}).catch(x=>{console.error("Error getting session:",x),c(!1)});const{data:{subscription:m}}=gi.auth.onAuthStateChange((x,y)=>{n(y),c(!1)});return()=>m.unsubscribe()},[]);const f={session:s,loading:l,signIn:async(m,x)=>{const{error:y}=await gi.auth.signInWithPassword({email:m,password:x});if(y)throw y},signOut:async()=>{const{error:m}=await gi.auth.signOut();if(m)throw m}};return r.jsx(rp.Provider,{value:f,children:i})};function Zy(){const{user:i}=nc(),[s,n]=D.useState(""),[l,c]=D.useState("all"),[d,p]=D.useState("all"),[f,m]=D.useState(null),[x,y]=D.useState(!1),[w,_]=D.useState(null),S=Ms.filter(b=>{const T=b.name.toLowerCase().includes(s.toLowerCase())||b.email.toLowerCase().includes(s.toLowerCase()),U=l==="all"||b.role===l,W=d==="all"||b.status===d;return T&&U&&W}),O={total:Ms.length,active:Ms.filter(b=>b.status==="Active").length,admins:Ms.filter(b=>b.role==="Admin").length,recruiters:Ms.filter(b=>b.role==="Recruiter").length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl",children:"User Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, roles, and permissions"})]}),r.jsxs("button",{onClick:()=>y(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg flex items-center gap-2",children:[r.jsx(Si,{className:"w-5 h-5"}),"Add New User"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Users"}),r.jsx(er,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.total})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Active Users"}),r.jsx(mf,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.active})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Administrators"}),r.jsx(Ft,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.admins})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Recruiters"}),r.jsx(Gn,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.recruiters})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Roles"}),r.jsx("option",{value:"Admin",children:"Admin"}),r.jsx("option",{value:"Manager",children:"Manager"}),r.jsx("option",{value:"Recruiter",children:"Recruiter"}),r.jsx("option",{value:"Viewer",children:"Viewer"})]}),r.jsxs("select",{value:d,onChange:b=>p(b.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Inactive",children:"Inactive"}),r.jsx("option",{value:"Suspended",children:"Suspended"})]}),r.jsxs("div",{className:"md:col-span-2 relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:s,onChange:b=>n(b.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",r.jsx("strong",{children:S.length})," of ",r.jsx("strong",{children:Ms.length})," users"]}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Export Users"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"User"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Department"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Last Active"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(b=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:b.name[0]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[b.name,b.id===i?.id&&r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"You"})]}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(mt,{className:"w-3 h-3"}),b.email]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${b.role==="Admin"?"bg-purple-100 text-purple-700":b.role==="Manager"?"bg-blue-100 text-blue-700":b.role==="Recruiter"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[b.role==="Admin"&&r.jsx(Ft,{className:"w-3 h-3"}),b.role==="Manager"&&r.jsx(Gn,{className:"w-3 h-3"}),b.role==="Recruiter"&&r.jsx(er,{className:"w-3 h-3"}),b.role==="Viewer"&&r.jsx(Zt,{className:"w-3 h-3"}),b.role]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-900",children:b.department})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b.status==="Active"?"bg-green-100 text-green-700":b.status==="Inactive"?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}`,children:b.status})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:b.lastActive}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Joined ",b.joinedDate]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>_(b),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Permissions",children:r.jsx(Ft,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>m(b),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit User",children:r.jsx(R0,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",disabled:b.id===i?.id,children:r.jsx(Ei,{className:"w-4 h-4"})})]})})]},b.id))})]})})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"User Permissions"}),r.jsxs("p",{className:"text-blue-100 mt-1",children:[w.name," - ",w.role]})]}),r.jsx("button",{onClick:()=>_(null),className:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-colors",children:r.jsx(tn,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:Object.entries(Mh[w.role]).map(([b,T])=>r.jsxs("div",{className:"mb-6 last:mb-0",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 capitalize flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ft,{className:"w-4 h-4 text-blue-600"})}),b]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(T).map(([U,W])=>r.jsxs("div",{className:`p-3 rounded-lg border-2 flex items-center justify-between ${W?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:U}),W?r.jsx(ki,{className:"w-5 h-5 text-green-600"}):r.jsx(tn,{className:"w-5 h-5 text-red-600"})]},U))})]},b))}),r.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Permissions are inherited from the ",r.jsx("strong",{children:w.role})," role"]}),r.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]})}),S.length===0&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Br,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-gray-900 mb-2",children:"No users found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters to find what you're looking for."})]})]})}function ev(){const{signIn:i,loading:s}=nc(),[n,l]=D.useState(""),[c,d]=D.useState(""),[p,f]=D.useState(!1),[m,x]=D.useState(""),[y,w]=D.useState(!1),_=async b=>{b.preventDefault(),x(""),w(!0);try{await i(n,c)}catch(T){x(T.message||"Login failed")}finally{w(!1)}},S=[{role:"Admin",email:"admin@falisha.com",password:"admin123",color:"from-purple-500 to-purple-600"}],O=(b,T)=>{l(b),d(T)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 lg:p-12",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(Ft,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Falisha Manpower"}),r.jsx("p",{className:"text-gray-600",children:"AI-Powered Recruitment Portal"})]}),r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(mt,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"email",value:n,onChange:b=>l(b.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(c0,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:p?"text":"password",value:c,onChange:b=>d(b.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>f(!p),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?r.jsx(Vf,{className:"w-5 h-5"}):r.jsx(Zt,{className:"w-5 h-5"})})]})]}),m&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(ot,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-900",children:"Login Failed"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),r.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):r.jsxs(r.Fragment,{children:[r.jsx(d0,{className:"w-5 h-5"}),"Sign In"]})})]}),r.jsxs("div",{className:"relative my-8",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),r.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx("svg",{className:"w-5 h-5",fill:"#1877F2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white",children:[r.jsx("h2",{className:"text-2xl mb-4",children:"Welcome Back!"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Access your recruitment dashboard to manage candidates, track applications, and streamline your hiring process with AI-powered insights."}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[r.jsx(er,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl mb-1",children:"150+"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Candidates"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[r.jsx(Ft,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl mb-1",children:"98%"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Success Rate"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[r.jsx(Gn,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl mb-1",children:"45"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Deployed"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[r.jsx("h3",{className:"text-xl mb-2 text-gray-900",children:"Demo Accounts"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Click any account below to quick login and explore different role permissions"}),r.jsx("div",{className:"space-y-3",children:S.map(b=>r.jsx("button",{onClick:()=>O(b.email,b.password),className:"w-full group",children:r.jsx("div",{className:`bg-gradient-to-r ${b.color} rounded-lg p-4 hover:shadow-lg transition-all`,children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:[b.role==="Admin"&&r.jsx(Ft,{className:"w-5 h-5"}),b.role==="Manager"&&r.jsx(Gn,{className:"w-5 h-5"}),b.role==="Recruiter"&&r.jsx(er,{className:"w-5 h-5"}),b.role==="Viewer"&&r.jsx(Zt,{className:"w-5 h-5"})]}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:b.role}),r.jsx("div",{className:"text-xs text-white text-opacity-90",children:b.email})]})]}),r.jsx("div",{className:"text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Login "})]})})},b.email))}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Role Permissions:"}),r.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Admin:"})," Full access to all features and settings"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Manager:"})," Manage candidates, view analytics, no user management"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Recruiter:"})," Add/edit candidates, upload documents, basic analytics"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Viewer:"})," Read-only access to candidates and jobs"]})]})]})]})]})]})})}const tv=({apiBaseUrl:i="http://localhost:1000/api"})=>{const[s,n]=D.useState([]),[l,c]=D.useState({}),[d,p]=D.useState(!1),[f,m]=D.useState(null),[x,y]=D.useState(!1),[w,_]=D.useState(null),[S,O]=D.useState(""),[b,T]=D.useState(""),[U,W]=D.useState(""),[B,G]=D.useState(""),[M]=D.useState(20),[P,K]=D.useState(0),[le,pe]=D.useState(0),xe=async()=>{p(!0);try{const R=new URLSearchParams;S&&R.append("source",S),b&&R.append("status",b),R.append("limit",M.toString()),R.append("offset",P.toString());const I=await(await fetch(`${i}/cv-inbox?${R.toString()}`)).json();n(I.messages||[]),pe(I.total||0)}catch(R){console.error("Failed to fetch messages:",R)}finally{p(!1)}},_e=async R=>{try{const I=await(await fetch(`${i}/cv-inbox/${R}/attachments`)).json();c(oe=>({...oe,[R]:I}))}catch(k){console.error("Failed to fetch attachments:",k)}};D.useEffect(()=>{xe()},[P,S,b]);const je=async(R,k)=>{try{(await fetch(`${i}/cv-inbox/${R}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:k})})).ok&&(n(oe=>oe.map(me=>me.id===R?{...me,status:k}:me)),f?.id===R&&m({...f,status:k}))}catch(I){console.error("Failed to update status:",I)}},we=async R=>{if(confirm("Are you sure you want to delete this message?"))try{(await fetch(`${i}/cv-inbox/${R}`,{method:"DELETE"})).ok&&n(I=>I.filter(oe=>oe.id!==R))}catch(k){console.error("Failed to delete message:",k)}},Xe=async R=>{m(R),l[R.id]||await _e(R.id)},ft=(R,k,I)=>{const oe=`${i}/cv-inbox/${R}/attachments/${k}/download`,me=document.createElement("a");me.href=oe,me.download=I,me.click()},We=R=>{switch(R){case"processed":return r.jsx(Re,{className:"w-4 h-4 text-green-600"});case"failed":return r.jsx(ot,{className:"w-4 h-4 text-red-600"});default:return r.jsx(Th,{className:"w-4 h-4 text-yellow-600"})}},Ee=R=>({whatsapp:"bg-green-100 text-green-800",gmail:"bg-blue-100 text-blue-800",api:"bg-purple-100 text-purple-800"})[R]||"bg-gray-100 text-gray-800",q=Math.ceil(le/M),se=Math.floor(P/M)+1;return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(mt,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CV Inbox"})]}),r.jsxs("p",{className:"text-gray-600",children:[le," total messages  Displaying ",s.length," on page ",se]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Qf,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),r.jsxs("select",{value:S,onChange:R=>{O(R.target.value),K(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Sources"}),r.jsx("option",{value:"whatsapp",children:"WhatsApp"}),r.jsx("option",{value:"gmail",children:"Gmail"}),r.jsx("option",{value:"api",children:"API"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:b,onChange:R=>{T(R.target.value),K(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"processed",children:"Processed"}),r.jsx("option",{value:"failed",children:"Failed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),r.jsx("input",{type:"date",value:U,onChange:R=>W(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),r.jsx("input",{type:"date",value:B,onChange:R=>G(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading messages..."}):s.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No messages found"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Source"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Message ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Payload"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(R=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ee(R.source)}`,children:R.source})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 font-mono",children:[R.external_message_id.slice(0,20),"..."]}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:[R.payload?.text&&R.payload.text.slice(0,30),"..."]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[We(R.status),r.jsxs("select",{value:R.status,onChange:k=>je(R.id,k.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:outline-none focus:ring-blue-500",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"processed",children:"Processed"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(R.received_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>Xe(R),className:"p-2 hover:bg-blue-50 rounded-md text-blue-600 transition-colors",title:"View attachments",children:r.jsx(Zt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>we(R.id),className:"p-2 hover:bg-red-50 rounded-md text-red-600 transition-colors",title:"Delete message",children:r.jsx(Ei,{className:"w-4 h-4"})})]})})]},R.id))})]})}),q>1&&r.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",se," of ",q]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>K(Math.max(0,P-M)),disabled:P===0,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 disabled:opacity-50 hover:bg-gray-50 transition-colors",children:"Previous"}),r.jsx("button",{onClick:()=>K(P+M),disabled:P+M>=le,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 disabled:opacity-50 hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:""})]}),r.jsx("div",{className:"p-6",children:!l[f.id]||l[f.id].length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No attachments"}):r.jsx("div",{className:"space-y-3",children:l[f.id].map(R=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:R.file_name}),r.jsx("p",{className:"text-sm text-gray-500",children:R.mime_type})]}),r.jsx("button",{onClick:()=>ft(f.id,R.id,R.file_name),className:"ml-4 p-2 hover:bg-blue-50 rounded-md text-blue-600 transition-colors",title:"Download",children:r.jsx(Ut,{className:"w-5 h-5"})})]},R.id))})})]})})]})})},Wn={company:{name:"Falisha Manpower",logo:"/logo.png"},contact:{phone:"+92330 3333335",email:"falishamanpower4035@gmail.com"}},rv={},sv=()=>{const{session:i,signOut:s,loading:n}=nc(),[l,c]=D.useState("dashboard"),[d,p]=D.useState(!1),[f,m]=D.useState("all"),[x,y]=D.useState(!1),w=i?{name:i.user.user_metadata?.name||i.user.email?.split("@")[0]||"User",email:i.user.email||"",role:(i.user.user_metadata?.role||"viewer").charAt(0).toUpperCase()+(i.user.user_metadata?.role||"viewer").slice(1),lastActive:"Today"}:{name:"Guest",email:"",role:"Viewer",lastActive:"Today"},[_,S]=D.useState(["all"]),[O,b]=D.useState({all:0});D.useEffect(()=>{let W=!0;return(async()=>{try{const B=await Ge.getCandidates();if(!W)return;const G=Array.from(new Set(B.map(P=>P.position).filter(Boolean))).sort();S(["all",...G]);const M={all:B.length};G.forEach(P=>{M[P]=B.filter(K=>K.position===P).length}),b(M)}catch{}})(),()=>{W=!1}},[]);const T=l==="candidate-browser",U=()=>{switch(l){case"dashboard":return r.jsx(ah,{});case"cv-inbox":return r.jsx(pg,{});case"inbox-ui":return r.jsx(tv,{apiBaseUrl:rv?.VITE_API_BASE_URL||"/api"});case"candidates":return r.jsx(ng,{initialProfessionFilter:f});case"candidate-browser":return r.jsx(ig,{});case"employers":return r.jsx(lg,{});case"jobs":return r.jsx(og,{});case"templates":return r.jsx(fg,{});case"application-link":return r.jsx(hg,{});case"reports":return r.jsx(cg,{});case"settings":return r.jsx(ug,{});case"users":return r.jsx(Zy,{});default:return r.jsx(ah,{})}};return typeof window<"u"&&window.location.pathname==="/apply"?r.jsx($h,{}):n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:Wn.company.logo,alt:Wn.company.name,className:"h-12 w-12 object-contain"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-blue-600 font-bold text-lg",children:Wn.company.name}),r.jsxs("p",{className:"text-gray-600 text-xs flex gap-2",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(rn,{className:"w-3 h-3"}),Wn.contact.phone]}),r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mt,{className:"w-3 h-3"}),Wn.contact.email]})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>y(!x),className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.name}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${w.role==="Admin"?"bg-purple-500":w.role==="Manager"?"bg-blue-500":w.role==="Recruiter"?"bg-green-500":"bg-gray-500"}`}),w.role]})]}),r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${w.role==="Admin"?"bg-gradient-to-br from-purple-500 to-purple-600":w.role==="Manager"?"bg-gradient-to-br from-blue-500 to-blue-600":w.role==="Recruiter"?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-gray-500 to-gray-600"}`,children:w.name[0]}),r.jsx(Tf,{className:`w-4 h-4 text-gray-400 transition-transform ${x?"rotate-180":""}`})]}),x&&r.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-xs text-gray-500",children:w.email}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last active: ",w.lastActive]})]}),r.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(er,{className:"w-4 h-4"}),"My Profile"]}),r.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Uo,{className:"w-4 h-4"}),"Preferences"]}),r.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:r.jsxs("button",{onClick:()=>{s(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(p0,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})})}),r.jsxs("div",{className:"flex",children:[!T&&r.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-[calc(100vh-73px)]",children:r.jsxs("nav",{className:"p-4 space-y-1",children:[r.jsxs("button",{onClick:()=>c("dashboard"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="dashboard"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(s0,{className:"w-4 h-4"}),"Dashboard"]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"CANDIDATE OPERATIONS"}),r.jsxs("button",{onClick:()=>c("cv-inbox"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="cv-inbox"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Lh,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"CV Inbox"}),r.jsx("span",{className:"bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded text-xs",children:"5 New"})]}),r.jsxs("button",{onClick:()=>c("inbox-ui"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="inbox-ui"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"Inbox Manager"})]}),r.jsxs("button",{onClick:()=>{c("candidates"),m("all")},className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidates"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(er,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"Candidates"}),r.jsx("span",{className:"text-xs text-gray-500",children:O.all??0})]}),_.map(W=>r.jsxs("button",{onClick:()=>{c("candidates"),m(W)},className:`w-full flex items-center gap-3 pl-12 pr-4 py-2 rounded-lg transition-colors text-sm ${l==="candidates"&&f===W?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"flex-1 text-left",children:W}),r.jsx("span",{className:"text-xs text-gray-500",children:O[W]})]},W)),r.jsxs("button",{onClick:()=>c("candidate-browser"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidate-browser"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Gf,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"Browser (Excel)"})]})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"EMPLOYER & JOBS"}),r.jsxs("button",{onClick:()=>c("employers"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="employers"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(_i,{className:"w-4 h-4"}),"Employers"]}),r.jsxs("button",{onClick:()=>c("jobs"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="jobs"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Xt,{className:"w-4 h-4"}),"Job Orders"]})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"COMMUNICATION"}),r.jsxs("button",{onClick:()=>c("templates"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="templates"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(xr,{className:"w-4 h-4"}),"Templates"]}),r.jsxs("button",{onClick:()=>c("application-link"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="application-link"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Xo,{className:"w-4 h-4"}),"Application Link"]})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"SYSTEM"}),xg(w,"users","view")&&r.jsxs("button",{onClick:()=>c("users"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="users"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Ft,{className:"w-4 h-4"}),"User Management"]}),r.jsxs("button",{onClick:()=>c("reports"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="reports"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Yt,{className:"w-4 h-4"}),"Reports"]}),r.jsxs("button",{onClick:()=>c("settings"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="settings"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Uo,{className:"w-4 h-4"}),"Settings"]})]})]})}),r.jsxs("main",{className:"flex-1",children:[T&&r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:r.jsxs("button",{onClick:()=>c("candidates"),className:"flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-colors",children:[r.jsx(gf,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Back to Candidates"})]})}),r.jsx("div",{className:T?"":"p-6",children:U()})]})]})]}):r.jsx(ev,{})};function nv(){return r.jsx(Xy,{children:r.jsx(sv,{})})}of.createRoot(document.getElementById("root")).render(r.jsx(nv,{}));

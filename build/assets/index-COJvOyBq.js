(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function n(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=n(u);fetch(u.href,d)}})();var bo={exports:{}},zn={},wo={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function Zm(){if(qd)return Ne;qd=1;var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function k(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,w={};function T(_,D,ue){this.props=_,this.context=D,this.refs=w,this.updater=ue||S}T.prototype.isReactComponent={},T.prototype.setState=function(_,D){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,D,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function B(){}B.prototype=T.prototype;function V(_,D,ue){this.props=_,this.context=D,this.refs=w,this.updater=ue||S}var W=V.prototype=new B;W.constructor=V,O(W,T.prototype),W.isPureReactComponent=!0;var K=Array.isArray,U=Object.prototype.hasOwnProperty,A={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function le(_,D,ue){var R,Y={},G=null,be=null;if(D!=null)for(R in D.ref!==void 0&&(be=D.ref),D.key!==void 0&&(G=""+D.key),D)U.call(D,R)&&!J.hasOwnProperty(R)&&(Y[R]=D[R]);var me=arguments.length-2;if(me===1)Y.children=ue;else if(1<me){for(var Ee=Array(me),Ce=0;Ce<me;Ce++)Ee[Ce]=arguments[Ce+2];Y.children=Ee}if(_&&_.defaultProps)for(R in me=_.defaultProps,me)Y[R]===void 0&&(Y[R]=me[R]);return{$$typeof:i,type:_,key:G,ref:be,props:Y,_owner:A.current}}function pe(_,D){return{$$typeof:i,type:_.type,key:D,ref:_.ref,props:_.props,_owner:_._owner}}function xe(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function ve(_){var D={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ue){return D[ue]})}var _e=/\/+/g;function ye(_,D){return typeof _=="object"&&_!==null&&_.key!=null?ve(""+_.key):D.toString(36)}function Xe(_,D,ue,R,Y){var G=typeof _;(G==="undefined"||G==="boolean")&&(_=null);var be=!1;if(_===null)be=!0;else switch(G){case"string":case"number":be=!0;break;case"object":switch(_.$$typeof){case i:case s:be=!0}}if(be)return be=_,Y=Y(be),_=R===""?"."+ye(be,0):R,K(Y)?(ue="",_!=null&&(ue=_.replace(_e,"$&/")+"/"),Xe(Y,D,ue,"",function(Ce){return Ce})):Y!=null&&(xe(Y)&&(Y=pe(Y,ue+(!Y.key||be&&be.key===Y.key?"":(""+Y.key).replace(_e,"$&/")+"/")+_)),D.push(Y)),1;if(be=0,R=R===""?".":R+":",K(_))for(var me=0;me<_.length;me++){G=_[me];var Ee=R+ye(G,me);be+=Xe(G,D,ue,Ee,Y)}else if(Ee=k(_),typeof Ee=="function")for(_=Ee.call(_),me=0;!(G=_.next()).done;)G=G.value,Ee=R+ye(G,me++),be+=Xe(G,D,ue,Ee,Y);else if(G==="object")throw D=String(_),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return be}function lt(_,D,ue){if(_==null)return _;var R=[],Y=0;return Xe(_,R,"","",function(G){return D.call(ue,G,Y++)}),R}function qe(_){if(_._status===-1){var D=_._result;D=D(),D.then(function(ue){(_._status===0||_._status===-1)&&(_._status=1,_._result=ue)},function(ue){(_._status===0||_._status===-1)&&(_._status=2,_._result=ue)}),_._status===-1&&(_._status=0,_._result=D)}if(_._status===1)return _._result.default;throw _._result}var je={current:null},H={transition:null},ae={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:H,ReactCurrentOwner:A};function L(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:lt,forEach:function(_,D,ue){lt(_,function(){D.apply(this,arguments)},ue)},count:function(_){var D=0;return lt(_,function(){D++}),D},toArray:function(_){return lt(_,function(D){return D})||[]},only:function(_){if(!xe(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ne.Component=T,Ne.Fragment=n,Ne.Profiler=u,Ne.PureComponent=V,Ne.StrictMode=l,Ne.Suspense=m,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ne.act=L,Ne.cloneElement=function(_,D,ue){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var R=O({},_.props),Y=_.key,G=_.ref,be=_._owner;if(D!=null){if(D.ref!==void 0&&(G=D.ref,be=A.current),D.key!==void 0&&(Y=""+D.key),_.type&&_.type.defaultProps)var me=_.type.defaultProps;for(Ee in D)U.call(D,Ee)&&!J.hasOwnProperty(Ee)&&(R[Ee]=D[Ee]===void 0&&me!==void 0?me[Ee]:D[Ee])}var Ee=arguments.length-2;if(Ee===1)R.children=ue;else if(1<Ee){me=Array(Ee);for(var Ce=0;Ce<Ee;Ce++)me[Ce]=arguments[Ce+2];R.children=me}return{$$typeof:i,type:_.type,key:Y,ref:G,props:R,_owner:be}},Ne.createContext=function(_){return _={$$typeof:p,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:d,_context:_},_.Consumer=_},Ne.createElement=le,Ne.createFactory=function(_){var D=le.bind(null,_);return D.type=_,D},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(_){return{$$typeof:f,render:_}},Ne.isValidElement=xe,Ne.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:qe}},Ne.memo=function(_,D){return{$$typeof:x,type:_,compare:D===void 0?null:D}},Ne.startTransition=function(_){var D=H.transition;H.transition={};try{_()}finally{H.transition=D}},Ne.unstable_act=L,Ne.useCallback=function(_,D){return je.current.useCallback(_,D)},Ne.useContext=function(_){return je.current.useContext(_)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(_){return je.current.useDeferredValue(_)},Ne.useEffect=function(_,D){return je.current.useEffect(_,D)},Ne.useId=function(){return je.current.useId()},Ne.useImperativeHandle=function(_,D,ue){return je.current.useImperativeHandle(_,D,ue)},Ne.useInsertionEffect=function(_,D){return je.current.useInsertionEffect(_,D)},Ne.useLayoutEffect=function(_,D){return je.current.useLayoutEffect(_,D)},Ne.useMemo=function(_,D){return je.current.useMemo(_,D)},Ne.useReducer=function(_,D,ue){return je.current.useReducer(_,D,ue)},Ne.useRef=function(_){return je.current.useRef(_)},Ne.useState=function(_){return je.current.useState(_)},Ne.useSyncExternalStore=function(_,D,ue){return je.current.useSyncExternalStore(_,D,ue)},Ne.useTransition=function(){return je.current.useTransition()},Ne.version="18.3.1",Ne}var Hd;function Qo(){return Hd||(Hd=1,wo.exports=Zm()),wo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function ef(){if(Kd)return zn;Kd=1;var i=Qo(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(f,m,x){var y,b={},k=null,S=null;x!==void 0&&(k=""+x),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)l.call(m,y)&&!d.hasOwnProperty(y)&&(b[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)b[y]===void 0&&(b[y]=m[y]);return{$$typeof:s,type:f,key:k,ref:S,props:b,_owner:u.current}}return zn.Fragment=n,zn.jsx=p,zn.jsxs=p,zn}var Gd;function tf(){return Gd||(Gd=1,bo.exports=ef()),bo.exports}var r=tf(),ci={},jo={exports:{}},Nt={},No={exports:{}},_o={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function rf(){return Jd||(Jd=1,(function(i){function s(H,ae){var L=H.length;H.push(ae);e:for(;0<L;){var _=L-1>>>1,D=H[_];if(0<u(D,ae))H[_]=ae,H[L]=D,L=_;else break e}}function n(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var ae=H[0],L=H.pop();if(L!==ae){H[0]=L;e:for(var _=0,D=H.length,ue=D>>>1;_<ue;){var R=2*(_+1)-1,Y=H[R],G=R+1,be=H[G];if(0>u(Y,L))G<D&&0>u(be,Y)?(H[_]=be,H[G]=L,_=G):(H[_]=Y,H[R]=L,_=R);else if(G<D&&0>u(be,L))H[_]=be,H[G]=L,_=G;else break e}}return ae}function u(H,ae){var L=H.sortIndex-ae.sortIndex;return L!==0?L:H.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,f=p.now();i.unstable_now=function(){return p.now()-f}}var m=[],x=[],y=1,b=null,k=3,S=!1,O=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(H){for(var ae=n(x);ae!==null;){if(ae.callback===null)l(x);else if(ae.startTime<=H)l(x),ae.sortIndex=ae.expirationTime,s(m,ae);else break;ae=n(x)}}function K(H){if(w=!1,W(H),!O)if(n(m)!==null)O=!0,qe(U);else{var ae=n(x);ae!==null&&je(K,ae.startTime-H)}}function U(H,ae){O=!1,w&&(w=!1,B(le),le=-1),S=!0;var L=k;try{for(W(ae),b=n(m);b!==null&&(!(b.expirationTime>ae)||H&&!ve());){var _=b.callback;if(typeof _=="function"){b.callback=null,k=b.priorityLevel;var D=_(b.expirationTime<=ae);ae=i.unstable_now(),typeof D=="function"?b.callback=D:b===n(m)&&l(m),W(ae)}else l(m);b=n(m)}if(b!==null)var ue=!0;else{var R=n(x);R!==null&&je(K,R.startTime-ae),ue=!1}return ue}finally{b=null,k=L,S=!1}}var A=!1,J=null,le=-1,pe=5,xe=-1;function ve(){return!(i.unstable_now()-xe<pe)}function _e(){if(J!==null){var H=i.unstable_now();xe=H;var ae=!0;try{ae=J(!0,H)}finally{ae?ye():(A=!1,J=null)}}else A=!1}var ye;if(typeof V=="function")ye=function(){V(_e)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,lt=Xe.port2;Xe.port1.onmessage=_e,ye=function(){lt.postMessage(null)}}else ye=function(){T(_e,0)};function qe(H){J=H,A||(A=!0,ye())}function je(H,ae){le=T(function(){H(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_continueExecution=function(){O||S||(O=!0,qe(U))},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return n(m)},i.unstable_next=function(H){switch(k){case 1:case 2:case 3:var ae=3;break;default:ae=k}var L=k;k=ae;try{return H()}finally{k=L}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var L=k;k=H;try{return ae()}finally{k=L}},i.unstable_scheduleCallback=function(H,ae,L){var _=i.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?_+L:_):L=_,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=L+D,H={id:y++,callback:ae,priorityLevel:H,startTime:L,expirationTime:D,sortIndex:-1},L>_?(H.sortIndex=L,s(x,H),n(m)===null&&H===n(x)&&(w?(B(le),le=-1):w=!0,je(K,L-_))):(H.sortIndex=D,s(m,H),O||S||(O=!0,qe(U))),H},i.unstable_shouldYield=ve,i.unstable_wrapCallback=function(H){var ae=k;return function(){var L=k;k=ae;try{return H.apply(this,arguments)}finally{k=L}}}})(_o)),_o}var Qd;function sf(){return Qd||(Qd=1,No.exports=rf()),No.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function nf(){if(Yd)return Nt;Yd=1;var i=Qo(),s=sf();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function k(e){return m.call(b,e)?!0:m.call(y,e)?!1:x.test(e)?b[e]=!0:(y[e]=!0,!1)}function S(e,t,a,o){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,a,o){if(t===null||typeof t>"u"||S(e,t,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,a,o,c,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function V(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B,V);T[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B,V);T[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B,V);T[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function W(e,t,a,o){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,a,c,o)&&(a=null),o||c===null?k(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):c.mustUseProperty?e[c.propertyName]=a===null?c.type===3?!1:"":a:(t=c.attributeName,o=c.attributeNamespace,a===null?e.removeAttribute(t):(c=c.type,a=c===3||c===4&&a===!0?"":""+a,o?e.setAttributeNS(o,t,a):e.setAttribute(t,a))))}var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),A=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ve=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),H=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,_;function D(e){if(_===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return`
`+_+e}var ue=!1;function R(e,t){if(!e||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var o=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){o=P}e.call(t.prototype)}else{try{throw Error()}catch(P){o=P}e()}}catch(P){if(P&&o&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),h=o.stack.split(`
`),g=c.length-1,v=h.length-1;1<=g&&0<=v&&c[g]!==h[v];)v--;for(;1<=g&&0<=v;g--,v--)if(c[g]!==h[v]){if(g!==1||v!==1)do if(g--,v--,0>v||c[g]!==h[v]){var j=`
`+c[g].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=g&&0<=v);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?D(e):""}function Y(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1),e;case 11:return e=R(e.type.render,!1),e;case 1:return e=R(e.type,!0),e;default:return""}}function G(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case A:return"Portal";case pe:return"Profiler";case le:return"StrictMode";case ye:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case xe:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lt:return t=e.displayName||null,t!==null?t:G(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return G(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ce(e){var t=Ee(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function I(e){e._valueTracker||(e._valueTracker=Ce(e))}function ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),o="";return e&&(o=Ee(e)?e.checked?"true":"false":e.value),e=o,e!==a?(t.setValue(e),!0):!1}function ie(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ge(e,t){var a=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function we(e,t){var a=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;a=me(t.value!=null?t.value:a),e._wrapperState={initialChecked:o,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pe(e,t){t=t.checked,t!=null&&W(e,"checked",t,!1)}function ot(e,t){Pe(e,t);var a=me(t.value),o=t.type;if(a!=null)o==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xt(e,t.type,a):t.hasOwnProperty("defaultValue")&&xt(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ct(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function xt(e,t,a){(t!=="number"||ie(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var Ft=Array.isArray;function Tt(e,t,a,o){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&o&&(e[a].defaultSelected=!0)}else{for(a=""+me(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function br(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hs(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(n(92));if(Ft(a)){if(1<a.length)throw Error(n(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:me(a)}}function ir(e,t){var a=me(t.value),o=me(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),o!=null&&(e.defaultValue=""+o)}function Vr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,ac=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,a,o,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sp=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(e){sp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sn[t]=sn[e]})});function ic(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||sn.hasOwnProperty(e)&&sn[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var o=a.indexOf("--")===0,c=ic(a,t[a],o);a==="float"&&(a="cssFloat"),o?e.setProperty(a,c):e[a]=c}}var np=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ti(e,t){if(t){if(np[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Oi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,ps=null,ms=null;function oc(e){if(e=Sn(e)){if(typeof Ii!="function")throw Error(n(280));var t=e.stateNode;t&&(t=_a(t),Ii(e.stateNode,e.type,t))}}function cc(e){ps?ms?ms.push(e):ms=[e]:ps=e}function uc(){if(ps){var e=ps,t=ms;if(ms=ps=null,oc(e),t)for(e=0;e<t.length;e++)oc(t[e])}}function dc(e,t){return e(t)}function hc(){}var Di=!1;function pc(e,t,a){if(Di)return e(t,a);Di=!0;try{return dc(e,t,a)}finally{Di=!1,(ps!==null||ms!==null)&&(hc(),uc())}}function nn(e,t){var a=e.stateNode;if(a===null)return null;var o=_a(a);if(o===null)return null;a=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,t,typeof a));return a}var $i=!1;if(f)try{var an={};Object.defineProperty(an,"passive",{get:function(){$i=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{$i=!1}function ap(e,t,a,o,c,h,g,v,j){var P=Array.prototype.slice.call(arguments,3);try{t.apply(a,P)}catch(F){this.onError(F)}}var ln=!1,ra=null,sa=!1,Mi=null,ip={onError:function(e){ln=!0,ra=e}};function lp(e,t,a,o,c,h,g,v,j){ln=!1,ra=null,ap.apply(ip,arguments)}function op(e,t,a,o,c,h,g,v,j){if(lp.apply(this,arguments),ln){if(ln){var P=ra;ln=!1,ra=null}else throw Error(n(198));sa||(sa=!0,Mi=P)}}function Wr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fc(e){if(Wr(e)!==e)throw Error(n(188))}function cp(e){var t=e.alternate;if(!t){if(t=Wr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var a=e,o=t;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return fc(c),e;if(h===o)return fc(c),t;h=h.sibling}throw Error(n(188))}if(a.return!==o.return)a=c,o=h;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=h;break}if(v===o){g=!0,o=c,a=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===a){g=!0,a=h,o=c;break}if(v===o){g=!0,o=h,a=c;break}v=v.sibling}if(!g)throw Error(n(189))}}if(a.alternate!==o)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:t}function gc(e){return e=cp(e),e!==null?xc(e):null}function xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xc(e);if(t!==null)return t;e=e.sibling}return null}var yc=s.unstable_scheduleCallback,vc=s.unstable_cancelCallback,up=s.unstable_shouldYield,dp=s.unstable_requestPaint,Be=s.unstable_now,hp=s.unstable_getCurrentPriorityLevel,Ui=s.unstable_ImmediatePriority,bc=s.unstable_UserBlockingPriority,na=s.unstable_NormalPriority,pp=s.unstable_LowPriority,wc=s.unstable_IdlePriority,aa=null,tr=null;function mp(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(aa,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:xp,fp=Math.log,gp=Math.LN2;function xp(e){return e>>>=0,e===0?32:31-(fp(e)/gp|0)|0}var ia=64,la=4194304;function on(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oa(e,t){var a=e.pendingLanes;if(a===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes,g=a&268435455;if(g!==0){var v=g&~c;v!==0?o=on(v):(h&=g,h!==0&&(o=on(h)))}else g=a&~c,g!==0?o=on(g):h!==0&&(o=on(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&c)===0&&(c=o&-o,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)a=31-zt(t),c=1<<a,o|=e[a],t&=~c;return o}function yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vp(e,t){for(var a=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-zt(h),v=1<<g,j=c[g];j===-1?((v&a)===0||(v&o)!==0)&&(c[g]=yp(v,t)):j<=t&&(e.expiredLanes|=v),h&=~v}}function Fi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jc(){var e=ia;return ia<<=1,(ia&4194240)===0&&(ia=64),e}function zi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function cn(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=a}function bp(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<a;){var c=31-zt(a),h=1<<c;t[c]=0,o[c]=-1,e[c]=-1,a&=~h}}function Bi(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var o=31-zt(a),c=1<<o;c&t|e[o]&t&&(e[o]|=t),a&=~c}}var Ae=0;function Nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _c,Vi,kc,Sc,Ec,Wi=!1,ca=[],wr=null,jr=null,Nr=null,un=new Map,dn=new Map,_r=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(t.pointerId)}}function hn(e,t,a,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Sn(t),t!==null&&Vi(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function jp(e,t,a,o,c){switch(t){case"focusin":return wr=hn(wr,e,t,a,o,c),!0;case"dragenter":return jr=hn(jr,e,t,a,o,c),!0;case"mouseover":return Nr=hn(Nr,e,t,a,o,c),!0;case"pointerover":var h=c.pointerId;return un.set(h,hn(un.get(h)||null,e,t,a,o,c)),!0;case"gotpointercapture":return h=c.pointerId,dn.set(h,hn(dn.get(h)||null,e,t,a,o,c)),!0}return!1}function Ac(e){var t=qr(e.target);if(t!==null){var a=Wr(t);if(a!==null){if(t=a.tag,t===13){if(t=mc(a),t!==null){e.blockedOn=t,Ec(e.priority,function(){kc(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Hi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ri=o,a.target.dispatchEvent(o),Ri=null}else return t=Sn(a),t!==null&&Vi(t),e.blockedOn=a,!1;t.shift()}return!0}function Pc(e,t,a){ua(e)&&a.delete(t)}function Np(){Wi=!1,wr!==null&&ua(wr)&&(wr=null),jr!==null&&ua(jr)&&(jr=null),Nr!==null&&ua(Nr)&&(Nr=null),un.forEach(Pc),dn.forEach(Pc)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,Wi||(Wi=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Np)))}function mn(e){function t(c){return pn(c,e)}if(0<ca.length){pn(ca[0],e);for(var a=1;a<ca.length;a++){var o=ca[a];o.blockedOn===e&&(o.blockedOn=null)}}for(wr!==null&&pn(wr,e),jr!==null&&pn(jr,e),Nr!==null&&pn(Nr,e),un.forEach(t),dn.forEach(t),a=0;a<_r.length;a++)o=_r[a],o.blockedOn===e&&(o.blockedOn=null);for(;0<_r.length&&(a=_r[0],a.blockedOn===null);)Ac(a),a.blockedOn===null&&_r.shift()}var fs=K.ReactCurrentBatchConfig,da=!0;function _p(e,t,a,o){var c=Ae,h=fs.transition;fs.transition=null;try{Ae=1,qi(e,t,a,o)}finally{Ae=c,fs.transition=h}}function kp(e,t,a,o){var c=Ae,h=fs.transition;fs.transition=null;try{Ae=4,qi(e,t,a,o)}finally{Ae=c,fs.transition=h}}function qi(e,t,a,o){if(da){var c=Hi(e,t,a,o);if(c===null)cl(e,t,o,ha,a),Cc(e,o);else if(jp(c,e,t,a,o))o.stopPropagation();else if(Cc(e,o),t&4&&-1<wp.indexOf(e)){for(;c!==null;){var h=Sn(c);if(h!==null&&_c(h),h=Hi(e,t,a,o),h===null&&cl(e,t,o,ha,a),h===c)break;c=h}c!==null&&o.stopPropagation()}else cl(e,t,o,null,a)}}var ha=null;function Hi(e,t,a,o){if(ha=null,e=Li(o),e=qr(e),e!==null)if(t=Wr(e),t===null)e=null;else if(a=t.tag,a===13){if(e=mc(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ha=e,null}function Tc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Ui:return 1;case bc:return 4;case na:case pp:return 16;case wc:return 536870912;default:return 16}default:return 16}}var kr=null,Ki=null,pa=null;function Oc(){if(pa)return pa;var e,t=Ki,a=t.length,o,c="value"in kr?kr.value:kr.textContent,h=c.length;for(e=0;e<a&&t[e]===c[e];e++);var g=a-e;for(o=1;o<=g&&t[a-o]===c[h-o];o++);return pa=c.slice(e,1<o?1-o:void 0)}function ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fa(){return!0}function Rc(){return!1}function _t(e){function t(a,o,c,h,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?fa:Rc,this.isPropagationStopped=Rc,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),t}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=_t(gs),fn=L({},gs,{view:0,detail:0}),Sp=_t(fn),Ji,Qi,gn,ga=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&e.type==="mousemove"?(Ji=e.screenX-gn.screenX,Qi=e.screenY-gn.screenY):Qi=Ji=0,gn=e),Ji)},movementY:function(e){return"movementY"in e?e.movementY:Qi}}),Lc=_t(ga),Ep=L({},ga,{dataTransfer:0}),Cp=_t(Ep),Ap=L({},fn,{relatedTarget:0}),Yi=_t(Ap),Pp=L({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=_t(Pp),Op=L({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rp=_t(Op),Lp=L({},gs,{data:0}),Ic=_t(Lp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$p[e])?!!t[e]:!1}function Xi(){return Mp}var Up=L({},fn,{key:function(e){if(e.key){var t=Ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fp=_t(Up),zp=L({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=_t(zp),Bp=L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),Vp=_t(Bp),Wp=L({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=_t(Wp),Hp=L({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=_t(Hp),Gp=[9,13,27,32],Zi=f&&"CompositionEvent"in window,xn=null;f&&"documentMode"in document&&(xn=document.documentMode);var Jp=f&&"TextEvent"in window&&!xn,$c=f&&(!Zi||xn&&8<xn&&11>=xn),Mc=" ",Uc=!1;function Fc(e,t){switch(e){case"keyup":return Gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function Qp(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Uc=!0,Mc);case"textInput":return e=t.data,e===Mc&&Uc?null:e;default:return null}}function Yp(e,t){if(xs)return e==="compositionend"||!Zi&&Fc(e,t)?(e=Oc(),pa=Ki=kr=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var Xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xp[e.type]:t==="textarea"}function Vc(e,t,a,o){cc(o),t=wa(t,"onChange"),0<t.length&&(a=new Gi("onChange","change",null,a,o),e.push({event:a,listeners:t}))}var yn=null,vn=null;function Zp(e){lu(e,0)}function xa(e){var t=js(e);if(ee(t))return e}function em(e,t){if(e==="change")return t}var Wc=!1;if(f){var el;if(f){var tl="oninput"in document;if(!tl){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),tl=typeof qc.oninput=="function"}el=tl}else el=!1;Wc=el&&(!document.documentMode||9<document.documentMode)}function Hc(){yn&&(yn.detachEvent("onpropertychange",Kc),vn=yn=null)}function Kc(e){if(e.propertyName==="value"&&xa(vn)){var t=[];Vc(t,vn,e,Li(e)),pc(Zp,t)}}function tm(e,t,a){e==="focusin"?(Hc(),yn=t,vn=a,yn.attachEvent("onpropertychange",Kc)):e==="focusout"&&Hc()}function rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(vn)}function sm(e,t){if(e==="click")return xa(t)}function nm(e,t){if(e==="input"||e==="change")return xa(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:am;function bn(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!m.call(t,c)||!Bt(e[c],t[c]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var a=Gc(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=t&&o>=t)return{node:a,offset:t-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gc(a)}}function Qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(){for(var e=window,t=ie();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ie(e.document)}return t}function rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function im(e){var t=Yc(),a=e.focusedElem,o=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Qc(a.ownerDocument.documentElement,a)){if(o!==null&&rl(a)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=a.textContent.length,h=Math.min(o.start,c);o=o.end===void 0?h:Math.min(o.end,c),!e.extend&&h>o&&(c=o,o=h,h=c),c=Jc(a,h);var g=Jc(a,o);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lm=f&&"documentMode"in document&&11>=document.documentMode,ys=null,sl=null,wn=null,nl=!1;function Xc(e,t,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nl||ys==null||ys!==ie(o)||(o=ys,"selectionStart"in o&&rl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wn&&bn(wn,o)||(wn=o,o=wa(sl,"onSelect"),0<o.length&&(t=new Gi("onSelect","select",null,t,a),e.push({event:t,listeners:o}),t.target=ys)))}function ya(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vs={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},al={},Zc={};f&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function va(e){if(al[e])return al[e];if(!vs[e])return e;var t=vs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zc)return al[e]=t[a];return e}var eu=va("animationend"),tu=va("animationiteration"),ru=va("animationstart"),su=va("transitionend"),nu=new Map,au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){nu.set(e,t),d(t,[e])}for(var il=0;il<au.length;il++){var ll=au[il],om=ll.toLowerCase(),cm=ll[0].toUpperCase()+ll.slice(1);Sr(om,"on"+cm)}Sr(eu,"onAnimationEnd"),Sr(tu,"onAnimationIteration"),Sr(ru,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(su,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function iu(e,t,a){var o=e.type||"unknown-event";e.currentTarget=a,op(o,t,void 0,e),e.currentTarget=null}function lu(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],c=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var g=o.length-1;0<=g;g--){var v=o[g],j=v.instance,P=v.currentTarget;if(v=v.listener,j!==h&&c.isPropagationStopped())break e;iu(c,v,P),h=j}else for(g=0;g<o.length;g++){if(v=o[g],j=v.instance,P=v.currentTarget,v=v.listener,j!==h&&c.isPropagationStopped())break e;iu(c,v,P),h=j}}}if(sa)throw e=Mi,sa=!1,Mi=null,e}function Re(e,t){var a=t[fl];a===void 0&&(a=t[fl]=new Set);var o=e+"__bubble";a.has(o)||(ou(t,e,2,!1),a.add(o))}function ol(e,t,a){var o=0;t&&(o|=4),ou(a,e,o,t)}var ba="_reactListening"+Math.random().toString(36).slice(2);function Nn(e){if(!e[ba]){e[ba]=!0,l.forEach(function(a){a!=="selectionchange"&&(um.has(a)||ol(a,!1,e),ol(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ba]||(t[ba]=!0,ol("selectionchange",!1,t))}}function ou(e,t,a,o){switch(Tc(t)){case 1:var c=_p;break;case 4:c=kp;break;default:c=qi}a=c.bind(null,t,a,e),c=void 0,!$i||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function cl(e,t,a,o,c){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var j=g.tag;if((j===3||j===4)&&(j=g.stateNode.containerInfo,j===c||j.nodeType===8&&j.parentNode===c))return;g=g.return}for(;v!==null;){if(g=qr(v),g===null)return;if(j=g.tag,j===5||j===6){o=h=g;continue e}v=v.parentNode}}o=o.return}pc(function(){var P=h,F=Li(a),z=[];e:{var M=nu.get(e);if(M!==void 0){var Q=Gi,te=e;switch(e){case"keypress":if(ma(a)===0)break e;case"keydown":case"keyup":Q=Fp;break;case"focusin":te="focus",Q=Yi;break;case"focusout":te="blur",Q=Yi;break;case"beforeblur":case"afterblur":Q=Yi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Vp;break;case eu:case tu:case ru:Q=Tp;break;case su:Q=qp;break;case"scroll":Q=Sp;break;case"wheel":Q=Kp;break;case"copy":case"cut":case"paste":Q=Rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Dc}var re=(t&4)!==0,Ve=!re&&e==="scroll",E=re?M!==null?M+"Capture":null:M;re=[];for(var N=P,C;N!==null;){C=N;var q=C.stateNode;if(C.tag===5&&q!==null&&(C=q,E!==null&&(q=nn(N,E),q!=null&&re.push(_n(N,q,C)))),Ve)break;N=N.return}0<re.length&&(M=new Q(M,te,null,a,F),z.push({event:M,listeners:re}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",M&&a!==Ri&&(te=a.relatedTarget||a.fromElement)&&(qr(te)||te[lr]))break e;if((Q||M)&&(M=F.window===F?F:(M=F.ownerDocument)?M.defaultView||M.parentWindow:window,Q?(te=a.relatedTarget||a.toElement,Q=P,te=te?qr(te):null,te!==null&&(Ve=Wr(te),te!==Ve||te.tag!==5&&te.tag!==6)&&(te=null)):(Q=null,te=P),Q!==te)){if(re=Lc,q="onMouseLeave",E="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(re=Dc,q="onPointerLeave",E="onPointerEnter",N="pointer"),Ve=Q==null?M:js(Q),C=te==null?M:js(te),M=new re(q,N+"leave",Q,a,F),M.target=Ve,M.relatedTarget=C,q=null,qr(F)===P&&(re=new re(E,N+"enter",te,a,F),re.target=C,re.relatedTarget=Ve,q=re),Ve=q,Q&&te)t:{for(re=Q,E=te,N=0,C=re;C;C=bs(C))N++;for(C=0,q=E;q;q=bs(q))C++;for(;0<N-C;)re=bs(re),N--;for(;0<C-N;)E=bs(E),C--;for(;N--;){if(re===E||E!==null&&re===E.alternate)break t;re=bs(re),E=bs(E)}re=null}else re=null;Q!==null&&cu(z,M,Q,re,!1),te!==null&&Ve!==null&&cu(z,Ve,te,re,!0)}}e:{if(M=P?js(P):window,Q=M.nodeName&&M.nodeName.toLowerCase(),Q==="select"||Q==="input"&&M.type==="file")var se=em;else if(Bc(M))if(Wc)se=nm;else{se=rm;var oe=tm}else(Q=M.nodeName)&&Q.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(se=sm);if(se&&(se=se(e,P))){Vc(z,se,a,F);break e}oe&&oe(e,M,P),e==="focusout"&&(oe=M._wrapperState)&&oe.controlled&&M.type==="number"&&xt(M,"number",M.value)}switch(oe=P?js(P):window,e){case"focusin":(Bc(oe)||oe.contentEditable==="true")&&(ys=oe,sl=P,wn=null);break;case"focusout":wn=sl=ys=null;break;case"mousedown":nl=!0;break;case"contextmenu":case"mouseup":case"dragend":nl=!1,Xc(z,a,F);break;case"selectionchange":if(lm)break;case"keydown":case"keyup":Xc(z,a,F)}var ce;if(Zi)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else xs?Fc(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&($c&&a.locale!=="ko"&&(xs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&xs&&(ce=Oc()):(kr=F,Ki="value"in kr?kr.value:kr.textContent,xs=!0)),oe=wa(P,fe),0<oe.length&&(fe=new Ic(fe,e,null,a,F),z.push({event:fe,listeners:oe}),ce?fe.data=ce:(ce=zc(a),ce!==null&&(fe.data=ce)))),(ce=Jp?Qp(e,a):Yp(e,a))&&(P=wa(P,"onBeforeInput"),0<P.length&&(F=new Ic("onBeforeInput","beforeinput",null,a,F),z.push({event:F,listeners:P}),F.data=ce))}lu(z,t)})}function _n(e,t,a){return{instance:e,listener:t,currentTarget:a}}function wa(e,t){for(var a=t+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=nn(e,a),h!=null&&o.unshift(_n(e,h,c)),h=nn(e,t),h!=null&&o.push(_n(e,h,c))),e=e.return}return o}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,a,o,c){for(var h=t._reactName,g=[];a!==null&&a!==o;){var v=a,j=v.alternate,P=v.stateNode;if(j!==null&&j===o)break;v.tag===5&&P!==null&&(v=P,c?(j=nn(a,h),j!=null&&g.unshift(_n(a,j,v))):c||(j=nn(a,h),j!=null&&g.push(_n(a,j,v)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var dm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function uu(e){return(typeof e=="string"?e:""+e).replace(dm,`
`).replace(hm,"")}function ja(e,t,a){if(t=uu(t),uu(e)!==t&&a)throw Error(n(425))}function Na(){}var ul=null,dl=null;function hl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,pm=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,mm=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(fm)}:pl;function fm(e){setTimeout(function(){throw e})}function ml(e,t){var a=t,o=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){e.removeChild(c),mn(t);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);mn(t)}function Er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var ws=Math.random().toString(36).slice(2),rr="__reactFiber$"+ws,kn="__reactProps$"+ws,lr="__reactContainer$"+ws,fl="__reactEvents$"+ws,gm="__reactListeners$"+ws,xm="__reactHandles$"+ws;function qr(e){var t=e[rr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[lr]||a[rr]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hu(e);e!==null;){if(a=e[rr])return a;e=hu(e)}return t}e=a,a=e.parentNode}return null}function Sn(e){return e=e[rr]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function _a(e){return e[kn]||null}var gl=[],Ns=-1;function Cr(e){return{current:e}}function Le(e){0>Ns||(e.current=gl[Ns],gl[Ns]=null,Ns--)}function Te(e,t){Ns++,gl[Ns]=e.current,e.current=t}var Ar={},ut=Cr(Ar),yt=Cr(!1),Hr=Ar;function _s(e,t){var a=e.type.contextTypes;if(!a)return Ar;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in a)c[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function vt(e){return e=e.childContextTypes,e!=null}function ka(){Le(yt),Le(ut)}function pu(e,t,a){if(ut.current!==Ar)throw Error(n(168));Te(ut,t),Te(yt,a)}function mu(e,t,a){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(n(108,be(e)||"Unknown",c));return L({},a,o)}function Sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,Hr=ut.current,Te(ut,e),Te(yt,yt.current),!0}function fu(e,t,a){var o=e.stateNode;if(!o)throw Error(n(169));a?(e=mu(e,t,Hr),o.__reactInternalMemoizedMergedChildContext=e,Le(yt),Le(ut),Te(ut,e)):Le(yt),Te(yt,a)}var or=null,Ea=!1,xl=!1;function gu(e){or===null?or=[e]:or.push(e)}function ym(e){Ea=!0,gu(e)}function Pr(){if(!xl&&or!==null){xl=!0;var e=0,t=Ae;try{var a=or;for(Ae=1;e<a.length;e++){var o=a[e];do o=o(!0);while(o!==null)}or=null,Ea=!1}catch(c){throw or!==null&&(or=or.slice(e+1)),yc(Ui,Pr),c}finally{Ae=t,xl=!1}}return null}var ks=[],Ss=0,Ca=null,Aa=0,Ot=[],Rt=0,Kr=null,cr=1,ur="";function Gr(e,t){ks[Ss++]=Aa,ks[Ss++]=Ca,Ca=e,Aa=t}function xu(e,t,a){Ot[Rt++]=cr,Ot[Rt++]=ur,Ot[Rt++]=Kr,Kr=e;var o=cr;e=ur;var c=32-zt(o)-1;o&=~(1<<c),a+=1;var h=32-zt(t)+c;if(30<h){var g=c-c%5;h=(o&(1<<g)-1).toString(32),o>>=g,c-=g,cr=1<<32-zt(t)+c|a<<c|o,ur=h+e}else cr=1<<h|a<<c|o,ur=e}function yl(e){e.return!==null&&(Gr(e,1),xu(e,1,0))}function vl(e){for(;e===Ca;)Ca=ks[--Ss],ks[Ss]=null,Aa=ks[--Ss],ks[Ss]=null;for(;e===Kr;)Kr=Ot[--Rt],Ot[Rt]=null,ur=Ot[--Rt],Ot[Rt]=null,cr=Ot[--Rt],Ot[Rt]=null}var kt=null,St=null,De=!1,Vt=null;function yu(e,t){var a=$t(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function vu(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,St=Er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=Kr!==null?{id:cr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=$t(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,kt=e,St=null,!0):!1;default:return!1}}function bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wl(e){if(De){var t=St;if(t){var a=t;if(!vu(e,t)){if(bl(e))throw Error(n(418));t=Er(a.nextSibling);var o=kt;t&&vu(e,t)?yu(o,a):(e.flags=e.flags&-4097|2,De=!1,kt=e)}}else{if(bl(e))throw Error(n(418));e.flags=e.flags&-4097|2,De=!1,kt=e}}}function bu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Pa(e){if(e!==kt)return!1;if(!De)return bu(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hl(e.type,e.memoizedProps)),t&&(t=St)){if(bl(e))throw wu(),Error(n(418));for(;t;)yu(e,t),t=Er(t.nextSibling)}if(bu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){St=Er(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}St=null}}else St=kt?Er(e.stateNode.nextSibling):null;return!0}function wu(){for(var e=St;e;)e=Er(e.nextSibling)}function Es(){St=kt=null,De=!1}function jl(e){Vt===null?Vt=[e]:Vt.push(e)}var vm=K.ReactCurrentBatchConfig;function En(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var o=a.stateNode}if(!o)throw Error(n(147,e));var c=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var v=c.refs;g===null?delete v[h]:v[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,e))}return e}function Ta(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ju(e){var t=e._init;return t(e._payload)}function Nu(e){function t(E,N){if(e){var C=E.deletions;C===null?(E.deletions=[N],E.flags|=16):C.push(N)}}function a(E,N){if(!e)return null;for(;N!==null;)t(E,N),N=N.sibling;return null}function o(E,N){for(E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function c(E,N){return E=Mr(E,N),E.index=0,E.sibling=null,E}function h(E,N,C){return E.index=C,e?(C=E.alternate,C!==null?(C=C.index,C<N?(E.flags|=2,N):C):(E.flags|=2,N)):(E.flags|=1048576,N)}function g(E){return e&&E.alternate===null&&(E.flags|=2),E}function v(E,N,C,q){return N===null||N.tag!==6?(N=mo(C,E.mode,q),N.return=E,N):(N=c(N,C),N.return=E,N)}function j(E,N,C,q){var se=C.type;return se===J?F(E,N,C.props.children,q,C.key):N!==null&&(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===qe&&ju(se)===N.type)?(q=c(N,C.props),q.ref=En(E,N,C),q.return=E,q):(q=ti(C.type,C.key,C.props,null,E.mode,q),q.ref=En(E,N,C),q.return=E,q)}function P(E,N,C,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==C.containerInfo||N.stateNode.implementation!==C.implementation?(N=fo(C,E.mode,q),N.return=E,N):(N=c(N,C.children||[]),N.return=E,N)}function F(E,N,C,q,se){return N===null||N.tag!==7?(N=rs(C,E.mode,q,se),N.return=E,N):(N=c(N,C),N.return=E,N)}function z(E,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return N=mo(""+N,E.mode,C),N.return=E,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return C=ti(N.type,N.key,N.props,null,E.mode,C),C.ref=En(E,null,N),C.return=E,C;case A:return N=fo(N,E.mode,C),N.return=E,N;case qe:var q=N._init;return z(E,q(N._payload),C)}if(Ft(N)||ae(N))return N=rs(N,E.mode,C,null),N.return=E,N;Ta(E,N)}return null}function M(E,N,C,q){var se=N!==null?N.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return se!==null?null:v(E,N,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case U:return C.key===se?j(E,N,C,q):null;case A:return C.key===se?P(E,N,C,q):null;case qe:return se=C._init,M(E,N,se(C._payload),q)}if(Ft(C)||ae(C))return se!==null?null:F(E,N,C,q,null);Ta(E,C)}return null}function Q(E,N,C,q,se){if(typeof q=="string"&&q!==""||typeof q=="number")return E=E.get(C)||null,v(N,E,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return E=E.get(q.key===null?C:q.key)||null,j(N,E,q,se);case A:return E=E.get(q.key===null?C:q.key)||null,P(N,E,q,se);case qe:var oe=q._init;return Q(E,N,C,oe(q._payload),se)}if(Ft(q)||ae(q))return E=E.get(C)||null,F(N,E,q,se,null);Ta(N,q)}return null}function te(E,N,C,q){for(var se=null,oe=null,ce=N,fe=N=0,tt=null;ce!==null&&fe<C.length;fe++){ce.index>fe?(tt=ce,ce=null):tt=ce.sibling;var Se=M(E,ce,C[fe],q);if(Se===null){ce===null&&(ce=tt);break}e&&ce&&Se.alternate===null&&t(E,ce),N=h(Se,N,fe),oe===null?se=Se:oe.sibling=Se,oe=Se,ce=tt}if(fe===C.length)return a(E,ce),De&&Gr(E,fe),se;if(ce===null){for(;fe<C.length;fe++)ce=z(E,C[fe],q),ce!==null&&(N=h(ce,N,fe),oe===null?se=ce:oe.sibling=ce,oe=ce);return De&&Gr(E,fe),se}for(ce=o(E,ce);fe<C.length;fe++)tt=Q(ce,E,fe,C[fe],q),tt!==null&&(e&&tt.alternate!==null&&ce.delete(tt.key===null?fe:tt.key),N=h(tt,N,fe),oe===null?se=tt:oe.sibling=tt,oe=tt);return e&&ce.forEach(function(Ur){return t(E,Ur)}),De&&Gr(E,fe),se}function re(E,N,C,q){var se=ae(C);if(typeof se!="function")throw Error(n(150));if(C=se.call(C),C==null)throw Error(n(151));for(var oe=se=null,ce=N,fe=N=0,tt=null,Se=C.next();ce!==null&&!Se.done;fe++,Se=C.next()){ce.index>fe?(tt=ce,ce=null):tt=ce.sibling;var Ur=M(E,ce,Se.value,q);if(Ur===null){ce===null&&(ce=tt);break}e&&ce&&Ur.alternate===null&&t(E,ce),N=h(Ur,N,fe),oe===null?se=Ur:oe.sibling=Ur,oe=Ur,ce=tt}if(Se.done)return a(E,ce),De&&Gr(E,fe),se;if(ce===null){for(;!Se.done;fe++,Se=C.next())Se=z(E,Se.value,q),Se!==null&&(N=h(Se,N,fe),oe===null?se=Se:oe.sibling=Se,oe=Se);return De&&Gr(E,fe),se}for(ce=o(E,ce);!Se.done;fe++,Se=C.next())Se=Q(ce,E,fe,Se.value,q),Se!==null&&(e&&Se.alternate!==null&&ce.delete(Se.key===null?fe:Se.key),N=h(Se,N,fe),oe===null?se=Se:oe.sibling=Se,oe=Se);return e&&ce.forEach(function(Xm){return t(E,Xm)}),De&&Gr(E,fe),se}function Ve(E,N,C,q){if(typeof C=="object"&&C!==null&&C.type===J&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case U:e:{for(var se=C.key,oe=N;oe!==null;){if(oe.key===se){if(se=C.type,se===J){if(oe.tag===7){a(E,oe.sibling),N=c(oe,C.props.children),N.return=E,E=N;break e}}else if(oe.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===qe&&ju(se)===oe.type){a(E,oe.sibling),N=c(oe,C.props),N.ref=En(E,oe,C),N.return=E,E=N;break e}a(E,oe);break}else t(E,oe);oe=oe.sibling}C.type===J?(N=rs(C.props.children,E.mode,q,C.key),N.return=E,E=N):(q=ti(C.type,C.key,C.props,null,E.mode,q),q.ref=En(E,N,C),q.return=E,E=q)}return g(E);case A:e:{for(oe=C.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===C.containerInfo&&N.stateNode.implementation===C.implementation){a(E,N.sibling),N=c(N,C.children||[]),N.return=E,E=N;break e}else{a(E,N);break}else t(E,N);N=N.sibling}N=fo(C,E.mode,q),N.return=E,E=N}return g(E);case qe:return oe=C._init,Ve(E,N,oe(C._payload),q)}if(Ft(C))return te(E,N,C,q);if(ae(C))return re(E,N,C,q);Ta(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,N!==null&&N.tag===6?(a(E,N.sibling),N=c(N,C),N.return=E,E=N):(a(E,N),N=mo(C,E.mode,q),N.return=E,E=N),g(E)):a(E,N)}return Ve}var Cs=Nu(!0),_u=Nu(!1),Oa=Cr(null),Ra=null,As=null,Nl=null;function _l(){Nl=As=Ra=null}function kl(e){var t=Oa.current;Le(Oa),e._currentValue=t}function Sl(e,t,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===a)break;e=e.return}}function Ps(e,t){Ra=e,Nl=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(bt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(Ra===null)throw Error(n(308));As=e,Ra.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Jr=null;function El(e){Jr===null?Jr=[e]:Jr.push(e)}function ku(e,t,a,o){var c=t.interleaved;return c===null?(a.next=a,El(t)):(a.next=c.next,c.next=a),t.interleaved=a,dr(e,o)}function dr(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Tr=!1;function Cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ke&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,dr(e,a)}return c=o.interleaved,c===null?(t.next=t,El(o)):(t.next=c.next,c.next=t),o.interleaved=t,dr(e,a)}function La(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Bi(e,a)}}function Eu(e,t){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=t:h=h.next=t}else c=h=t;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Ia(e,t,a,o){var c=e.updateQueue;Tr=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var j=v,P=j.next;j.next=null,g===null?h=P:g.next=P,g=j;var F=e.alternate;F!==null&&(F=F.updateQueue,v=F.lastBaseUpdate,v!==g&&(v===null?F.firstBaseUpdate=P:v.next=P,F.lastBaseUpdate=j))}if(h!==null){var z=c.baseState;g=0,F=P=j=null,v=h;do{var M=v.lane,Q=v.eventTime;if((o&M)===M){F!==null&&(F=F.next={eventTime:Q,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var te=e,re=v;switch(M=t,Q=a,re.tag){case 1:if(te=re.payload,typeof te=="function"){z=te.call(Q,z,M);break e}z=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=re.payload,M=typeof te=="function"?te.call(Q,z,M):te,M==null)break e;z=L({},z,M);break e;case 2:Tr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[v]:M.push(v))}else Q={eventTime:Q,lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},F===null?(P=F=Q,j=z):F=F.next=Q,g|=M;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;M=v,v=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(F===null&&(j=z),c.baseState=j,c.firstBaseUpdate=P,c.lastBaseUpdate=F,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);Xr|=g,e.lanes=g,e.memoizedState=z}}function Cu(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=a,typeof c!="function")throw Error(n(191,c));c.call(o)}}}var Cn={},sr=Cr(Cn),An=Cr(Cn),Pn=Cr(Cn);function Qr(e){if(e===Cn)throw Error(n(174));return e}function Al(e,t){switch(Te(Pn,t),Te(An,e),Te(sr,Cn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pi(t,e)}Le(sr),Te(sr,t)}function Ts(){Le(sr),Le(An),Le(Pn)}function Au(e){Qr(Pn.current);var t=Qr(sr.current),a=Pi(t,e.type);t!==a&&(Te(An,e),Te(sr,a))}function Pl(e){An.current===e&&(Le(sr),Le(An))}var $e=Cr(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function Ol(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var $a=K.ReactCurrentDispatcher,Rl=K.ReactCurrentBatchConfig,Yr=0,Me=null,Je=null,Ze=null,Ma=!1,Tn=!1,On=0,bm=0;function dt(){throw Error(n(321))}function Ll(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Bt(e[a],t[a]))return!1;return!0}function Il(e,t,a,o,c,h){if(Yr=h,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=e===null||e.memoizedState===null?_m:km,e=a(o,c),Tn){h=0;do{if(Tn=!1,On=0,25<=h)throw Error(n(301));h+=1,Ze=Je=null,t.updateQueue=null,$a.current=Sm,e=a(o,c)}while(Tn)}if($a.current=za,t=Je!==null&&Je.next!==null,Yr=0,Ze=Je=Me=null,Ma=!1,t)throw Error(n(300));return e}function Dl(){var e=On!==0;return On=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Me.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function It(){if(Je===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=Ze===null?Me.memoizedState:Ze.next;if(t!==null)Ze=t,Je=e;else{if(e===null)throw Error(n(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ze===null?Me.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Rn(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=It(),a=t.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=Je,c=o.baseQueue,h=a.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}o.baseQueue=c=h,a.pending=null}if(c!==null){h=c.next,o=o.baseState;var v=g=null,j=null,P=h;do{var F=P.lane;if((Yr&F)===F)j!==null&&(j=j.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),o=P.hasEagerState?P.eagerState:e(o,P.action);else{var z={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};j===null?(v=j=z,g=o):j=j.next=z,Me.lanes|=F,Xr|=F}P=P.next}while(P!==null&&P!==h);j===null?g=o:j.next=v,Bt(o,t.memoizedState)||(bt=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=j,a.lastRenderedState=o}if(e=a.interleaved,e!==null){c=e;do h=c.lane,Me.lanes|=h,Xr|=h,c=c.next;while(c!==e)}else c===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Ml(e){var t=It(),a=t.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=a.dispatch,c=a.pending,h=t.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);Bt(h,t.memoizedState)||(bt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,o]}function Pu(){}function Tu(e,t){var a=Me,o=It(),c=t(),h=!Bt(o.memoizedState,c);if(h&&(o.memoizedState=c,bt=!0),o=o.queue,Ul(Lu.bind(null,a,o,e),[e]),o.getSnapshot!==t||h||Ze!==null&&Ze.memoizedState.tag&1){if(a.flags|=2048,Ln(9,Ru.bind(null,a,o,c,t),void 0,null),et===null)throw Error(n(349));(Yr&30)!==0||Ou(a,t,c)}return c}function Ou(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ru(e,t,a,o){t.value=a,t.getSnapshot=o,Iu(t)&&Du(e)}function Lu(e,t,a){return a(function(){Iu(t)&&Du(e)})}function Iu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bt(e,a)}catch{return!0}}function Du(e){var t=dr(e,1);t!==null&&Kt(t,e,1,-1)}function $u(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t.queue=e,e=e.dispatch=Nm.bind(null,Me,e),[t.memoizedState,e]}function Ln(e,t,a,o){return e={tag:e,create:t,destroy:a,deps:o,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,t.lastEffect=e)),e}function Mu(){return It().memoizedState}function Ua(e,t,a,o){var c=nr();Me.flags|=e,c.memoizedState=Ln(1|t,a,void 0,o===void 0?null:o)}function Fa(e,t,a,o){var c=It();o=o===void 0?null:o;var h=void 0;if(Je!==null){var g=Je.memoizedState;if(h=g.destroy,o!==null&&Ll(o,g.deps)){c.memoizedState=Ln(t,a,h,o);return}}Me.flags|=e,c.memoizedState=Ln(1|t,a,h,o)}function Uu(e,t){return Ua(8390656,8,e,t)}function Ul(e,t){return Fa(2048,8,e,t)}function Fu(e,t){return Fa(4,2,e,t)}function zu(e,t){return Fa(4,4,e,t)}function Bu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vu(e,t,a){return a=a!=null?a.concat([e]):null,Fa(4,4,Bu.bind(null,t,e),a)}function Fl(){}function Wu(e,t){var a=It();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Ll(t,o[1])?o[0]:(a.memoizedState=[e,t],e)}function qu(e,t){var a=It();t=t===void 0?null:t;var o=a.memoizedState;return o!==null&&t!==null&&Ll(t,o[1])?o[0]:(e=e(),a.memoizedState=[e,t],e)}function Hu(e,t,a){return(Yr&21)===0?(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=a):(Bt(a,t)||(a=jc(),Me.lanes|=a,Xr|=a,e.baseState=!0),t)}function wm(e,t){var a=Ae;Ae=a!==0&&4>a?a:4,e(!0);var o=Rl.transition;Rl.transition={};try{e(!1),t()}finally{Ae=a,Rl.transition=o}}function Ku(){return It().memoizedState}function jm(e,t,a){var o=Dr(e);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e))Ju(t,a);else if(a=ku(e,t,a,o),a!==null){var c=gt();Kt(a,e,o,c),Qu(a,t,o)}}function Nm(e,t,a){var o=Dr(e),c={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Ju(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,v=h(g,a);if(c.hasEagerState=!0,c.eagerState=v,Bt(v,g)){var j=t.interleaved;j===null?(c.next=c,El(t)):(c.next=j.next,j.next=c),t.interleaved=c;return}}catch{}finally{}a=ku(e,t,c,o),a!==null&&(c=gt(),Kt(a,e,o,c),Qu(a,t,o))}}function Gu(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Ju(e,t){Tn=Ma=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qu(e,t,a){if((a&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,a|=o,t.lanes=a,Bi(e,a)}}var za={readContext:Lt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},_m={readContext:Lt,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Uu,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Ua(4194308,4,Bu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var a=nr();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var o=nr();return t=a!==void 0?a(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=jm.bind(null,Me,e),[o.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:Fl,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=wm.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var o=Me,c=nr();if(De){if(a===void 0)throw Error(n(407));a=a()}else{if(a=t(),et===null)throw Error(n(349));(Yr&30)!==0||Ou(o,t,a)}c.memoizedState=a;var h={value:a,getSnapshot:t};return c.queue=h,Uu(Lu.bind(null,o,h,e),[e]),o.flags|=2048,Ln(9,Ru.bind(null,o,h,a,t),void 0,null),a},useId:function(){var e=nr(),t=et.identifierPrefix;if(De){var a=ur,o=cr;a=(o&~(1<<32-zt(o)-1)).toString(32)+a,t=":"+t+"R"+a,a=On++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=bm++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},km={readContext:Lt,useCallback:Wu,useContext:Lt,useEffect:Ul,useImperativeHandle:Vu,useInsertionEffect:Fu,useLayoutEffect:zu,useMemo:qu,useReducer:$l,useRef:Mu,useState:function(){return $l(Rn)},useDebugValue:Fl,useDeferredValue:function(e){var t=It();return Hu(t,Je.memoizedState,e)},useTransition:function(){var e=$l(Rn)[0],t=It().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Tu,useId:Ku,unstable_isNewReconciler:!1},Sm={readContext:Lt,useCallback:Wu,useContext:Lt,useEffect:Ul,useImperativeHandle:Vu,useInsertionEffect:Fu,useLayoutEffect:zu,useMemo:qu,useReducer:Ml,useRef:Mu,useState:function(){return Ml(Rn)},useDebugValue:Fl,useDeferredValue:function(e){var t=It();return Je===null?t.memoizedState=e:Hu(t,Je.memoizedState,e)},useTransition:function(){var e=Ml(Rn)[0],t=It().memoizedState;return[e,t]},useMutableSource:Pu,useSyncExternalStore:Tu,useId:Ku,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=L({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function zl(e,t,a,o){t=e.memoizedState,a=a(o,t),a=a==null?t:L({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ba={isMounted:function(e){return(e=e._reactInternals)?Wr(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var o=gt(),c=Dr(e),h=hr(o,c);h.payload=t,a!=null&&(h.callback=a),t=Or(e,h,c),t!==null&&(Kt(t,e,c,o),La(t,e,c))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var o=gt(),c=Dr(e),h=hr(o,c);h.tag=1,h.payload=t,a!=null&&(h.callback=a),t=Or(e,h,c),t!==null&&(Kt(t,e,c,o),La(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=gt(),o=Dr(e),c=hr(a,o);c.tag=2,t!=null&&(c.callback=t),t=Or(e,c,o),t!==null&&(Kt(t,e,o,a),La(t,e,o))}};function Yu(e,t,a,o,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):t.prototype&&t.prototype.isPureReactComponent?!bn(a,o)||!bn(c,h):!0}function Xu(e,t,a){var o=!1,c=Ar,h=t.contextType;return typeof h=="object"&&h!==null?h=Lt(h):(c=vt(t)?Hr:ut.current,o=t.contextTypes,h=(o=o!=null)?_s(e,c):Ar),t=new t(a,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function Zu(e,t,a,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,o),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Bl(e,t,a,o){var c=e.stateNode;c.props=a,c.state=e.memoizedState,c.refs={},Cl(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=Lt(h):(h=vt(t)?Hr:ut.current,c.context=_s(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(zl(e,t,h,a),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Ba.enqueueReplaceState(c,c.state,null),Ia(e,a,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Os(e,t){try{var a="",o=t;do a+=Y(o),o=o.return;while(o);var c=a}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function Vl(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var Em=typeof WeakMap=="function"?WeakMap:Map;function ed(e,t,a){a=hr(-1,a),a.tag=3,a.payload={element:null};var o=t.value;return a.callback=function(){Ja||(Ja=!0,ao=o),Wl(e,t)},a}function td(e,t,a){a=hr(-1,a),a.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;a.payload=function(){return o(c)},a.callback=function(){Wl(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){Wl(e,t),typeof o!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),a}function rd(e,t,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Em;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(a)||(c.add(a),e=zm.bind(null,e,t,a),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,a,o,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=hr(-1,1),t.tag=2,Or(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Cm=K.ReactCurrentOwner,bt=!1;function ft(e,t,a,o){t.child=e===null?_u(t,null,a,o):Cs(t,e.child,a,o)}function ad(e,t,a,o,c){a=a.render;var h=t.ref;return Ps(t,c),o=Il(e,t,a,o,h,c),a=Dl(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,pr(e,t,c)):(De&&a&&yl(t),t.flags|=1,ft(e,t,o,c),t.child)}function id(e,t,a,o,c){if(e===null){var h=a.type;return typeof h=="function"&&!po(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=h,ld(e,t,h,o,c)):(e=ti(a.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:bn,a(g,o)&&e.ref===t.ref)return pr(e,t,c)}return t.flags|=1,e=Mr(h,o),e.ref=t.ref,e.return=t,t.child=e}function ld(e,t,a,o,c){if(e!==null){var h=e.memoizedProps;if(bn(h,o)&&e.ref===t.ref)if(bt=!1,t.pendingProps=o=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,pr(e,t,c)}return ql(e,t,a,o,c)}function od(e,t,a){var o=t.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ls,Et),Et|=a;else{if((a&1073741824)===0)return e=h!==null?h.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Ls,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:a,Te(Ls,Et),Et|=o}else h!==null?(o=h.baseLanes|a,t.memoizedState=null):o=a,Te(Ls,Et),Et|=o;return ft(e,t,c,a),t.child}function cd(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function ql(e,t,a,o,c){var h=vt(a)?Hr:ut.current;return h=_s(t,h),Ps(t,c),a=Il(e,t,a,o,h,c),o=Dl(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,pr(e,t,c)):(De&&o&&yl(t),t.flags|=1,ft(e,t,a,c),t.child)}function ud(e,t,a,o,c){if(vt(a)){var h=!0;Sa(t)}else h=!1;if(Ps(t,c),t.stateNode===null)Wa(e,t),Xu(t,a,o),Bl(t,a,o,c),o=!0;else if(e===null){var g=t.stateNode,v=t.memoizedProps;g.props=v;var j=g.context,P=a.contextType;typeof P=="object"&&P!==null?P=Lt(P):(P=vt(a)?Hr:ut.current,P=_s(t,P));var F=a.getDerivedStateFromProps,z=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function";z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==o||j!==P)&&Zu(t,g,o,P),Tr=!1;var M=t.memoizedState;g.state=M,Ia(t,o,g,c),j=t.memoizedState,v!==o||M!==j||yt.current||Tr?(typeof F=="function"&&(zl(t,a,F,o),j=t.memoizedState),(v=Tr||Yu(t,a,v,o,M,j,P))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=j),g.props=o,g.state=j,g.context=P,o=v):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,Su(e,t),v=t.memoizedProps,P=t.type===t.elementType?v:Wt(t.type,v),g.props=P,z=t.pendingProps,M=g.context,j=a.contextType,typeof j=="object"&&j!==null?j=Lt(j):(j=vt(a)?Hr:ut.current,j=_s(t,j));var Q=a.getDerivedStateFromProps;(F=typeof Q=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==z||M!==j)&&Zu(t,g,o,j),Tr=!1,M=t.memoizedState,g.state=M,Ia(t,o,g,c);var te=t.memoizedState;v!==z||M!==te||yt.current||Tr?(typeof Q=="function"&&(zl(t,a,Q,o),te=t.memoizedState),(P=Tr||Yu(t,a,P,o,M,te,j)||!1)?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,te,j)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=te),g.props=o,g.state=te,g.context=j,o=P):(typeof g.componentDidUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),o=!1)}return Hl(e,t,a,o,h,c)}function Hl(e,t,a,o,c,h){cd(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return c&&fu(t,a,!1),pr(e,t,h);o=t.stateNode,Cm.current=t;var v=g&&typeof a.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=Cs(t,e.child,null,h),t.child=Cs(t,null,v,h)):ft(e,t,v,h),t.memoizedState=o.state,c&&fu(t,a,!0),t.child}function dd(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),Al(e,t.containerInfo)}function hd(e,t,a,o,c){return Es(),jl(c),t.flags|=256,ft(e,t,a,o),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,a){var o=t.pendingProps,c=$e.current,h=!1,g=(t.flags&128)!==0,v;if((v=g)||(v=e!==null&&e.memoizedState===null?!1:(c&2)!==0),v?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Te($e,c&1),e===null)return wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,h?(o=t.mode,h=t.child,g={mode:"hidden",children:g},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=ri(g,o,0,null),e=rs(e,o,a,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Gl(a),t.memoizedState=Kl,e):Jl(t,g));if(c=e.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return Am(e,t,g,o,v,c,a);if(h){h=o.fallback,g=t.mode,c=e.child,v=c.sibling;var j={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=j,t.deletions=null):(o=Mr(c,j),o.subtreeFlags=c.subtreeFlags&14680064),v!==null?h=Mr(v,h):(h=rs(h,g,a,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,g=e.child.memoizedState,g=g===null?Gl(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~a,t.memoizedState=Kl,o}return h=e.child,e=h.sibling,o=Mr(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=a),o.return=t,o.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=o,t.memoizedState=null,o}function Jl(e,t){return t=ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Va(e,t,a,o){return o!==null&&jl(o),Cs(t,e.child,null,a),e=Jl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,a,o,c,h,g){if(a)return t.flags&256?(t.flags&=-257,o=Vl(Error(n(422))),Va(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,c=t.mode,o=ri({mode:"visible",children:o.children},c,0,null),h=rs(h,c,g,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&Cs(t,e.child,null,g),t.child.memoizedState=Gl(g),t.memoizedState=Kl,h);if((t.mode&1)===0)return Va(e,t,g,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var v=o.dgst;return o=v,h=Error(n(419)),o=Vl(h,o,void 0),Va(e,t,g,o)}if(v=(g&e.childLanes)!==0,bt||v){if(o=et,o!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(o.suspendedLanes|g))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,dr(e,c),Kt(o,e,c,-1))}return ho(),o=Vl(Error(n(421))),Va(e,t,g,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Bm.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,St=Er(c.nextSibling),kt=t,De=!0,Vt=null,e!==null&&(Ot[Rt++]=cr,Ot[Rt++]=ur,Ot[Rt++]=Kr,cr=e.id,ur=e.overflow,Kr=t),t=Jl(t,o.children),t.flags|=4096,t)}function md(e,t,a){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Sl(e.return,t,a)}function Ql(e,t,a,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=c)}function fd(e,t,a){var o=t.pendingProps,c=o.revealOrder,h=o.tail;if(ft(e,t,o.children,a),o=$e.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,a,t);else if(e.tag===19)md(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Te($e,o),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Da(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),Ql(t,!1,c,a,h);break;case"backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Da(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Ql(t,!0,a,null,h);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,a=Mr(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Mr(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Pm(e,t,a){switch(t.tag){case 3:dd(t),Es();break;case 5:Au(t);break;case 1:vt(t.type)&&Sa(t);break;case 4:Al(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Te(Oa,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Te($e,$e.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?pd(e,t,a):(Te($e,$e.current&1),e=pr(e,t,a),e!==null?e.sibling:null);Te($e,$e.current&1);break;case 19:if(o=(a&t.childLanes)!==0,(e.flags&128)!==0){if(o)return fd(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Te($e,$e.current),o)break;return null;case 22:case 23:return t.lanes=0,od(e,t,a)}return pr(e,t,a)}var gd,Yl,xd,yd;gd=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Yl=function(){},xd=function(e,t,a,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,Qr(sr.current);var h=null;switch(a){case"input":c=ge(e,c),o=ge(e,o),h=[];break;case"select":c=L({},c,{value:void 0}),o=L({},o,{value:void 0}),h=[];break;case"textarea":c=br(e,c),o=br(e,o),h=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Na)}Ti(a,o);var g;a=null;for(P in c)if(!o.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var v=c[P];for(g in v)v.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(u.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in o){var j=o[P];if(v=c?.[P],o.hasOwnProperty(P)&&j!==v&&(j!=null||v!=null))if(P==="style")if(v){for(g in v)!v.hasOwnProperty(g)||j&&j.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in j)j.hasOwnProperty(g)&&v[g]!==j[g]&&(a||(a={}),a[g]=j[g])}else a||(h||(h=[]),h.push(P,a)),a=j;else P==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,v=v?v.__html:void 0,j!=null&&v!==j&&(h=h||[]).push(P,j)):P==="children"?typeof j!="string"&&typeof j!="number"||(h=h||[]).push(P,""+j):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(u.hasOwnProperty(P)?(j!=null&&P==="onScroll"&&Re("scroll",e),h||v===j||(h=[])):(h=h||[]).push(P,j))}a&&(h=h||[]).push("style",a);var P=h;(t.updateQueue=P)&&(t.flags|=4)}},yd=function(e,t,a,o){a!==o&&(t.flags|=4)};function In(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=a,t}function Tm(e,t,a){var o=t.pendingProps;switch(vl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return vt(t.type)&&ka(),ht(t),null;case 3:return o=t.stateNode,Ts(),Le(yt),Le(ut),Ol(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vt!==null&&(oo(Vt),Vt=null))),Yl(e,t),ht(t),null;case 5:Pl(t);var c=Qr(Pn.current);if(a=t.type,e!==null&&t.stateNode!=null)xd(e,t,a,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return ht(t),null}if(e=Qr(sr.current),Pa(t)){o=t.stateNode,a=t.type;var h=t.memoizedProps;switch(o[rr]=t,o[kn]=h,e=(t.mode&1)!==0,a){case"dialog":Re("cancel",o),Re("close",o);break;case"iframe":case"object":case"embed":Re("load",o);break;case"video":case"audio":for(c=0;c<jn.length;c++)Re(jn[c],o);break;case"source":Re("error",o);break;case"img":case"image":case"link":Re("error",o),Re("load",o);break;case"details":Re("toggle",o);break;case"input":we(o,h),Re("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Re("invalid",o);break;case"textarea":hs(o,h),Re("invalid",o)}Ti(a,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var v=h[g];g==="children"?typeof v=="string"?o.textContent!==v&&(h.suppressHydrationWarning!==!0&&ja(o.textContent,v,e),c=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&ja(o.textContent,v,e),c=["children",""+v]):u.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&Re("scroll",o)}switch(a){case"input":I(o),ct(o,h,!0);break;case"textarea":I(o),Vr(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=Na)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(a,{is:o.is}):(e=g.createElement(a),a==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,a),e[rr]=t,e[kn]=o,gd(e,t,!1,!1),t.stateNode=e;e:{switch(g=Oi(a,o),a){case"dialog":Re("cancel",e),Re("close",e),c=o;break;case"iframe":case"object":case"embed":Re("load",e),c=o;break;case"video":case"audio":for(c=0;c<jn.length;c++)Re(jn[c],e);c=o;break;case"source":Re("error",e),c=o;break;case"img":case"image":case"link":Re("error",e),Re("load",e),c=o;break;case"details":Re("toggle",e),c=o;break;case"input":we(e,o),c=ge(e,o),Re("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=L({},o,{value:void 0}),Re("invalid",e);break;case"textarea":hs(e,o),c=br(e,o),Re("invalid",e);break;default:c=o}Ti(a,c),v=c;for(h in v)if(v.hasOwnProperty(h)){var j=v[h];h==="style"?lc(e,j):h==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ac(e,j)):h==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&rn(e,j):typeof j=="number"&&rn(e,""+j):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(u.hasOwnProperty(h)?j!=null&&h==="onScroll"&&Re("scroll",e):j!=null&&W(e,h,j,g))}switch(a){case"input":I(e),ct(e,o,!1);break;case"textarea":I(e),Vr(e);break;case"option":o.value!=null&&e.setAttribute("value",""+me(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?Tt(e,!!o.multiple,h,!1):o.defaultValue!=null&&Tt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Na)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)yd(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(a=Qr(Pn.current),Qr(sr.current),Pa(t)){if(o=t.stateNode,a=t.memoizedProps,o[rr]=t,(h=o.nodeValue!==a)&&(e=kt,e!==null))switch(e.tag){case 3:ja(o.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ja(o.nodeValue,a,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[rr]=t,t.stateNode=o}return ht(t),null;case 13:if(Le($e),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&St!==null&&(t.mode&1)!==0&&(t.flags&128)===0)wu(),Es(),t.flags|=98560,h=!1;else if(h=Pa(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[rr]=t}else Es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),h=!1}else Vt!==null&&(oo(Vt),Vt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||($e.current&1)!==0?Qe===0&&(Qe=3):ho())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Ts(),Yl(e,t),e===null&&Nn(t.stateNode.containerInfo),ht(t),null;case 10:return kl(t.type._context),ht(t),null;case 17:return vt(t.type)&&ka(),ht(t),null;case 19:if(Le($e),h=t.memoizedState,h===null)return ht(t),null;if(o=(t.flags&128)!==0,g=h.rendering,g===null)if(o)In(h,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Da(e),g!==null){for(t.flags|=128,In(h,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=a,a=t.child;a!==null;)h=a,e=o,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Te($e,$e.current&1|2),t.child}e=e.sibling}h.tail!==null&&Be()>Is&&(t.flags|=128,o=!0,In(h,!1),t.lanes=4194304)}else{if(!o)if(e=Da(g),e!==null){if(t.flags|=128,o=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),In(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!De)return ht(t),null}else 2*Be()-h.renderingStartTime>Is&&a!==1073741824&&(t.flags|=128,o=!0,In(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(a=h.last,a!==null?a.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Be(),t.sibling=null,a=$e.current,Te($e,o?a&1|2:a&1),t):(ht(t),null);case 22:case 23:return uo(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Et&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Om(e,t){switch(vl(t),t.tag){case 1:return vt(t.type)&&ka(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),Le(yt),Le(ut),Ol(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Pl(t),null;case 13:if(Le($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le($e),null;case 4:return Ts(),null;case 10:return kl(t.type._context),null;case 22:case 23:return uo(),null;case 24:return null;default:return null}}var qa=!1,pt=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Rs(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){Fe(e,t,o)}else a.current=null}function Xl(e,t,a){try{a()}catch(o){Fe(e,t,o)}}var vd=!1;function Lm(e,t){if(ul=da,e=Yc(),rl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,v=-1,j=-1,P=0,F=0,z=e,M=null;t:for(;;){for(var Q;z!==a||c!==0&&z.nodeType!==3||(v=g+c),z!==h||o!==0&&z.nodeType!==3||(j=g+o),z.nodeType===3&&(g+=z.nodeValue.length),(Q=z.firstChild)!==null;)M=z,z=Q;for(;;){if(z===e)break t;if(M===a&&++P===c&&(v=g),M===h&&++F===o&&(j=g),(Q=z.nextSibling)!==null)break;z=M,M=z.parentNode}z=Q}a=v===-1||j===-1?null:{start:v,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(dl={focusedElem:e,selectionRange:a},da=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var te=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var re=te.memoizedProps,Ve=te.memoizedState,E=t.stateNode,N=E.getSnapshotBeforeUpdate(t.elementType===t.type?re:Wt(t.type,re),Ve);E.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){Fe(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return te=vd,vd=!1,te}function Dn(e,t,a){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Xl(t,a,h)}c=c.next}while(c!==o)}}function Ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var o=a.create;a.destroy=o()}a=a.next}while(a!==t)}}function Zl(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[kn],delete t[fl],delete t[gm],delete t[xm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wd(e){return e.tag===5||e.tag===3||e.tag===4}function jd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eo(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Na));else if(o!==4&&(e=e.child,e!==null))for(eo(e,t,a),e=e.sibling;e!==null;)eo(e,t,a),e=e.sibling}function to(e,t,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(to(e,t,a),e=e.sibling;e!==null;)to(e,t,a),e=e.sibling}var rt=null,qt=!1;function Rr(e,t,a){for(a=a.child;a!==null;)Nd(e,t,a),a=a.sibling}function Nd(e,t,a){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(aa,a)}catch{}switch(a.tag){case 5:pt||Rs(a,t);case 6:var o=rt,c=qt;rt=null,Rr(e,t,a),rt=o,qt=c,rt!==null&&(qt?(e=rt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):rt.removeChild(a.stateNode));break;case 18:rt!==null&&(qt?(e=rt,a=a.stateNode,e.nodeType===8?ml(e.parentNode,a):e.nodeType===1&&ml(e,a),mn(e)):ml(rt,a.stateNode));break;case 4:o=rt,c=qt,rt=a.stateNode.containerInfo,qt=!0,Rr(e,t,a),rt=o,qt=c;break;case 0:case 11:case 14:case 15:if(!pt&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&Xl(a,t,g),c=c.next}while(c!==o)}Rr(e,t,a);break;case 1:if(!pt&&(Rs(a,t),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(v){Fe(a,t,v)}Rr(e,t,a);break;case 21:Rr(e,t,a);break;case 22:a.mode&1?(pt=(o=pt)||a.memoizedState!==null,Rr(e,t,a),pt=o):Rr(e,t,a);break;default:Rr(e,t,a)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Rm),t.forEach(function(o){var c=Vm.bind(null,e,o);a.has(o)||(a.add(o),o.then(c,c))})}}function Ht(e,t){var a=t.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];try{var h=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 5:rt=v.stateNode,qt=!1;break e;case 3:rt=v.stateNode.containerInfo,qt=!0;break e;case 4:rt=v.stateNode.containerInfo,qt=!0;break e}v=v.return}if(rt===null)throw Error(n(160));Nd(h,g,c),rt=null,qt=!1;var j=c.alternate;j!==null&&(j.return=null),c.return=null}catch(P){Fe(c,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),ar(e),o&4){try{Dn(3,e,e.return),Ha(3,e)}catch(re){Fe(e,e.return,re)}try{Dn(5,e,e.return)}catch(re){Fe(e,e.return,re)}}break;case 1:Ht(t,e),ar(e),o&512&&a!==null&&Rs(a,a.return);break;case 5:if(Ht(t,e),ar(e),o&512&&a!==null&&Rs(a,a.return),e.flags&32){var c=e.stateNode;try{rn(c,"")}catch(re){Fe(e,e.return,re)}}if(o&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,g=a!==null?a.memoizedProps:h,v=e.type,j=e.updateQueue;if(e.updateQueue=null,j!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&Pe(c,h),Oi(v,g);var P=Oi(v,h);for(g=0;g<j.length;g+=2){var F=j[g],z=j[g+1];F==="style"?lc(c,z):F==="dangerouslySetInnerHTML"?ac(c,z):F==="children"?rn(c,z):W(c,F,z,P)}switch(v){case"input":ot(c,h);break;case"textarea":ir(c,h);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var Q=h.value;Q!=null?Tt(c,!!h.multiple,Q,!1):M!==!!h.multiple&&(h.defaultValue!=null?Tt(c,!!h.multiple,h.defaultValue,!0):Tt(c,!!h.multiple,h.multiple?[]:"",!1))}c[kn]=h}catch(re){Fe(e,e.return,re)}}break;case 6:if(Ht(t,e),ar(e),o&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(re){Fe(e,e.return,re)}}break;case 3:if(Ht(t,e),ar(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{mn(t.containerInfo)}catch(re){Fe(e,e.return,re)}break;case 4:Ht(t,e),ar(e);break;case 13:Ht(t,e),ar(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(no=Be())),o&4&&_d(e);break;case 22:if(F=a!==null&&a.memoizedState!==null,e.mode&1?(pt=(P=pt)||F,Ht(t,e),pt=P):Ht(t,e),ar(e),o&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!F&&(e.mode&1)!==0)for(Z=e,F=e.child;F!==null;){for(z=Z=F;Z!==null;){switch(M=Z,Q=M.child,M.tag){case 0:case 11:case 14:case 15:Dn(4,M,M.return);break;case 1:Rs(M,M.return);var te=M.stateNode;if(typeof te.componentWillUnmount=="function"){o=M,a=M.return;try{t=o,te.props=t.memoizedProps,te.state=t.memoizedState,te.componentWillUnmount()}catch(re){Fe(o,a,re)}}break;case 5:Rs(M,M.return);break;case 22:if(M.memoizedState!==null){Cd(z);continue}}Q!==null?(Q.return=M,Z=Q):Cd(z)}F=F.sibling}e:for(F=null,z=e;;){if(z.tag===5){if(F===null){F=z;try{c=z.stateNode,P?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=z.stateNode,j=z.memoizedProps.style,g=j!=null&&j.hasOwnProperty("display")?j.display:null,v.style.display=ic("display",g))}catch(re){Fe(e,e.return,re)}}}else if(z.tag===6){if(F===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(re){Fe(e,e.return,re)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;F===z&&(F=null),z=z.return}F===z&&(F=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Ht(t,e),ar(e),o&4&&_d(e);break;case 21:break;default:Ht(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(wd(a)){var o=a;break e}a=a.return}throw Error(n(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(rn(c,""),o.flags&=-33);var h=jd(e);to(e,h,c);break;case 3:case 4:var g=o.stateNode.containerInfo,v=jd(e);eo(e,v,g);break;default:throw Error(n(161))}}catch(j){Fe(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Im(e,t,a){Z=e,Sd(e)}function Sd(e,t,a){for(var o=(e.mode&1)!==0;Z!==null;){var c=Z,h=c.child;if(c.tag===22&&o){var g=c.memoizedState!==null||qa;if(!g){var v=c.alternate,j=v!==null&&v.memoizedState!==null||pt;v=qa;var P=pt;if(qa=g,(pt=j)&&!P)for(Z=c;Z!==null;)g=Z,j=g.child,g.tag===22&&g.memoizedState!==null?Ad(c):j!==null?(j.return=g,Z=j):Ad(c);for(;h!==null;)Z=h,Sd(h),h=h.sibling;Z=c,qa=v,pt=P}Ed(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,Z=h):Ed(e)}}function Ed(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:pt||Ha(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!pt)if(a===null)o.componentDidMount();else{var c=t.elementType===t.type?a.memoizedProps:Wt(t.type,a.memoizedProps);o.componentDidUpdate(c,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Cu(t,h,o);break;case 3:var g=t.updateQueue;if(g!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}Cu(t,g,a)}break;case 5:var v=t.stateNode;if(a===null&&t.flags&4){a=v;var j=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var z=F.dehydrated;z!==null&&mn(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pt||t.flags&512&&Zl(t)}catch(M){Fe(t,t.return,M)}}if(t===e){Z=null;break}if(a=t.sibling,a!==null){a.return=t.return,Z=a;break}Z=t.return}}function Cd(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}function Ad(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{Ha(4,t)}catch(j){Fe(t,a,j)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(j){Fe(t,c,j)}}var h=t.return;try{Zl(t)}catch(j){Fe(t,h,j)}break;case 5:var g=t.return;try{Zl(t)}catch(j){Fe(t,g,j)}}}catch(j){Fe(t,t.return,j)}if(t===e){Z=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Z=v;break}Z=t.return}}var Dm=Math.ceil,Ka=K.ReactCurrentDispatcher,ro=K.ReactCurrentOwner,Dt=K.ReactCurrentBatchConfig,ke=0,et=null,He=null,st=0,Et=0,Ls=Cr(0),Qe=0,$n=null,Xr=0,Ga=0,so=0,Mn=null,wt=null,no=0,Is=1/0,mr=null,Ja=!1,ao=null,Lr=null,Qa=!1,Ir=null,Ya=0,Un=0,io=null,Xa=-1,Za=0;function gt(){return(ke&6)!==0?Be():Xa!==-1?Xa:Xa=Be()}function Dr(e){return(e.mode&1)===0?1:(ke&2)!==0&&st!==0?st&-st:vm.transition!==null?(Za===0&&(Za=jc()),Za):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Tc(e.type)),e)}function Kt(e,t,a,o){if(50<Un)throw Un=0,io=null,Error(n(185));cn(e,a,o),((ke&2)===0||e!==et)&&(e===et&&((ke&2)===0&&(Ga|=a),Qe===4&&$r(e,st)),jt(e,o),a===1&&ke===0&&(t.mode&1)===0&&(Is=Be()+500,Ea&&Pr()))}function jt(e,t){var a=e.callbackNode;vp(e,t);var o=oa(e,e===et?st:0);if(o===0)a!==null&&vc(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(a!=null&&vc(a),t===1)e.tag===0?ym(Td.bind(null,e)):gu(Td.bind(null,e)),mm(function(){(ke&6)===0&&Pr()}),a=null;else{switch(Nc(o)){case 1:a=Ui;break;case 4:a=bc;break;case 16:a=na;break;case 536870912:a=wc;break;default:a=na}a=Ud(a,Pd.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function Pd(e,t){if(Xa=-1,Za=0,(ke&6)!==0)throw Error(n(327));var a=e.callbackNode;if(Ds()&&e.callbackNode!==a)return null;var o=oa(e,e===et?st:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=ei(e,o);else{t=o;var c=ke;ke|=2;var h=Rd();(et!==e||st!==t)&&(mr=null,Is=Be()+500,es(e,t));do try{Um();break}catch(v){Od(e,v)}while(!0);_l(),Ka.current=h,ke=c,He!==null?t=0:(et=null,st=0,t=Qe)}if(t!==0){if(t===2&&(c=Fi(e),c!==0&&(o=c,t=lo(e,c))),t===1)throw a=$n,es(e,0),$r(e,o),jt(e,Be()),a;if(t===6)$r(e,o);else{if(c=e.current.alternate,(o&30)===0&&!$m(c)&&(t=ei(e,o),t===2&&(h=Fi(e),h!==0&&(o=h,t=lo(e,h))),t===1))throw a=$n,es(e,0),$r(e,o),jt(e,Be()),a;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:ts(e,wt,mr);break;case 3:if($r(e,o),(o&130023424)===o&&(t=no+500-Be(),10<t)){if(oa(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){gt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=pl(ts.bind(null,e,wt,mr),t);break}ts(e,wt,mr);break;case 4:if($r(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var g=31-zt(o);h=1<<g,g=t[g],g>c&&(c=g),o&=~h}if(o=c,o=Be()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Dm(o/1960))-o,10<o){e.timeoutHandle=pl(ts.bind(null,e,wt,mr),o);break}ts(e,wt,mr);break;case 5:ts(e,wt,mr);break;default:throw Error(n(329))}}}return jt(e,Be()),e.callbackNode===a?Pd.bind(null,e):null}function lo(e,t){var a=Mn;return e.current.memoizedState.isDehydrated&&(es(e,t).flags|=256),e=ei(e,t),e!==2&&(t=wt,wt=a,t!==null&&oo(t)),e}function oo(e){wt===null?wt=e:wt.push.apply(wt,e)}function $m(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var c=a[o],h=c.getSnapshot;c=c.value;try{if(!Bt(h(),c))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~so,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-zt(t),o=1<<a;e[a]=-1,t&=~o}}function Td(e){if((ke&6)!==0)throw Error(n(327));Ds();var t=oa(e,0);if((t&1)===0)return jt(e,Be()),null;var a=ei(e,t);if(e.tag!==0&&a===2){var o=Fi(e);o!==0&&(t=o,a=lo(e,o))}if(a===1)throw a=$n,es(e,0),$r(e,t),jt(e,Be()),a;if(a===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ts(e,wt,mr),jt(e,Be()),null}function co(e,t){var a=ke;ke|=1;try{return e(t)}finally{ke=a,ke===0&&(Is=Be()+500,Ea&&Pr())}}function Zr(e){Ir!==null&&Ir.tag===0&&(ke&6)===0&&Ds();var t=ke;ke|=1;var a=Dt.transition,o=Ae;try{if(Dt.transition=null,Ae=1,e)return e()}finally{Ae=o,Dt.transition=a,ke=t,(ke&6)===0&&Pr()}}function uo(){Et=Ls.current,Le(Ls)}function es(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,pm(a)),He!==null)for(a=He.return;a!==null;){var o=a;switch(vl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ka();break;case 3:Ts(),Le(yt),Le(ut),Ol();break;case 5:Pl(o);break;case 4:Ts();break;case 13:Le($e);break;case 19:Le($e);break;case 10:kl(o.type._context);break;case 22:case 23:uo()}a=a.return}if(et=e,He=e=Mr(e.current,null),st=Et=t,Qe=0,$n=null,so=Ga=Xr=0,wt=Mn=null,Jr!==null){for(t=0;t<Jr.length;t++)if(a=Jr[t],o=a.interleaved,o!==null){a.interleaved=null;var c=o.next,h=a.pending;if(h!==null){var g=h.next;h.next=c,o.next=g}a.pending=o}Jr=null}return e}function Od(e,t){do{var a=He;try{if(_l(),$a.current=za,Ma){for(var o=Me.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ma=!1}if(Yr=0,Ze=Je=Me=null,Tn=!1,On=0,ro.current=null,a===null||a.return===null){Qe=1,$n=t,He=null;break}e:{var h=e,g=a.return,v=a,j=t;if(t=st,v.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var P=j,F=v,z=F.tag;if((F.mode&1)===0&&(z===0||z===11||z===15)){var M=F.alternate;M?(F.updateQueue=M.updateQueue,F.memoizedState=M.memoizedState,F.lanes=M.lanes):(F.updateQueue=null,F.memoizedState=null)}var Q=sd(g);if(Q!==null){Q.flags&=-257,nd(Q,g,v,h,t),Q.mode&1&&rd(h,P,t),t=Q,j=P;var te=t.updateQueue;if(te===null){var re=new Set;re.add(j),t.updateQueue=re}else te.add(j);break e}else{if((t&1)===0){rd(h,P,t),ho();break e}j=Error(n(426))}}else if(De&&v.mode&1){var Ve=sd(g);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),nd(Ve,g,v,h,t),jl(Os(j,v));break e}}h=j=Os(j,v),Qe!==4&&(Qe=2),Mn===null?Mn=[h]:Mn.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var E=ed(h,j,t);Eu(h,E);break e;case 1:v=j;var N=h.type,C=h.stateNode;if((h.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Lr===null||!Lr.has(C)))){h.flags|=65536,t&=-t,h.lanes|=t;var q=td(h,v,t);Eu(h,q);break e}}h=h.return}while(h!==null)}Id(a)}catch(se){t=se,He===a&&a!==null&&(He=a=a.return);continue}break}while(!0)}function Rd(){var e=Ka.current;return Ka.current=za,e===null?za:e}function ho(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||(Xr&268435455)===0&&(Ga&268435455)===0||$r(et,st)}function ei(e,t){var a=ke;ke|=2;var o=Rd();(et!==e||st!==t)&&(mr=null,es(e,t));do try{Mm();break}catch(c){Od(e,c)}while(!0);if(_l(),ke=a,Ka.current=o,He!==null)throw Error(n(261));return et=null,st=0,Qe}function Mm(){for(;He!==null;)Ld(He)}function Um(){for(;He!==null&&!up();)Ld(He)}function Ld(e){var t=Md(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Id(e):He=t,ro.current=null}function Id(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=Tm(a,t,Et),a!==null){He=a;return}}else{if(a=Om(a,t),a!==null){a.flags&=32767,He=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Qe===0&&(Qe=5)}function ts(e,t,a){var o=Ae,c=Dt.transition;try{Dt.transition=null,Ae=1,Fm(e,t,a,o)}finally{Dt.transition=c,Ae=o}return null}function Fm(e,t,a,o){do Ds();while(Ir!==null);if((ke&6)!==0)throw Error(n(327));a=e.finishedWork;var c=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(bp(e,h),e===et&&(He=et=null,st=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Qa||(Qa=!0,Ud(na,function(){return Ds(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=Dt.transition,Dt.transition=null;var g=Ae;Ae=1;var v=ke;ke|=4,ro.current=null,Lm(e,a),kd(a,e),im(dl),da=!!ul,dl=ul=null,e.current=a,Im(a),dp(),ke=v,Ae=g,Dt.transition=h}else e.current=a;if(Qa&&(Qa=!1,Ir=e,Ya=c),h=e.pendingLanes,h===0&&(Lr=null),mp(a.stateNode),jt(e,Be()),t!==null)for(o=e.onRecoverableError,a=0;a<t.length;a++)c=t[a],o(c.value,{componentStack:c.stack,digest:c.digest});if(Ja)throw Ja=!1,e=ao,ao=null,e;return(Ya&1)!==0&&e.tag!==0&&Ds(),h=e.pendingLanes,(h&1)!==0?e===io?Un++:(Un=0,io=e):Un=0,Pr(),null}function Ds(){if(Ir!==null){var e=Nc(Ya),t=Dt.transition,a=Ae;try{if(Dt.transition=null,Ae=16>e?16:e,Ir===null)var o=!1;else{if(e=Ir,Ir=null,Ya=0,(ke&6)!==0)throw Error(n(331));var c=ke;for(ke|=4,Z=e.current;Z!==null;){var h=Z,g=h.child;if((Z.flags&16)!==0){var v=h.deletions;if(v!==null){for(var j=0;j<v.length;j++){var P=v[j];for(Z=P;Z!==null;){var F=Z;switch(F.tag){case 0:case 11:case 15:Dn(8,F,h)}var z=F.child;if(z!==null)z.return=F,Z=z;else for(;Z!==null;){F=Z;var M=F.sibling,Q=F.return;if(bd(F),F===P){Z=null;break}if(M!==null){M.return=Q,Z=M;break}Z=Q}}}var te=h.alternate;if(te!==null){var re=te.child;if(re!==null){te.child=null;do{var Ve=re.sibling;re.sibling=null,re=Ve}while(re!==null)}}Z=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,Z=g;else e:for(;Z!==null;){if(h=Z,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Dn(9,h,h.return)}var E=h.sibling;if(E!==null){E.return=h.return,Z=E;break e}Z=h.return}}var N=e.current;for(Z=N;Z!==null;){g=Z;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,Z=C;else e:for(g=N;Z!==null;){if(v=Z,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Ha(9,v)}}catch(se){Fe(v,v.return,se)}if(v===g){Z=null;break e}var q=v.sibling;if(q!==null){q.return=v.return,Z=q;break e}Z=v.return}}if(ke=c,Pr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(aa,e)}catch{}o=!0}return o}finally{Ae=a,Dt.transition=t}}return!1}function Dd(e,t,a){t=Os(a,t),t=ed(e,t,1),e=Or(e,t,1),t=gt(),e!==null&&(cn(e,1,t),jt(e,t))}function Fe(e,t,a){if(e.tag===3)Dd(e,e,a);else for(;t!==null;){if(t.tag===3){Dd(t,e,a);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Lr===null||!Lr.has(o))){e=Os(a,e),e=td(t,e,1),t=Or(t,e,1),e=gt(),t!==null&&(cn(t,1,e),jt(t,e));break}}t=t.return}}function zm(e,t,a){var o=e.pingCache;o!==null&&o.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&a,et===e&&(st&a)===a&&(Qe===4||Qe===3&&(st&130023424)===st&&500>Be()-no?es(e,0):so|=a),jt(e,t)}function $d(e,t){t===0&&((e.mode&1)===0?t=1:(t=la,la<<=1,(la&130023424)===0&&(la=4194304)));var a=gt();e=dr(e,t),e!==null&&(cn(e,t,a),jt(e,a))}function Bm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$d(e,a)}function Vm(e,t){var a=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),$d(e,a)}var Md;Md=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)bt=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return bt=!1,Pm(e,t,a);bt=(e.flags&131072)!==0}else bt=!1,De&&(t.flags&1048576)!==0&&xu(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Wa(e,t),e=t.pendingProps;var c=_s(t,ut.current);Ps(t,a),c=Il(null,t,o,e,c,a);var h=Dl();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(o)?(h=!0,Sa(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Cl(t),c.updater=Ba,t.stateNode=c,c._reactInternals=t,Bl(t,o,e,a),t=Hl(null,t,o,!0,h,a)):(t.tag=0,De&&h&&yl(t),ft(null,t,c,a),t=t.child),t;case 16:o=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=qm(o),e=Wt(o,e),c){case 0:t=ql(null,t,o,e,a);break e;case 1:t=ud(null,t,o,e,a);break e;case 11:t=ad(null,t,o,e,a);break e;case 14:t=id(null,t,o,Wt(o.type,e),a);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Wt(o,c),ql(e,t,o,c,a);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Wt(o,c),ud(e,t,o,c,a);case 3:e:{if(dd(t),e===null)throw Error(n(387));o=t.pendingProps,h=t.memoizedState,c=h.element,Su(e,t),Ia(t,o,null,a);var g=t.memoizedState;if(o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=Os(Error(n(423)),t),t=hd(e,t,o,a,c);break e}else if(o!==c){c=Os(Error(n(424)),t),t=hd(e,t,o,a,c);break e}else for(St=Er(t.stateNode.containerInfo.firstChild),kt=t,De=!0,Vt=null,a=_u(t,null,o,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Es(),o===c){t=pr(e,t,a);break e}ft(e,t,o,a)}t=t.child}return t;case 5:return Au(t),e===null&&wl(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,g=c.children,hl(o,c)?g=null:h!==null&&hl(o,h)&&(t.flags|=32),cd(e,t),ft(e,t,g,a),t.child;case 6:return e===null&&wl(t),null;case 13:return pd(e,t,a);case 4:return Al(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Cs(t,null,o,a):ft(e,t,o,a),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Wt(o,c),ad(e,t,o,c,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,h=t.memoizedProps,g=c.value,Te(Oa,o._currentValue),o._currentValue=g,h!==null)if(Bt(h.value,g)){if(h.children===c.children&&!yt.current){t=pr(e,t,a);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){g=h.child;for(var j=v.firstContext;j!==null;){if(j.context===o){if(h.tag===1){j=hr(-1,a&-a),j.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?j.next=j:(j.next=F.next,F.next=j),P.pending=j}}h.lanes|=a,j=h.alternate,j!==null&&(j.lanes|=a),Sl(h.return,a,t),v.lanes|=a;break}j=j.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(n(341));g.lanes|=a,v=g.alternate,v!==null&&(v.lanes|=a),Sl(g,a,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}ft(e,t,c.children,a),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,Ps(t,a),c=Lt(c),o=o(c),t.flags|=1,ft(e,t,o,a),t.child;case 14:return o=t.type,c=Wt(o,t.pendingProps),c=Wt(o.type,c),id(e,t,o,c,a);case 15:return ld(e,t,t.type,t.pendingProps,a);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Wt(o,c),Wa(e,t),t.tag=1,vt(o)?(e=!0,Sa(t)):e=!1,Ps(t,a),Xu(t,o,c),Bl(t,o,c,a),Hl(null,t,o,!0,e,a);case 19:return fd(e,t,a);case 22:return od(e,t,a)}throw Error(n(156,t.tag))};function Ud(e,t){return yc(e,t)}function Wm(e,t,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,a,o){return new Wm(e,t,a,o)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qm(e){if(typeof e=="function")return po(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_e)return 11;if(e===lt)return 14}return 2}function Mr(e,t){var a=e.alternate;return a===null?(a=$t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function ti(e,t,a,o,c,h){var g=2;if(o=e,typeof e=="function")po(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case J:return rs(a.children,c,h,t);case le:g=8,c|=8;break;case pe:return e=$t(12,a,t,c|2),e.elementType=pe,e.lanes=h,e;case ye:return e=$t(13,a,t,c),e.elementType=ye,e.lanes=h,e;case Xe:return e=$t(19,a,t,c),e.elementType=Xe,e.lanes=h,e;case je:return ri(a,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:g=10;break e;case ve:g=9;break e;case _e:g=11;break e;case lt:g=14;break e;case qe:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=$t(g,a,t,c),t.elementType=e,t.type=o,t.lanes=h,t}function rs(e,t,a,o){return e=$t(7,e,o,t),e.lanes=a,e}function ri(e,t,a,o){return e=$t(22,e,o,t),e.elementType=je,e.lanes=a,e.stateNode={isHidden:!1},e}function mo(e,t,a){return e=$t(6,e,null,t),e.lanes=a,e}function fo(e,t,a){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hm(e,t,a,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function go(e,t,a,o,c,h,g,v,j){return e=new Hm(e,t,a,v,j),t===1?(t=1,h===!0&&(t|=8)):t=0,h=$t(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(h),e}function Km(e,t,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:o==null?null:""+o,children:e,containerInfo:t,implementation:a}}function Fd(e){if(!e)return Ar;e=e._reactInternals;e:{if(Wr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var a=e.type;if(vt(a))return mu(e,a,t)}return t}function zd(e,t,a,o,c,h,g,v,j){return e=go(a,o,!0,e,c,h,g,v,j),e.context=Fd(null),a=e.current,o=gt(),c=Dr(a),h=hr(o,c),h.callback=t??null,Or(a,h,c),e.current.lanes=c,cn(e,c,o),jt(e,o),e}function si(e,t,a,o){var c=t.current,h=gt(),g=Dr(c);return a=Fd(a),t.context===null?t.context=a:t.pendingContext=a,t=hr(h,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Or(c,t,g),e!==null&&(Kt(e,c,g,h),La(e,c,g)),g}function ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function xo(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function Gm(){return null}var Vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function yo(e){this._internalRoot=e}ai.prototype.render=yo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));si(e,t,null,null)},ai.prototype.unmount=yo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zr(function(){si(null,e,null,null)}),t[lr]=null}};function ai(e){this._internalRoot=e}ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<_r.length&&t!==0&&t<_r[a].priority;a++);_r.splice(a,0,e),a===0&&Ac(e)}};function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wd(){}function Jm(e,t,a,o,c){if(c){if(typeof o=="function"){var h=o;o=function(){var P=ni(g);h.call(P)}}var g=zd(t,o,e,0,null,!1,!1,"",Wd);return e._reactRootContainer=g,e[lr]=g.current,Nn(e.nodeType===8?e.parentNode:e),Zr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var v=o;o=function(){var P=ni(j);v.call(P)}}var j=go(e,0,!1,null,null,!1,!1,"",Wd);return e._reactRootContainer=j,e[lr]=j.current,Nn(e.nodeType===8?e.parentNode:e),Zr(function(){si(t,j,a,o)}),j}function li(e,t,a,o,c){var h=a._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var v=c;c=function(){var j=ni(g);v.call(j)}}si(t,g,e,c)}else g=Jm(a,t,e,c,o);return ni(g)}_c=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=on(t.pendingLanes);a!==0&&(Bi(t,a|1),jt(t,Be()),(ke&6)===0&&(Is=Be()+500,Pr()))}break;case 13:Zr(function(){var o=dr(e,1);if(o!==null){var c=gt();Kt(o,e,1,c)}}),xo(e,1)}},Vi=function(e){if(e.tag===13){var t=dr(e,134217728);if(t!==null){var a=gt();Kt(t,e,134217728,a)}xo(e,134217728)}},kc=function(e){if(e.tag===13){var t=Dr(e),a=dr(e,t);if(a!==null){var o=gt();Kt(a,e,t,o)}xo(e,t)}},Sc=function(){return Ae},Ec=function(e,t){var a=Ae;try{return Ae=e,t()}finally{Ae=a}},Ii=function(e,t,a){switch(t){case"input":if(ot(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var o=a[t];if(o!==e&&o.form===e.form){var c=_a(o);if(!c)throw Error(n(90));ee(o),ot(o,c)}}}break;case"textarea":ir(e,a);break;case"select":t=a.value,t!=null&&Tt(e,!!a.multiple,t,!1)}},dc=co,hc=Zr;var Qm={usingClientEntryPoint:!1,Events:[Sn,js,_a,cc,uc,co]},Fn={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ym={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gc(e),e===null?null:e.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{aa=oi.inject(Ym),tr=oi}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm,Nt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vo(t))throw Error(n(200));return Km(e,t,null,a)},Nt.createRoot=function(e,t){if(!vo(e))throw Error(n(299));var a=!1,o="",c=Vd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=go(e,1,!1,null,null,a,!1,o,c),e[lr]=t.current,Nn(e.nodeType===8?e.parentNode:e),new yo(t)},Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=gc(t),e=e===null?null:e.stateNode,e},Nt.flushSync=function(e){return Zr(e)},Nt.hydrate=function(e,t,a){if(!ii(t))throw Error(n(200));return li(null,e,t,!0,a)},Nt.hydrateRoot=function(e,t,a){if(!vo(e))throw Error(n(405));var o=a!=null&&a.hydratedSources||null,c=!1,h="",g=Vd;if(a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),t=zd(t,null,e,1,a??null,c,!1,h,g),e[lr]=t.current,Nn(e),o)for(e=0;e<o.length;e++)a=o[e],c=a._getVersion,c=c(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,c]:t.mutableSourceEagerHydrationData.push(a,c);return new ai(t)},Nt.render=function(e,t,a){if(!ii(t))throw Error(n(200));return li(null,e,t,!1,a)},Nt.unmountComponentAtNode=function(e){if(!ii(e))throw Error(n(40));return e._reactRootContainer?(Zr(function(){li(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1},Nt.unstable_batchedUpdates=co,Nt.unstable_renderSubtreeIntoContainer=function(e,t,a,o){if(!ii(a))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return li(e,t,a,!1,o)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var Xd;function af(){if(Xd)return jo.exports;Xd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),jo.exports=nf(),jo.exports}var Zd;function lf(){if(Zd)return ci;Zd=1;var i=af();return ci.createRoot=i.createRoot,ci.hydrateRoot=i.hydrateRoot,ci}var of=lf(),$=Qo();const We=[{id:"AUTO-001",name:"Maria Garcia",email:"maria.garcia@email.com",phone:"+63 917 123 4567",nationality:"Philippines",position:"Housemaid",country:"Saudi Arabia",experience:3,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Cleaning","Cooking","Child Care","Laundry"],appliedDate:"2025-12-13",languages:["English","Tagalog","Arabic (Basic)"],aiScore:7.2,autoExtracted:!0,extractionConfidence:88,needsReview:!1,cvUrl:"Maria_Garcia_CV.pdf"},{id:"AUTO-002",name:"John Smith",email:"john.smith@email.com",phone:"+92 301 987 6543",nationality:"Pakistan",position:"Construction Worker",country:"UAE",experience:6,status:"Applied",source:"Email",passportAvailable:!0,skills:["Masonry","Carpentry","Concrete Work","Safety"],appliedDate:"2025-12-13",languages:["English","Urdu"],aiScore:8,autoExtracted:!0,extractionConfidence:72,needsReview:!0,cvUrl:"John_Smith_CV.docx"},{id:"AUTO-003",name:"Mohammed Aslam",email:"",phone:"+92 302 555 1234",nationality:"Pakistan",position:"Driver",country:"Saudi Arabia",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Light Vehicle","Heavy Vehicle","Clean License"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:7.8,autoExtracted:!0,extractionConfidence:68,needsReview:!0,cvUrl:"Mohammed_Aslam_CV.pdf"},{id:"1",name:"Ahmed Hassan",email:"ahmed.hassan@email.com",phone:"+92 300 1234567",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:5,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Electrical Installation","Maintenance","Industrial Wiring","Safety Standards"],appliedDate:"2025-12-10",languages:["English","Urdu","Arabic"],aiScore:8.5,age:32,dateOfBirth:"1993-05-15",passportNumber:"AB1234567",passportExpiry:"2028-03-20",medicalExpiry:"2026-01-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Lahore, Pakistan",salaryExpectation:"AED 2,000",availableFrom:"2026-01-01",lastContacted:"2025-12-15",interviewDate:"2025-12-22",interviewStatus:"Scheduled",linkedinUrl:"https://linkedin.com/in/ahmed-hassan-electrician",whatsappLink:"https://wa.me/923001234567",videoLink:"https://youtube.com/watch?v=abc123xyz",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"2",name:"Mohammed Ali",email:"mohammed.ali@email.com",phone:"+92 301 2345678",nationality:"Pakistan",position:"Welder",country:"Saudi Arabia",experience:7,status:"Deployed",source:"Form",passportAvailable:!0,skills:["TIG Welding","MIG Welding","Arc Welding","Metal Fabrication"],appliedDate:"2025-11-15",languages:["English","Urdu"],aiScore:9.2,age:35,dateOfBirth:"1990-08-22",passportNumber:"CD9876543",passportExpiry:"2029-06-10",medicalExpiry:"2026-11-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Riyadh, Saudi Arabia",salaryExpectation:"SAR 2,500",availableFrom:"Currently Working",lastContacted:"2025-12-01",linkedinUrl:"https://linkedin.com/in/mohammed-ali-welder",whatsappLink:"https://wa.me/923012345678",videoLink:"https://youtube.com/watch?v=def456uvw",drivingLicense:"None",yearsInGCC:5,englishLevel:"Basic",arabicLevel:"Intermediate"},{id:"3",name:"Rajesh Kumar",email:"rajesh.kumar@email.com",phone:"+91 98765 43210",nationality:"India",position:"Mason",country:"Qatar",experience:4,status:"Applied",source:"Email",passportAvailable:!0,skills:["Bricklaying","Plastering","Tiling","Construction"],appliedDate:"2025-12-13",languages:["English","Hindi"],aiScore:7.8,age:28,dateOfBirth:"1997-03-10",passportNumber:"J1234567",passportExpiry:"2027-09-15",religion:"Hindu",maritalStatus:"Single",currentLocation:"Mumbai, India",salaryExpectation:"QAR 1,600",availableFrom:"2026-02-01",lastContacted:"2025-12-14",whatsappLink:"https://wa.me/919876543210",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"4",name:"Suresh Patel",email:"suresh.patel@email.com",phone:"+91 87654 32109",nationality:"India",position:"Plumber",country:"UAE",experience:6,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Pipe Installation","Drainage Systems","Water Systems","Maintenance"],appliedDate:"2025-12-11",languages:["English","Hindi","Gujarati"],aiScore:8.1,age:29,dateOfBirth:"1996-07-18",passportNumber:"K9876543",passportExpiry:"2028-12-05",religion:"Hindu",maritalStatus:"Married",currentLocation:"Ahmedabad, India",salaryExpectation:"AED 1,800",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/918765432109",videoLink:"https://youtube.com/watch?v=plumber-demo-video",drivingLicense:"None",yearsInGCC:1,englishLevel:"Intermediate",arabicLevel:"None"},{id:"5",name:"Kamal Uddin",email:"kamal.uddin@email.com",phone:"+880 1712 345678",nationality:"Bangladesh",position:"Carpenter",country:"Oman",experience:8,status:"Applied",source:"Form",passportAvailable:!1,skills:["Woodwork","Furniture Making","Interior Finishing","Blueprint Reading"],appliedDate:"2025-12-12",languages:["English","Bengali"],aiScore:7.5,age:34,dateOfBirth:"1991-02-20",currentLocation:"Dhaka, Bangladesh",salaryExpectation:"OMR 220",availableFrom:"2026-02-01",whatsappLink:"https://wa.me/8801712345678",videoLink:"https://youtube.com/watch?v=carpenter-skills-demo",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Basic",arabicLevel:"None"},{id:"6",name:"Imran Sheikh",email:"imran.sheikh@email.com",phone:"+92 302 3456789",nationality:"Pakistan",position:"Electrician",country:"Saudi Arabia",experience:3,status:"Cancelled",source:"Manual",passportAvailable:!0,skills:["Residential Wiring","Troubleshooting","Panel Installation"],appliedDate:"2025-12-08",languages:["English","Urdu"],aiScore:6.5,videoLink:"https://youtube.com/watch?v=electrical-work-sample",whatsappLink:"https://wa.me/923023456789"},{id:"7",name:"Vijay Singh",email:"vijay.singh@email.com",phone:"+91 99887 76655",nationality:"India",position:"Heavy Driver",country:"UAE",experience:10,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Truck Driving","Heavy Equipment","UAE License","Logistics"],appliedDate:"2025-11-20",languages:["English","Hindi","Punjabi"],aiScore:9,age:38,dateOfBirth:"1987-11-10",passportNumber:"L5544332",passportExpiry:"2027-08-15",religion:"Sikh",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 3,500",availableFrom:"Currently Working",linkedinUrl:"https://linkedin.com/in/vijay-singh-driver",whatsappLink:"https://wa.me/919988776655",videoLink:"https://youtube.com/watch?v=heavy-vehicle-driving",drivingLicense:"Heavy Vehicle",yearsInGCC:8,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"8",name:"Abdul Rahman",email:"abdul.rahman@email.com",phone:"+92 303 4567890",nationality:"Pakistan",position:"Steel Fixer",country:"Qatar",experience:5,status:"Pending",source:"Email",passportAvailable:!0,skills:["Rebar Installation","Blueprint Reading","Construction","Safety"],appliedDate:"2025-12-09",languages:["English","Urdu","Arabic"],aiScore:8.3,age:31,dateOfBirth:"1994-04-12",passportNumber:"EF7788990",passportExpiry:"2029-01-25",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"QAR 1,700",availableFrom:"2026-01-10",lastContacted:"2025-12-10",whatsappLink:"https://wa.me/923034567890",videoLink:"https://youtube.com/watch?v=steel-fixing-work",linkedinUrl:"https://linkedin.com/in/abdul-rahman-steel",drivingLicense:"None",yearsInGCC:3,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"9",name:"Usman Tariq",email:"usman.tariq@email.com",phone:"+92 304 5678901",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Electrical Installation","AC Systems","Building Wiring","Troubleshooting"],appliedDate:"2025-12-14",languages:["English","Urdu"],aiScore:7.9,age:27,dateOfBirth:"1998-02-14",passportNumber:"GH2345678",passportExpiry:"2028-11-10",medicalExpiry:"2026-03-15",religion:"Muslim",maritalStatus:"Single",currentLocation:"Islamabad, Pakistan",salaryExpectation:"AED 1,900",availableFrom:"2026-01-20",whatsappLink:"https://wa.me/923045678901",videoLink:"https://youtube.com/watch?v=electrician-usman",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Intermediate",arabicLevel:"None"},{id:"10",name:"Shahid Mahmood",email:"shahid.mahmood@email.com",phone:"+92 305 6789012",nationality:"Pakistan",position:"Electrician",country:"Saudi Arabia",experience:8,status:"Pending",source:"Email",passportAvailable:!0,skills:["Industrial Wiring","PLC Systems","Motor Control","High Voltage"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:8.8,age:36,dateOfBirth:"1989-06-20",passportNumber:"IJ3456789",passportExpiry:"2029-04-15",medicalExpiry:"2026-08-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Faisalabad, Pakistan",salaryExpectation:"SAR 2,200",availableFrom:"2026-01-05",lastContacted:"2025-12-13",whatsappLink:"https://wa.me/923056789012",videoLink:"https://youtube.com/watch?v=electrician-shahid",linkedinUrl:"https://linkedin.com/in/shahid-mahmood-electrician",drivingLicense:"None",yearsInGCC:4,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"11",name:"Naveed Akhtar",email:"naveed.akhtar@email.com",phone:"+92 306 7890123",nationality:"Pakistan",position:"Electrician",country:"Serbia",experience:6,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Residential Wiring","Commercial Setup","Safety Compliance"],appliedDate:"2025-12-15",languages:["English","Urdu"],aiScore:8.2,age:33,dateOfBirth:"1992-09-08",passportNumber:"KL4567890",passportExpiry:"2028-07-25",medicalExpiry:"2026-12-10",religion:"Muslim",maritalStatus:"Married",currentLocation:"Rawalpindi, Pakistan",salaryExpectation:"EUR 1,200",availableFrom:"2026-02-15",whatsappLink:"https://wa.me/923067890123",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"12",name:"Zubair Hussain",email:"zubair.hussain@email.com",phone:"+92 307 8901234",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:5,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Building Management Systems","Fire Alarm","CCTV Installation","Networking"],appliedDate:"2025-11-28",languages:["English","Urdu","Arabic"],aiScore:8.6,age:30,dateOfBirth:"1995-04-17",passportNumber:"MN5678901",passportExpiry:"2027-10-30",religion:"Muslim",maritalStatus:"Single",currentLocation:"Abu Dhabi, UAE",salaryExpectation:"AED 2,100",availableFrom:"Currently Working",lastContacted:"2025-12-05",whatsappLink:"https://wa.me/923078901234",videoLink:"https://youtube.com/watch?v=electrician-zubair",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"13",name:"Waqas Ali",email:"waqas.ali@email.com",phone:"+92 308 9012345",nationality:"Pakistan",position:"Light Driver",country:"UAE",experience:7,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Personal Driving","UAE License","Safe Driving","Navigation"],appliedDate:"2025-12-16",languages:["English","Urdu","Arabic"],aiScore:8,age:34,dateOfBirth:"1991-07-22",passportNumber:"OP6789012",passportExpiry:"2028-05-18",medicalExpiry:"2026-09-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Multan, Pakistan",salaryExpectation:"AED 2,500",availableFrom:"2026-01-10",whatsappLink:"https://wa.me/923089012345",videoLink:"https://youtube.com/watch?v=driver-waqas",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"14",name:"Fahad Malik",email:"fahad.malik@email.com",phone:"+92 309 0123456",nationality:"Pakistan",position:"Heavy Driver",country:"Saudi Arabia",experience:9,status:"Pending",source:"Email",passportAvailable:!0,skills:["Truck Driving","Trailer Operation","Long Distance","Logistics"],appliedDate:"2025-12-11",languages:["English","Urdu","Arabic"],aiScore:8.9,age:40,dateOfBirth:"1985-03-30",passportNumber:"QR7890123",passportExpiry:"2029-02-20",medicalExpiry:"2026-06-25",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sialkot, Pakistan",salaryExpectation:"SAR 3,000",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/923090123456",videoLink:"https://youtube.com/watch?v=heavy-driver-fahad",linkedinUrl:"https://linkedin.com/in/fahad-malik-driver",drivingLicense:"Heavy Vehicle",yearsInGCC:6,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"15",name:"Bilal Ahmed",email:"bilal.ahmed@email.com",phone:"+92 310 1234567",nationality:"Pakistan",position:"Light Driver",country:"Kosovo",experience:5,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Driving","GPS Navigation","Customer Service","Safe Driving"],appliedDate:"2025-12-17",languages:["English","Urdu"],aiScore:7.6,age:29,dateOfBirth:"1996-11-05",passportNumber:"ST8901234",passportExpiry:"2028-08-12",medicalExpiry:"2026-10-18",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"EUR 900",availableFrom:"2026-02-20",whatsappLink:"https://wa.me/923101234567",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"16",name:"Asif Raza",email:"asif.raza@email.com",phone:"+92 311 2345678",nationality:"Pakistan",position:"Heavy Driver",country:"UAE",experience:12,status:"Deployed",source:"WhatsApp",passportAvailable:!0,skills:["Dump Truck","Crane Operation","Heavy Equipment","Construction Sites"],appliedDate:"2025-11-22",languages:["English","Urdu","Arabic"],aiScore:9.1,age:42,dateOfBirth:"1983-01-15",passportNumber:"UV9012345",passportExpiry:"2027-12-08",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sharjah, UAE",salaryExpectation:"AED 4,000",availableFrom:"Currently Working",lastContacted:"2025-12-08",whatsappLink:"https://wa.me/923112345678",videoLink:"https://youtube.com/watch?v=heavy-driver-asif",drivingLicense:"Heavy Vehicle",yearsInGCC:10,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"17",name:"Kashif Mehmood",email:"kashif.mehmood@email.com",phone:"+92 312 3456789",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:6,status:"Applied",source:"Email",passportAvailable:!0,skills:["Pipe Installation","Sanitary Fitting","Water Heaters","Drainage"],appliedDate:"2025-12-14",languages:["English","Urdu"],aiScore:8.1,age:31,dateOfBirth:"1994-08-25",passportNumber:"WX0123456",passportExpiry:"2028-09-30",medicalExpiry:"2026-11-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Gujranwala, Pakistan",salaryExpectation:"AED 1,850",availableFrom:"2026-01-25",whatsappLink:"https://wa.me/923123456789",videoLink:"https://youtube.com/watch?v=plumber-kashif",drivingLicense:"None",yearsInGCC:1,englishLevel:"Intermediate",arabicLevel:"Basic"},{id:"18",name:"Hamza Qureshi",email:"hamza.qureshi@email.com",phone:"+92 313 4567890",nationality:"Pakistan",position:"Plumber",country:"Saudi Arabia",experience:7,status:"Pending",source:"WhatsApp",passportAvailable:!0,skills:["Commercial Plumbing","HVAC Systems","Maintenance","Repair"],appliedDate:"2025-12-10",languages:["English","Urdu","Arabic"],aiScore:8.4,age:35,dateOfBirth:"1990-05-12",passportNumber:"YZ1234567",passportExpiry:"2029-03-18",medicalExpiry:"2026-07-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Peshawar, Pakistan",salaryExpectation:"SAR 2,000",availableFrom:"2026-01-08",lastContacted:"2025-12-11",whatsappLink:"https://wa.me/923134567890",videoLink:"https://youtube.com/watch?v=plumber-hamza",linkedinUrl:"https://linkedin.com/in/hamza-qureshi-plumber",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"19",name:"Tariq Aziz",email:"tariq.aziz@email.com",phone:"+92 314 5678901",nationality:"Pakistan",position:"Plumber",country:"Serbia",experience:5,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Residential Plumbing","Bathroom Fitting","Kitchen Setup"],appliedDate:"2025-12-18",languages:["English","Urdu"],aiScore:7.8,age:28,dateOfBirth:"1997-10-03",passportNumber:"AB2345678",passportExpiry:"2028-06-14",medicalExpiry:"2026-12-05",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"EUR 1,100",availableFrom:"2026-02-28",whatsappLink:"https://wa.me/923145678901",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"20",name:"Rizwan Shah",email:"rizwan.shah@email.com",phone:"+92 315 6789012",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:9,status:"Deployed",source:"Email",passportAvailable:!0,skills:["High-rise Buildings","Fire Fighting Systems","Water Supply","Pump Installation"],appliedDate:"2025-11-25",languages:["English","Urdu","Arabic"],aiScore:8.7,age:38,dateOfBirth:"1987-02-28",passportNumber:"CD3456789",passportExpiry:"2027-11-22",religion:"Muslim",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 2,200",availableFrom:"Currently Working",lastContacted:"2025-12-02",whatsappLink:"https://wa.me/923156789012",videoLink:"https://youtube.com/watch?v=plumber-rizwan",drivingLicense:"Light Vehicle",yearsInGCC:7,englishLevel:"Fluent",arabicLevel:"Fluent"},{id:"21",name:"Ayesha Malik",email:"ayesha.malik@email.com",phone:"+92 316 7890123",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:5,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Makeup Artist","Hair Styling","Bridal Makeup","Facial Treatments"],appliedDate:"2025-12-15",languages:["English","Urdu","Arabic"],aiScore:8.3,age:27,dateOfBirth:"1998-06-12",passportNumber:"EF4567890",passportExpiry:"2028-04-20",medicalExpiry:"2026-08-15",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"AED 2,500",availableFrom:"2026-01-20",whatsappLink:"https://wa.me/923167890123",videoLink:"https://youtube.com/watch?v=beautician-ayesha",drivingLicense:"None",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"Basic"},{id:"22",name:"Sana Tariq",email:"sana.tariq@email.com",phone:"+92 317 8901234",nationality:"Pakistan",position:"Beautician",country:"Saudi Arabia",experience:6,status:"Pending",source:"Form",passportAvailable:!0,skills:["Nail Art","Spa Treatments","Waxing","Threading","Manicure & Pedicure"],appliedDate:"2025-12-12",languages:["English","Urdu","Arabic"],aiScore:8.5,age:29,dateOfBirth:"1996-09-18",passportNumber:"GH5678901",passportExpiry:"2028-12-10",medicalExpiry:"2026-10-22",religion:"Muslim",maritalStatus:"Married",currentLocation:"Islamabad, Pakistan",salaryExpectation:"SAR 2,200",availableFrom:"2026-01-12",lastContacted:"2025-12-13",whatsappLink:"https://wa.me/923178901234",videoLink:"https://youtube.com/watch?v=beautician-sana",linkedinUrl:"https://linkedin.com/in/sana-tariq-beautician",drivingLicense:"None",yearsInGCC:2,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"23",name:"Hina Khan",email:"hina.khan@email.com",phone:"+92 318 9012345",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:8,status:"Deployed",source:"Email",passportAvailable:!0,skills:["Permanent Makeup","Laser Treatments","Anti-aging","Skin Care"],appliedDate:"2025-11-18",languages:["English","Urdu","Arabic"],aiScore:9,age:33,dateOfBirth:"1992-03-22",passportNumber:"IJ6789012",passportExpiry:"2027-10-15",religion:"Muslim",maritalStatus:"Married",currentLocation:"Dubai, UAE",salaryExpectation:"AED 3,500",availableFrom:"Currently Working",lastContacted:"2025-12-05",whatsappLink:"https://wa.me/923189012345",videoLink:"https://youtube.com/watch?v=beautician-hina",drivingLicense:"Light Vehicle",yearsInGCC:5,englishLevel:"Fluent",arabicLevel:"Fluent"},{id:"24",name:"Farah Naz",email:"farah.naz@email.com",phone:"+92 319 0123456",nationality:"Pakistan",position:"Beautician",country:"Kosovo",experience:4,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Hair Coloring","Hair Extensions","European Styling","Makeup"],appliedDate:"2025-12-19",languages:["English","Urdu"],aiScore:7.7,age:26,dateOfBirth:"1999-07-08",passportNumber:"KL7890123",passportExpiry:"2028-05-28",medicalExpiry:"2026-09-10",religion:"Muslim",maritalStatus:"Single",currentLocation:"Karachi, Pakistan",salaryExpectation:"EUR 950",availableFrom:"2026-03-01",whatsappLink:"https://wa.me/923190123456",drivingLicense:"None",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"25",name:"Imran Abbas",email:"imran.abbas@email.com",phone:"+92 320 1234567",nationality:"Pakistan",position:"Electrician",country:"UAE",experience:7,status:"Applied",source:"Email",passportAvailable:!0,skills:["Solar Panel Installation","Renewable Energy","Electrical Design","Testing"],appliedDate:"2025-12-13",languages:["English","Urdu","Arabic"],aiScore:8.6,age:34,dateOfBirth:"1991-12-02",passportNumber:"MN8901234",passportExpiry:"2029-01-18",medicalExpiry:"2026-05-25",religion:"Muslim",maritalStatus:"Married",currentLocation:"Multan, Pakistan",salaryExpectation:"AED 2,300",availableFrom:"2026-01-18",whatsappLink:"https://wa.me/923201234567",videoLink:"https://youtube.com/watch?v=electrician-imran",linkedinUrl:"https://linkedin.com/in/imran-abbas-electrician",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"26",name:"Salman Rashid",email:"salman.rashid@email.com",phone:"+92 321 2345678",nationality:"Pakistan",position:"Electrician",country:"Germany",experience:9,status:"Pending",source:"Form",passportAvailable:!0,skills:["German Standards","VDE Compliance","Automation","Industrial Control"],appliedDate:"2025-12-16",languages:["English","Urdu","German (Basic)"],aiScore:8.9,age:37,dateOfBirth:"1988-04-15",passportNumber:"OP9012345",passportExpiry:"2028-08-22",medicalExpiry:"2026-11-30",religion:"Muslim",maritalStatus:"Married",currentLocation:"Faisalabad, Pakistan",salaryExpectation:"EUR 2,200",availableFrom:"2026-03-15",whatsappLink:"https://wa.me/923212345678",videoLink:"https://youtube.com/watch?v=electrician-salman",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"27",name:"Yasir Mehmood",email:"yasir.mehmood@email.com",phone:"+92 322 3456789",nationality:"Pakistan",position:"Light Driver",country:"Saudi Arabia",experience:6,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Family Driver","Airport Pickup","Safe Driving","Vehicle Maintenance"],appliedDate:"2025-12-17",languages:["English","Urdu","Arabic"],aiScore:8,age:32,dateOfBirth:"1993-08-10",passportNumber:"QR0123456",passportExpiry:"2028-07-05",medicalExpiry:"2026-10-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Sialkot, Pakistan",salaryExpectation:"SAR 2,400",availableFrom:"2026-01-22",whatsappLink:"https://wa.me/923223456789",videoLink:"https://youtube.com/watch?v=driver-yasir",drivingLicense:"Light Vehicle",yearsInGCC:2,englishLevel:"Intermediate",arabicLevel:"Intermediate"},{id:"28",name:"Nadeem Ali",email:"nadeem.ali@email.com",phone:"+92 323 4567890",nationality:"Pakistan",position:"Heavy Driver",country:"UAE",experience:11,status:"Deployed",source:"Email",passportAvailable:!0,skills:["Trailer Truck","Container Transport","Port Operations","Long Haul"],appliedDate:"2025-11-20",languages:["English","Urdu","Arabic"],aiScore:9.2,age:43,dateOfBirth:"1982-06-18",passportNumber:"ST1234567",passportExpiry:"2027-09-12",religion:"Muslim",maritalStatus:"Married",currentLocation:"Jebel Ali, UAE",salaryExpectation:"AED 4,500",availableFrom:"Currently Working",lastContacted:"2025-12-10",whatsappLink:"https://wa.me/923234567890",videoLink:"https://youtube.com/watch?v=heavy-driver-nadeem",drivingLicense:"Heavy Vehicle",yearsInGCC:9,englishLevel:"Intermediate",arabicLevel:"Fluent"},{id:"29",name:"Aamir Siddique",email:"aamir.siddique@email.com",phone:"+92 324 5678901",nationality:"Pakistan",position:"Plumber",country:"UAE",experience:8,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Villa Plumbing","Swimming Pool Systems","Jacuzzi Installation","Luxury Homes"],appliedDate:"2025-12-14",languages:["English","Urdu","Arabic"],aiScore:8.5,age:36,dateOfBirth:"1989-11-28",passportNumber:"UV2345678",passportExpiry:"2029-02-14",medicalExpiry:"2026-06-18",religion:"Muslim",maritalStatus:"Married",currentLocation:"Rawalpindi, Pakistan",salaryExpectation:"AED 2,100",availableFrom:"2026-01-28",whatsappLink:"https://wa.me/923245678901",videoLink:"https://youtube.com/watch?v=plumber-aamir",linkedinUrl:"https://linkedin.com/in/aamir-siddique-plumber",drivingLicense:"Light Vehicle",yearsInGCC:4,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"30",name:"Faisal Khan",email:"faisal.khan@email.com",phone:"+92 325 6789012",nationality:"Pakistan",position:"Plumber",country:"Austria",experience:6,status:"Applied",source:"Form",passportAvailable:!0,skills:["European Standards","Heating Systems","Radiator Installation","Gas Fitting"],appliedDate:"2025-12-18",languages:["English","Urdu"],aiScore:8.2,age:33,dateOfBirth:"1992-01-20",passportNumber:"WX3456789",passportExpiry:"2028-10-08",medicalExpiry:"2026-12-20",religion:"Muslim",maritalStatus:"Married",currentLocation:"Gujranwala, Pakistan",salaryExpectation:"EUR 1,800",availableFrom:"2026-03-10",whatsappLink:"https://wa.me/923256789012",drivingLicense:"Light Vehicle",yearsInGCC:0,englishLevel:"Fluent",arabicLevel:"None"},{id:"31",name:"Zainab Riaz",email:"zainab.riaz@email.com",phone:"+92 326 7890123",nationality:"Pakistan",position:"Beautician",country:"UAE",experience:7,status:"Pending",source:"Email",passportAvailable:!0,skills:["Microblading","Eyelash Extensions","Henna Art","Makeup Training"],appliedDate:"2025-12-11",languages:["English","Urdu","Arabic"],aiScore:8.7,age:31,dateOfBirth:"1994-05-16",passportNumber:"YZ4567890",passportExpiry:"2028-11-25",medicalExpiry:"2026-08-08",religion:"Muslim",maritalStatus:"Married",currentLocation:"Peshawar, Pakistan",salaryExpectation:"AED 3,000",availableFrom:"2026-01-15",lastContacted:"2025-12-12",whatsappLink:"https://wa.me/923267890123",videoLink:"https://youtube.com/watch?v=beautician-zainab",drivingLicense:"Light Vehicle",yearsInGCC:3,englishLevel:"Fluent",arabicLevel:"Intermediate"},{id:"32",name:"Mehwish Ahmed",email:"mehwish.ahmed@email.com",phone:"+92 327 8901234",nationality:"Pakistan",position:"Beautician",country:"Saudi Arabia",experience:5,status:"Applied",source:"WhatsApp",passportAvailable:!0,skills:["Hijab Styling","Arabic Makeup","Traditional Henna","Party Makeup"],appliedDate:"2025-12-16",languages:["English","Urdu","Arabic"],aiScore:8.1,age:28,dateOfBirth:"1997-09-03",passportNumber:"AB5678901",passportExpiry:"2028-06-30",medicalExpiry:"2026-09-22",religion:"Muslim",maritalStatus:"Single",currentLocation:"Lahore, Pakistan",salaryExpectation:"SAR 2,500",availableFrom:"2026-02-05",whatsappLink:"https://wa.me/923278901234",videoLink:"https://youtube.com/watch?v=beautician-mehwish",drivingLicense:"None",yearsInGCC:1,englishLevel:"Fluent",arabicLevel:"Intermediate"}],Ws=[{id:"1",companyName:"Al Majid Construction LLC",country:"UAE",contactPerson:"Hassan Al Majid",email:"hr@almajid.ae",phone:"+971 4 123 4567",categories:["Electrician","Plumber","Mason","Carpenter"],activeJobs:3},{id:"2",companyName:"Saudi Build Group",country:"Saudi Arabia",contactPerson:"Abdullah bin Salman",email:"recruitment@saudibuild.sa",phone:"+966 11 234 5678",categories:["Welder","Electrician","Steel Fixer"],activeJobs:2},{id:"3",companyName:"Qatar Development Co.",country:"Qatar",contactPerson:"Mohammed Al Thani",email:"jobs@qatardev.qa",phone:"+974 4444 5555",categories:["Mason","Carpenter","Heavy Driver"],activeJobs:4},{id:"4",companyName:"Oman Infrastructure",country:"Oman",contactPerson:"Said Al Balushi",email:"hr@omaninfra.om",phone:"+968 2456 7890",categories:["Electrician","Plumber","Carpenter"],activeJobs:1}],os=[{id:"1",employerId:"1",employerName:"Al Majid Construction LLC",position:"Electrician",country:"UAE",salary:"AED 1,800 - 2,200",candidates:5,urgency:"High",skills:["Electrical Installation","Industrial Wiring","Safety Standards","Maintenance"],status:"Open",createdDate:"2025-12-01"},{id:"2",employerId:"2",employerName:"Saudi Build Group",position:"Welder",country:"Saudi Arabia",salary:"SAR 2,000 - 2,500",candidates:10,urgency:"High",skills:["TIG Welding","MIG Welding","Arc Welding","Metal Fabrication"],status:"Open",createdDate:"2025-11-28"},{id:"3",employerId:"1",employerName:"Al Majid Construction LLC",position:"Plumber",country:"UAE",salary:"AED 1,600 - 2,000",candidates:3,urgency:"Medium",skills:["Pipe Installation","Water Systems","Drainage Systems","Maintenance"],status:"Open",createdDate:"2025-12-05"},{id:"4",employerId:"3",employerName:"Qatar Development Co.",position:"Mason",country:"Qatar",salary:"QAR 1,500 - 1,800",candidates:8,urgency:"Low",skills:["Bricklaying","Plastering","Tiling","Construction"],status:"Open",createdDate:"2025-11-25"},{id:"5",employerId:"4",employerName:"Oman Infrastructure",position:"Carpenter",country:"Oman",salary:"OMR 200 - 250",candidates:2,urgency:"Medium",skills:["Woodwork","Furniture Making","Interior Finishing","Blueprint Reading"],status:"Open",createdDate:"2025-12-07"},{id:"6",employerId:"3",employerName:"Qatar Development Co.",position:"Heavy Driver",country:"Qatar",salary:"QAR 2,200 - 2,800",candidates:15,urgency:"High",skills:["Truck Driving","Heavy Equipment","Valid License","Logistics"],status:"Closed",createdDate:"2025-11-10"}];/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uf=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,n,l)=>l?l.toUpperCase():n.toLowerCase()),eh=i=>{const s=uf(i);return s.charAt(0).toUpperCase()+s.slice(1)},Ph=(...i)=>i.filter((s,n,l)=>!!s&&s.trim()!==""&&l.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var df={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=$.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:p,...f},m)=>$.createElement("svg",{ref:m,...df,width:s,height:s,stroke:i,strokeWidth:l?Number(n)*24/Number(s):n,className:Ph("lucide",u),...f},[...p.map(([x,y])=>$.createElement(x,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(i,s)=>{const n=$.forwardRef(({className:l,...u},d)=>$.createElement(hf,{ref:d,iconNode:s,className:Ph(`lucide-${cf(eh(i))}`,`lucide-${i}`,l),...u}));return n.displayName=eh(i),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mf=X("activity",pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gf=X("arrow-left",ff);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Do=X("award",xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vf=X("bell",yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],th=X("bot",bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Xt=X("briefcase",wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ni=X("building-2",jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xr=X("calendar",Nf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kf=X("camera",_f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rh=X("chart-column",Sf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Cf=X("chart-pie",Ef);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_i=X("check",Af);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tf=X("chevron-down",Pf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],it=X("circle-alert",Of);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ie=X("circle-check-big",Rf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qs=X("circle-x",Lf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Th=X("clock",If);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Oh=X("copy",Df);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Mf=X("database",$f);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ff=X("dollar-sign",Uf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Mt=X("download",zf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vf=X("eye-off",Bf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zt=X("eye",Wf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yt=X("file-text",qf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],yi=X("file",Hf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Gf=X("folder-tree",Kf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qf=X("funnel",Jf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],gi=X("globe",Yf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Zf=X("grid-3x3",Xf);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Rh=X("image",e0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Lh=X("inbox",t0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],s0=X("layout-dashboard",r0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Yo=X("link-2",n0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],i0=X("list",a0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ko=X("loader",l0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],c0=X("lock",o0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],d0=X("log-in",u0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],p0=X("log-out",h0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],mt=X("mail",m0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yr=X("map-pin",f0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],gr=X("message-square",g0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$o=X("pen",x0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],tn=X("phone",y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],b0=X("play",v0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ki=X("plus",w0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],sh=X("qr-code",j0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_0=X("refresh-cw",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nh=X("save",k0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Br=X("search",S0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ui=X("send",E0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mo=X("settings",C0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ut=X("shield",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],So=X("smartphone",P0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xi=X("sparkles",T0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],R0=X("square-pen",O0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vi=X("star",L0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Si=X("trash-2",I0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],$0=X("trash",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ih=X("trending-up",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ys=X("triangle-alert",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Zs=X("upload",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Kn=X("user-check",z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dh=X("user",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],er=X("users",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],q0=X("video",W0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],en=X("x",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],G0=X("zap",K0);function ah(){const i=We.length,s=We.filter(m=>m.appliedDate==="2025-12-13").length;We.filter(m=>new Date(m.appliedDate)>=new Date("2025-12-06")).length;const n={Applied:We.filter(m=>m.status==="Applied").length,Pending:We.filter(m=>m.status==="Pending").length,Deployed:We.filter(m=>m.status==="Deployed").length,Cancelled:We.filter(m=>m.status==="Cancelled").length},l={WhatsApp:We.filter(m=>m.source==="WhatsApp").length,Email:We.filter(m=>m.source==="Email").length,Form:We.filter(m=>m.source==="Form").length,Manual:We.filter(m=>m.source==="Manual").length},u={};We.forEach(m=>{u[m.country]=(u[m.country]||0)+1});const d={};We.forEach(m=>{d[m.position]=(d[m.position]||0)+1});const p=os.filter(m=>m.status==="Open").length,f=Ws.length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome to Falisha Manpower Recruitment Portal"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Total Candidates"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:i}),r.jsxs("p",{className:"text-sm mt-2 bg-white bg-opacity-20 px-2 py-1 rounded inline-block",children:["+",s," today"]})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(er,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Open Job Orders"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:p}),r.jsxs("p",{className:"text-sm mt-2 opacity-75",children:[os.length," total orders"]})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Xt,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Active Employers"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:f}),r.jsx("p",{className:"text-sm mt-2 opacity-75",children:"Registered companies"})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Ni,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm opacity-90",children:"Deployed"}),r.jsx("p",{className:"text-4xl font-bold mt-2",children:n.Deployed}),r.jsx("p",{className:"text-sm mt-2 opacity-75",children:"Successfully placed"})]}),r.jsx("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Kn,{className:"w-8 h-8"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Status Breakdown"}),r.jsx("div",{className:"space-y-5",children:Object.entries(n).map(([m,x])=>{const y=x/i*100,b={Applied:{bg:"bg-blue-50",bar:"bg-gradient-to-r from-blue-500 to-blue-600",text:"text-blue-700"},Pending:{bg:"bg-yellow-50",bar:"bg-gradient-to-r from-yellow-500 to-yellow-600",text:"text-yellow-700"},Deployed:{bg:"bg-green-50",bar:"bg-gradient-to-r from-green-500 to-green-600",text:"text-green-700"},Cancelled:{bg:"bg-red-50",bar:"bg-gradient-to-r from-red-500 to-red-600",text:"text-red-700"}};return r.jsxs("div",{className:`p-3 rounded-lg ${b[m].bg}`,children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:`text-sm font-semibold ${b[m].text}`,children:m}),r.jsxs("span",{className:`text-sm font-bold ${b[m].text}`,children:[x," (",y.toFixed(0),"%)"]})]}),r.jsx("div",{className:"w-full bg-white rounded-full h-3 shadow-inner",children:r.jsx("div",{className:`h-3 rounded-full ${b[m].bar} shadow-sm transition-all duration-500`,style:{width:`${y}%`}})})]},m)})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Application Source"}),r.jsx("div",{className:"space-y-5",children:Object.entries(l).map(([m,x])=>{const y=x/i*100,b={WhatsApp:{bg:"bg-green-50",bar:"bg-gradient-to-r from-green-500 to-emerald-600"},Email:{bg:"bg-blue-50",bar:"bg-gradient-to-r from-blue-500 to-cyan-600"},Form:{bg:"bg-purple-50",bar:"bg-gradient-to-r from-purple-500 to-pink-600"},Manual:{bg:"bg-gray-50",bar:"bg-gradient-to-r from-gray-500 to-slate-600"}};return r.jsxs("div",{className:`p-3 rounded-lg ${b[m].bg}`,children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:m}),r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[x," (",y.toFixed(0),"%)"]})]}),r.jsx("div",{className:"w-full bg-white rounded-full h-3 shadow-inner",children:r.jsx("div",{className:`h-3 rounded-full ${b[m].bar} shadow-sm transition-all duration-500`,style:{width:`${y}%`}})})]},m)})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(yr,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Country Distribution"})]}),r.jsx("div",{className:"space-y-3",children:Object.entries(u).sort((m,x)=>x[1]-m[1]).map(([m,x],y)=>r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 rounded-lg hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),r.jsx("span",{className:"font-medium text-gray-900",children:m})]}),r.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:x})]},m))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Do,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Position Distribution"})]}),r.jsx("div",{className:"space-y-3",children:Object.entries(d).sort((m,x)=>x[1]-m[1]).map(([m,x],y)=>r.jsxs("div",{className:"flex justify-between items-center py-3 px-4 rounded-lg hover:bg-green-50 transition-colors border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xs font-bold",children:y+1}),r.jsx("span",{className:"font-medium text-gray-900",children:m})]}),r.jsx("span",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:x})]},m))})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Ih,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-900",children:"AI Insights & Recommendations"}),r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Electrician applications increased by 32%"})," this week. High demand for UAE positions."]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Saudi Arabia is currently the top demand destination"})," with ",u["Saudi Arabia"]," active candidates."]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Recommendation:"})," Push marketing for Welder and Steel Fixer positions - high AI matching scores detected."]}),r.jsxs("p",{className:"text-sm text-blue-800",children:[" ",r.jsx("strong",{children:"Alert:"})," 5 candidates pending document verification for more than 3 days. Follow-up required."]})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(xr,{className:"w-5 h-5 text-gray-600"}),r.jsx("h3",{children:"Recent Applications"})]}),r.jsx("div",{className:"space-y-3",children:We.slice(0,5).map(m=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx(er,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{children:m.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[m.position,"  ",m.country]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${m.status==="Applied"?"bg-blue-100 text-blue-700":m.status==="Pending"?"bg-yellow-100 text-yellow-700":m.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.status}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.appliedDate})]})]},m.id))})]})]})}const J0={},Q0="https://recruitment-portal-backend-production-d1f7.up.railway.app/api",Y0=()=>{const i=J0?.VITE_API_BASE_URL;return i&&i!=="/api"&&i.trim()!==""?i:typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"?Q0:"/api"},Js=Y0();console.log("[API Client] API_BASE_URL:",Js);console.log("[API Client] Environment:","production");console.log("[API Client] Hostname:",typeof window<"u"?window.location.hostname:"server");async function ss(i,s={}){const n=`${Js}${i}`,l=await fetch(n,{headers:{"Content-Type":"application/json",...s.headers||{}},...s});if(!l.ok){const u=await l.text().catch(()=>"");throw new Error(`${l.status}: ${u||l.statusText}`)}if(l.status!==204)return await l.json()}const ns={async listInboxMessages(i){const s=new URLSearchParams;return i?.limit!=null&&s.set("limit",String(i.limit)),i?.offset!=null&&s.set("offset",String(i.offset)),i?.source&&s.set("source",i.source),i?.status&&s.set("status",i.status),ss(`/cv-inbox?${s.toString()}`)},async listAttachments(i){return ss(`/cv-inbox/${i}/attachments`)},async createInboxMessage(i){return ss("/cv-inbox",{method:"POST",body:JSON.stringify(i)})},async uploadAttachment(i,s){return ss(`/cv-inbox/${i}/attachments`,{method:"POST",body:JSON.stringify(s)})},async deleteAttachment(i){return ss(`/cv-inbox/attachments/${i}`,{method:"DELETE"})},async triggerParsing(i){return ss(`/cv-inbox/attachments/${i}/process`,{method:"POST",body:JSON.stringify({})})},async getParsingJob(i){return ss(`/parsing-jobs/${i}`)}};class X0{async request(s,n={}){const l=`${Js}${s}`,u=await fetch(l,{headers:{"Content-Type":"application/json",...n.headers},...n});if(!u.ok){const d=await u.text();throw new Error(`API Error: ${u.status} ${d}`)}return u.json()}async getCandidates(s={}){const n=new URLSearchParams;s.search&&n.append("search",s.search),s.status&&s.status!=="all"&&n.append("status",s.status),s.position&&s.position!=="all"&&n.append("position",s.position),s.country_of_interest&&s.country_of_interest!=="all"&&n.append("country_of_interest",s.country_of_interest),s.documents&&s.documents!=="all"&&n.append("documents",s.documents),s.limit&&n.append("limit",s.limit.toString()),s.offset&&n.append("offset",s.offset.toString());const l=n.toString();return this.request(`/candidates${l?`?${l}`:""}`)}async bulkUpdateCandidateStatus(s,n){return this.request("/candidates/bulk/status",{method:"PATCH",body:JSON.stringify({candidateIds:s,status:n})})}async getCandidate(s){return(await this.request(`/candidates/${s}`)).candidate}async createCandidate(s){return(await this.request("/candidates",{method:"POST",body:JSON.stringify(s)})).candidate}async updateCandidate(s,n){return(await this.request(`/candidates/${s}`,{method:"PUT",body:JSON.stringify(n)})).candidate}async deleteCandidate(s){await this.request(`/candidates/${s}`,{method:"DELETE"})}async uploadDocument(s,n,l,u=!1){const d=new FormData;d.append("file",s),d.append("candidate_id",n),d.append("doc_type",l),d.append("is_primary",u.toString());const p=`${Js}/documents`,f=await fetch(p,{method:"POST",body:d});if(!f.ok){const x=await f.text();throw new Error(`API Error: ${f.status} ${x}`)}return(await f.json()).document}async getDocument(s){return(await this.request(`/documents/${s}`)).document}async listCandidateDocuments(s){return(await this.request(`/documents/candidate/${s}`)).documents}async getDocumentDownloadUrl(s,n=3600){return(await this.request(`/documents/${s}/download?expiresIn=${n}`)).signedUrl}async getCandidateCVDownload(s){return await this.request(`/candidates/${s}/documents/cv/download`)}async uploadCandidatePhoto(s,n){const l=new FormData;l.append("photo",n);const u=`${Js}/candidates/${s}/photo`,d=await fetch(u,{method:"POST",body:l});if(!d.ok){const p=await d.text();throw new Error(`API Error: ${d.status} ${p}`)}return await d.json()}async deleteDocument(s){await this.request(`/documents/${s}`,{method:"DELETE"})}async uploadCandidateDocument(s,n,l="web"){const u=new FormData;u.append("file",s),u.append("candidate_id",n),u.append("source",l);const d=s.size/(1024*1024),p=Math.max(12e4,12e4+d*1e4),f=new AbortController,m=setTimeout(()=>{f.abort()},p);try{const x=`${Js}/documents/candidate-documents`,b=await fetch(x,{method:"POST",body:u,signal:f.signal});if(clearTimeout(m),!b.ok){const k=await b.text().catch(()=>"");throw new Error(`API Error: ${b.status} ${k}`)}return await b.json()}catch(x){throw clearTimeout(m),x.name==="AbortError"||x.message?.includes("aborted")?new Error(`Upload timeout: The file (${d.toFixed(2)}MB) took too long to upload. Please check your connection and try again.`):x.message?.includes("Failed to fetch")||x.message?.includes("NetworkError")?new Error("Network error: Unable to connect to server. Please check your internet connection and try again."):x}}async getCandidateDocument(s){return await this.request(`/documents/candidate-documents/${s}`)}async updateCandidateDocument(s,n){return await this.request(`/documents/candidate-documents/${s}`,{method:"PATCH",body:JSON.stringify(n)})}async getCandidateDocumentDownload(s){return await this.request(`/documents/candidate-documents/${s}/download`)}async deleteCandidateDocument(s){await this.request(`/documents/candidate-documents/${s}`,{method:"DELETE"})}async listCandidateDocumentsNew(s){return(await this.request(`/documents/candidates/${s}/documents`)).documents||[]}async getVerificationLogsByDocument(s){return await this.request(`/verification-logs/document/${s}`)}async getVerificationLogsByCandidate(s){return await this.request(`/verification-logs/candidate/${s}`)}async getVerificationTimeline(s){const n=new URLSearchParams;return s.candidateId&&n.append("candidateId",s.candidateId),s.documentId&&n.append("documentId",s.documentId),s.limit&&n.append("limit",s.limit.toString()),await this.request(`/verification-logs/timeline?${n.toString()}`)}async getCandidateTimeline(s,n={}){const l=new URLSearchParams;n.limit&&l.append("limit",n.limit.toString()),n.offset&&l.append("offset",n.offset.toString()),n.category&&l.append("category",n.category),n.startDate&&l.append("startDate",n.startDate),n.endDate&&l.append("endDate",n.endDate);const u=l.toString();return this.request(`/timeline/candidate/${s}${u?`?${u}`:""}`)}async getTimelineEvent(s){return(await this.request(`/timeline/${s}`)).event}async createTimelineEvent(s){return(await this.request("/timeline",{method:"POST",body:JSON.stringify(s)})).event}async getEmployers(s={}){const n=new URLSearchParams;s.search&&n.append("search",s.search),s.limit&&n.append("limit",s.limit.toString()),s.offset&&n.append("offset",s.offset.toString());const l=n.toString();return this.request(`/employers${l?`?${l}`:""}`)}async getEmployer(s){return(await this.request(`/employers/${s}`)).employer}async createEmployer(s){return(await this.request("/employers",{method:"POST",body:JSON.stringify(s)})).employer}async updateEmployer(s,n){return(await this.request(`/employers/${s}`,{method:"PUT",body:JSON.stringify(n)})).employer}async deleteEmployer(s){await this.request(`/employers/${s}`,{method:"DELETE"})}async generateJobCode(){return(await this.request("/job-orders/generate-code")).jobCode}async getJobOrders(s={},n=!1){const l=new URLSearchParams;s.search&&l.append("search",s.search),s.employer_id&&l.append("employer_id",s.employer_id),s.limit&&l.append("limit",s.limit.toString()),s.offset&&l.append("offset",s.offset.toString()),n&&l.append("includeEmployer","true");const u=l.toString();return this.request(`/job-orders${u?`?${u}`:""}`)}async getJobOrder(s,n=!1){const l=n?"?includeEmployer=true":"";return(await this.request(`/job-orders/${s}${l}`)).jobOrder}async createJobOrder(s){return(await this.request("/job-orders",{method:"POST",body:JSON.stringify(s)})).jobOrder}async updateJobOrder(s,n){return(await this.request(`/job-orders/${s}`,{method:"PUT",body:JSON.stringify(n)})).jobOrder}async deleteJobOrder(s){await this.request(`/job-orders/${s}`,{method:"DELETE"})}async extractCandidateData(s,n){const l=new AbortController,u=setTimeout(()=>l.abort(),3e4);try{const d=await this.request(`/candidates/${s}/extract`,{method:"POST",body:JSON.stringify({cvUrl:n}),signal:l.signal});return clearTimeout(u),d}catch(d){throw clearTimeout(u),d.name==="AbortError"?new Error("Extraction timeout: The process took too long. Please try again."):d}}async updateExtraction(s,n,l,u){return this.request(`/candidates/${s}/extraction`,{method:"PUT",body:JSON.stringify({extractedData:n,approved:l,notes:u})})}async approveExtraction(s,n,l){return this.updateExtraction(s,n,!0,l)}async getExtractionHistory(s){return this.request(`/candidates/${s}/extraction-history`)}}const Ge=new X0;function Z0({candidateId:i,extractedData:s,onClose:n,onApprove:l,onReject:u}){const[d,p]=$.useState(s),[f,m]=$.useState(""),[x,y]=$.useState([]),[b,k]=$.useState(!1),[S,O]=$.useState(!1);$.useEffect(()=>{w()},[i]);const w=async()=>{try{const U=await Ge.getExtractionHistory(i);y(U.history||[])}catch(U){console.error("Failed to load extraction history:",U)}},T=U=>U?U>=.9?"text-green-600":U>=.7?"text-yellow-600":"text-red-600":"text-gray-400",B=U=>U?U>=.9?"High":U>=.7?"Medium":"Low":"Unknown",V=async()=>{O(!0);try{await l(d,f),n()}catch(U){console.error("Failed to approve extraction:",U)}finally{O(!1)}},W=async()=>{if(!f.trim()){alert("Please provide a reason for rejection");return}O(!0);try{await u(f),n()}catch(U){console.error("Failed to reject extraction:",U)}finally{O(!1)}},K=(U,A)=>{p(J=>({...J,[U]:A}))};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Extracted Data"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review and edit the automatically extracted CV data before saving"})]}),r.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(en,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[r.jsx(th,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"AI-Extracted Data"})]}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This data was automatically extracted from the CV. Please review and correct any errors."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nationality",d.extraction_confidence?.nationality&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.nationality)}`,children:["(",B(d.extraction_confidence.nationality)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.nationality||"",onChange:U=>K("nationality",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position",d.extraction_confidence?.position&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.position)}`,children:["(",B(d.extraction_confidence.position)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.position||"",onChange:U=>K("position",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Years of Experience",d.extraction_confidence?.experience_years&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.experience_years)}`,children:["(",B(d.extraction_confidence.experience_years)," confidence)"]})]}),r.jsx("input",{type:"number",value:d.experience_years||"",onChange:U=>K("experience_years",parseInt(U.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country of Interest",d.extraction_confidence?.country_of_interest&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.country_of_interest)}`,children:["(",B(d.extraction_confidence.country_of_interest)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.country_of_interest||"",onChange:U=>K("country_of_interest",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passport Expiry"}),r.jsx("input",{type:"date",value:d.passport_expiry||"",onChange:U=>K("passport_expiry",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Education",d.extraction_confidence?.education&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.education)}`,children:["(",B(d.extraction_confidence.education)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.education||"",onChange:U=>K("education",U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Skills (comma-separated)",d.extraction_confidence?.skills&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.skills)}`,children:["(",B(d.extraction_confidence.skills)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.skills?.join(", ")||"",onChange:U=>K("skills",U.target.value.split(",").map(A=>A.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Languages (comma-separated)",d.extraction_confidence?.languages&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.languages)}`,children:["(",B(d.extraction_confidence.languages)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.languages?.join(", ")||"",onChange:U=>K("languages",U.target.value.split(",").map(A=>A.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Certifications (comma-separated)",d.extraction_confidence?.certifications&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.certifications)}`,children:["(",B(d.extraction_confidence.certifications)," confidence)"]})]}),r.jsx("input",{type:"text",value:d.certifications?.join(", ")||"",onChange:U=>K("certifications",U.target.value.split(",").map(A=>A.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Previous Employment",d.extraction_confidence?.previous_employment&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.previous_employment)}`,children:["(",B(d.extraction_confidence.previous_employment)," confidence)"]})]}),r.jsx("textarea",{value:d.previous_employment||"",onChange:U=>K("previous_employment",U.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Professional Summary",d.extraction_confidence?.professional_summary&&r.jsxs("span",{className:`ml-2 text-xs ${T(d.extraction_confidence.professional_summary)}`,children:["(",B(d.extraction_confidence.professional_summary)," confidence)"]})]}),r.jsx("textarea",{value:d.professional_summary||"",onChange:U=>K("professional_summary",U.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Notes (optional)"}),r.jsx("textarea",{value:f,onChange:U=>m(U.target.value),placeholder:"Add any notes about the review or corrections made...",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),x.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("button",{onClick:()=>k(!b),className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-800",children:[r.jsx(Th,{className:"w-4 h-4"}),b?"Hide":"Show"," Extraction History (",x.length,")"]}),b&&r.jsx("div",{className:"mt-4 space-y-3",children:x.map((U,A)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[U.extraction_source==="automated"?r.jsx(th,{className:"w-4 h-4 text-blue-600"}):r.jsx(Dh,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.extraction_source==="automated"?"AI Extraction":"Human Review"})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.extracted_at).toLocaleString()})]}),U.notes&&r.jsx("p",{className:"text-sm text-gray-600",children:U.notes})]},A))})]})]}),r.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[r.jsxs("button",{onClick:W,disabled:S,className:"px-6 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 flex items-center gap-2",children:[r.jsx(Ys,{className:"w-4 h-4"}),"Reject"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:n,disabled:S,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsxs("button",{onClick:V,disabled:S,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[r.jsx(_i,{className:"w-4 h-4"}),"Approve & Save"]})]})]})]})})}const eg=i=>({1:[{id:"doc-001",fileName:"Ahmed_Hassan_CV.pdf",fileType:"PDF",category:"CV",uploadedBy:"System (Auto)",uploadedDate:"2024-12-13",fileSize:"245 KB",status:"verified"},{id:"doc-002",fileName:"Ahmed_Hassan_Passport.pdf",fileType:"PDF",category:"Passport",uploadedBy:"Admin",uploadedDate:"2024-12-10",fileSize:"1.2 MB",status:"verified",expiryDate:"2028-05-15"},{id:"doc-004",fileName:"Electrical_Certificate.pdf",fileType:"PDF",category:"Certificate",uploadedBy:"Admin",uploadedDate:"2024-12-08",fileSize:"890 KB",status:"verified",expiryDate:"2026-12-31"}],"AUTO-001":[{id:"doc-003",fileName:"Maria_Garcia_CV.pdf",fileType:"PDF",category:"CV",uploadedBy:"System (WhatsApp)",uploadedDate:"2024-12-13",fileSize:"180 KB",status:"verified"}],2:[{id:"doc-005",fileName:"Mohammed_Ali_Medical.pdf",fileType:"PDF",category:"Medical",uploadedBy:"Admin",uploadedDate:"2024-11-20",fileSize:"650 KB",status:"expired",expiryDate:"2024-11-30"}],"AUTO-002":[{id:"doc-006",fileName:"John_Smith_CV.docx",fileType:"DOCX",category:"CV",uploadedBy:"System (Email)",uploadedDate:"2024-12-13",fileSize:"312 KB",status:"pending"}],3:[{id:"doc-007",fileName:"Rajesh_Photo.jpg",fileType:"JPG",category:"Photo",uploadedBy:"Admin",uploadedDate:"2024-12-13",fileSize:"450 KB",status:"verified"}]})[i]||[];function Bn(i){if(!i)return[];if(Array.isArray(i))return i.filter(s=>typeof s=="string");if(typeof i=="string")try{const s=JSON.parse(i);return Array.isArray(s)?s.filter(n=>typeof n=="string"):[]}catch{return i.split(",").map(s=>s.trim()).filter(s=>s.length>0)}return[]}function tg({candidate:i,onClose:s,initialTab:n="details"}){const[l,u]=$.useState(!1),[d,p]=$.useState(i),[f,m]=$.useState([]),[x,y]=$.useState(!0),[b,k]=$.useState(n),[S,O]=$.useState(!1),[w,T]=$.useState(!1),[B,V]=$.useState(!1),[W,K]=$.useState(null),[U,A]=$.useState(null);$.useEffect(()=>{if(w){const R=setTimeout(()=>{console.warn("[Upload] Safety timeout: Uploading state stuck, resetting"),T(!1),A("Upload timed out. Please try again.")},18e4);return()=>clearTimeout(R)}},[w]);const[J,le]=$.useState(!1),[pe,xe]=$.useState(!1),ve=async()=>{try{y(!0);const Y=(await Ge.listCandidateDocumentsNew(i.id)).map(G=>{let be="Other";G.category==="cv_resume"?be="CV":G.category==="passport"?be="Passport":G.category==="certificates"?be="Certificate":G.category==="contracts"?be="Contract":G.category==="medical_reports"?be="Medical":G.category==="photos"&&(be="Photo");let me="pending";return G.verification_status==="verified"?me="verified":G.verification_status==="needs_review"||G.verification_status==="pending_ai"?me="pending":(G.verification_status==="rejected_mismatch"||G.verification_status==="failed")&&(me="expired"),{id:G.id,fileName:G.file_name||"Unknown",fileType:G.mime_type?.split("/")[1]?.toUpperCase()||"PDF",category:be,uploadedBy:G.uploaded_by_user_id||"System",uploadedDate:G.created_at?new Date(G.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],fileSize:G.file_size?`${(G.file_size/1024).toFixed(0)} KB`:"0 KB",status:me,expiryDate:G.expiry_date}});m(Y)}catch(R){console.error("Error fetching documents:",R),m(eg(i.id))}finally{y(!1)}};$.useEffect(()=>{b==="documents"&&ve()},[i.id,b]);const _e=()=>{le(!0)},ye=async()=>{const R=`${window.location.origin}/safe-cv/${i.id}`;try{await navigator.clipboard.writeText(R),xe(!0),setTimeout(()=>xe(!1),2e3)}catch(Y){console.error("Failed to copy link:",Y)}},Xe=()=>{window.print()},lt=()=>{u(!0)},qe=()=>{u(!1),p(d)},je=R=>{const{name:Y,value:G}=R.target;p({...d,[Y]:G})},H=()=>{console.log("[Upload] Button clicked - opening file picker"),A(null);try{const R=document.createElement("input");R.type="file",R.accept=".pdf,.doc,.docx,.jpg,.jpeg,.png",R.multiple=!0,R.oncancel=()=>{console.log("[Upload] File picker cancelled by user"),T(!1)},R.onchange=async Y=>{console.log("[Upload] File selected:",Y.target.files?.length||0,"files");const G=Y.target.files;if(!G||G.length===0){console.log("[Upload] No files selected - resetting state"),T(!1);return}if(G){A(null),T(!0);let be=setTimeout(()=>{console.warn("Upload safety timeout: Resetting uploading state"),T(!1)},3e5);try{const me=[],Ee=[];for(const Ce of Array.from(G)){const I=(async()=>{try{const ee=await Ge.uploadCandidateDocument(Ce,i.id,"web");return ee.document?.id&&me.push(ee.document.id),{success:!0,file:Ce.name}}catch(ee){console.error("Error uploading document:",ee);const ie=ee instanceof Error?ee.message:"Unknown error occurred";let ge=`Failed to upload ${Ce.name}`;return ie.includes("timeout")||ie.includes("aborted")||ie.includes("Upload timeout")?ge=`${Ce.name}: Upload timeout. Please check your connection and try again.`:ie.includes("File exceeds")||ie.includes("size limit")?ge=`${Ce.name}: File is too large (max 10MB)`:ie.includes("Unsupported file type")||ie.includes("file type")?ge=`${Ce.name}: Unsupported file type. Allowed: PDF, DOC, DOCX, JPG, PNG`:ie.includes("network")||ie.includes("fetch")?ge=`${Ce.name}: Network error. Please check your connection and try again.`:ie.includes("Candidate not found")?ge=`${Ce.name}: Candidate not found. Please refresh the page.`:ie&&(ge=`${Ce.name}: ${ie}`),A(ge),{success:!1,file:Ce.name,error:ge}}})();Ee.push(I)}await Promise.allSettled(Ee),T(!1);try{await ve()}catch(Ce){console.error("Error fetching documents after upload:",Ce)}if(me.length>0){let I=0,ee=!1;for(;I<15&&!ee;){await new Promise(ie=>setTimeout(ie,2e3));try{const ge=(await Ge.listCandidateDocumentsNew(i.id)).filter(we=>me.includes(we.id)&&we.category==="cv_resume"&&we.verification_status!=="pending_ai").sort((we,Pe)=>new Date(Pe.created_at).getTime()-new Date(we.created_at).getTime())[0];if(ge?.storage_path){ee=!0,O(!0);try{const we=Ge.extractCandidateData(i.id,ge.storage_path),Pe=new Promise((ct,xt)=>setTimeout(()=>xt(new Error("Extraction timeout: The process took too long. Please try again.")),3e4)),ot=await Promise.race([we,Pe]);ot&&ot.success?(K(ot.data),V(!0),O(!1)):(A(ot?.error||"Failed to extract CV data"),O(!1))}catch(we){console.error("Extraction error:",we),A(we instanceof Error?we.message:"CV extraction failed. The document may still be processing. Please refresh the page."),O(!1)}break}}catch(ie){console.error("Error checking document status:",ie)}I++}await ve(),ee||(console.log("Uploaded documents are not CVs - no extraction needed"),await ve())}else await ve()}catch(me){console.error("Upload error:",me),A(me instanceof Error?me.message:"An error occurred during upload")}finally{be&&(clearTimeout(be),be=null),T(!1)}}},R.onerror=Y=>{console.error("[Upload] File input error:",Y),A("Failed to open file picker. Please try again."),T(!1)},console.log("[Upload] Triggering file picker...");try{R.click(),console.log("[Upload] File picker triggered successfully")}catch(Y){console.error("[Upload] Error triggering file picker:",Y),A("Failed to open file picker. Please check your browser settings.")}}catch(R){console.error("[Upload] Error in handleUploadDocument:",R),A("Failed to open file picker. Please try again."),T(!1)}},ae=async R=>{try{const Y=await Ge.getCandidateDocumentDownload(R.id);window.open(Y.download_url,"_blank")}catch(Y){console.error("Error viewing document:",Y),alert(Y?.message||"Failed to view document")}},L=async R=>{try{const Y=await Ge.getCandidateDocumentDownload(R.id),G=document.createElement("a");G.href=Y.download_url,G.download=R.fileName,document.body.appendChild(G),G.click(),document.body.removeChild(G)}catch(Y){console.error("Error downloading document:",Y),alert(Y?.message||"Failed to download document")}},_=async R=>{if(confirm(`Are you sure you want to delete "${R.fileName}"? This action cannot be undone.`))try{await Ge.deleteCandidateDocument(R.id),await ve()}catch(Y){console.error("Error deleting document:",Y),alert(Y?.message||"Failed to delete document")}},D=R=>{switch(R){case"CV":return r.jsx(Yt,{className:"w-4 h-4"});case"Passport":return r.jsx(yi,{className:"w-4 h-4"});case"Photo":return r.jsx(Rh,{className:"w-4 h-4"});default:return r.jsx(yi,{className:"w-4 h-4"})}},ue=async R=>{try{await Ge.approveExtraction(i.id,R),V(!1),K(null),p({...d,...R})}catch(Y){console.error("Failed to approve extraction:",Y),A("Failed to save extracted data")}};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"bg-white border-b border-gray-200 p-6 flex items-start justify-between flex-shrink-0",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-blue-600 font-bold text-lg",children:((i.name||"UK").trim()||"UK").substring(0,2).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.name||"Unknown"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[i.position||"Candidate","  ",i.email||"No email"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!l&&r.jsxs("button",{onClick:lt,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx($o,{className:"w-4 h-4"}),"Edit"]}),l&&r.jsxs("button",{onClick:qe,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(nh,{className:"w-4 h-4"}),"Save"]}),r.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(en,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-8",children:[r.jsx("button",{onClick:()=>k("details"),className:`py-3 text-sm font-medium border-b-2 transition-colors ${b==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Candidate Details"}),r.jsxs("button",{onClick:()=>k("documents"),className:`py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${b==="documents"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[r.jsx(Yt,{className:"w-4 h-4"}),"Documents",f.length>0&&r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded-full text-xs font-medium",children:f.length})]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:b==="details"?r.jsxs("div",{className:"p-6 space-y-6",children:[i.profile_photo_url&&r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"relative",children:r.jsx("img",{src:i.profile_photo_url,alt:i.name,className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 shadow-lg",onError:R=>{R.currentTarget.style.display="none"}})})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Status"}),r.jsx("span",{className:`px-4 py-2 rounded-full text-sm inline-block ${i.status==="Applied"?"bg-blue-100 text-blue-700":i.status==="Pending"?"bg-yellow-100 text-yellow-700":i.status==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:i.status})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"AI Matching Score"}),r.jsxs("p",{className:"text-2xl",children:[i.ai_score||0,"/10"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(mt,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:d.email||"",onChange:je,className:`text-sm ${l?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!l})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(tn,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:d.phone||"",onChange:je,className:`text-sm ${l?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!l})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(yr,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Country of Interest"}),r.jsx("input",{type:"text",name:"country_of_interest",value:d.country_of_interest||"",onChange:je,className:`text-sm ${l?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!l})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(gi,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Nationality"}),r.jsx("input",{type:"text",name:"nationality",value:d.nationality||"",onChange:je,className:`text-sm ${l?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!l})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Professional Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Xt,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Position"}),r.jsx("input",{type:"text",name:"position",value:d.position||"",onChange:je,className:`text-sm ${l?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!l})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(xr,{className:"w-5 h-5 text-gray-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Applied Date"}),r.jsx("input",{type:"date",name:"created_at",value:d.created_at?.split("T")[0]||"",onChange:je,className:`text-sm ${l?"border border-gray-300":"bg-gray-100"} p-1 rounded`,readOnly:!l})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[i.passport_received?r.jsx(Ie,{className:"w-5 h-5 text-green-500 mt-1"}):r.jsx(qs,{className:"w-5 h-5 text-red-500 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Passport Status"}),r.jsx("p",{className:"text-sm",children:i.passport_received?"Received":"Not Received"})]})]})]})]}),(()=>{const R=Bn(i.skills);return R.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Skills & Competencies"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((Y,G)=>r.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:Y},G))})]})})(),(()=>{const R=Bn(i.languages);return R.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Languages"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:R.map((Y,G)=>r.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:Y},G))})]})})(),i.education&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Education"}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.education})})]}),i.certifications&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Certifications"}),r.jsx("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.certifications})})]}),i.previous_employment&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Work Experience"}),r.jsx("div",{className:"bg-indigo-50 border border-indigo-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.previous_employment})})]}),i.professional_summary&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Professional Summary"}),r.jsx("div",{className:"bg-teal-50 border border-teal-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm whitespace-pre-line",children:i.professional_summary})})]}),i.source&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Application Details"}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Application Source"}),r.jsx("p",{className:"text-sm",children:i.source})]})]}),i.videoLink&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Video Profile"}),r.jsxs("a",{href:i.videoLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[r.jsx(q0,{className:"w-5 h-5"}),"Watch Video Profile"]})]}),i.notes&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"Notes & Remarks"}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm",children:i.notes})})]}),(i.experience_years||i.position||i.ai_score)&&r.jsxs("div",{children:[r.jsx("h3",{className:"mb-4",children:"AI Analysis"}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 p-4 rounded-lg space-y-2",children:[(i.experience_years||i.position)&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Strengths:"}),i.experience_years?` ${i.experience_years} years of experience`:"",i.position?` in ${i.position}`:"",".",(()=>{const R=Bn(i.skills);return R.length>0?` Strong skill set including ${R.slice(0,3).join(", ")}.`:""})()]}),i.country_of_interest&&i.country_of_interest!=="missing"&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Recommendation:"})," Highly suitable for ",i.country_of_interest," market.",i.passport_received?" Passport ready - can deploy quickly.":" Passport needed - estimated 2-3 weeks."]}),i.ai_score&&r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Match Score:"})," ",i.ai_score,"/10 based on experience, skills, and market demand."]})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[l?r.jsxs("button",{onClick:qe,className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(nh,{className:"w-4 h-4"}),"Save Changes"]}):r.jsxs("button",{onClick:lt,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx($o,{className:"w-4 h-4"}),"Edit Details"]}),r.jsxs("button",{onClick:_e,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Ut,{className:"w-4 h-4"}),"Generate Employer CV"]}),r.jsxs("button",{className:"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(gr,{className:"w-4 h-4"}),"Send to Employer"]}),r.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),"Download CV"]})]})]}):r.jsxs("div",{className:"p-6 space-y-4",children:[w&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(ko,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Uploading Document..."}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Please wait while your file is being uploaded"})]})]}),S&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(ko,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5 animate-spin"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Extracting CV Data"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Processing your CV with AI... This may take a moment."})]})]}),U&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(it,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-800",children:"Extraction Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:U}),r.jsx("button",{onClick:()=>A(null),className:"text-xs text-red-600 hover:text-red-700 mt-2 underline",children:"Dismiss"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Candidate Documents"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"Loading...":`${f.length} files uploaded`})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:ve,disabled:x,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2",title:"Refresh documents",children:[r.jsx(_0,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Refresh"]}),r.jsxs("button",{onClick:H,disabled:S||w,className:`${S||w?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} px-4 py-2 rounded-lg transition-colors flex items-center gap-2`,children:[r.jsx(Zs,{className:`w-4 h-4 ${w?"animate-pulse":""}`}),w?"Uploading...":S?"Extracting...":"Upload Document"]})]})]}),x?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(ko,{className:"w-6 h-6 animate-spin text-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading documents..."})]}):f.length>0?r.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(R=>r.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0 ${R.category==="CV"?"bg-blue-100 text-blue-600":R.category==="Passport"?"bg-purple-100 text-purple-600":R.category==="Certificate"?"bg-green-100 text-green-600":R.category==="Medical"?"bg-red-100 text-red-600":R.category==="Photo"?"bg-pink-100 text-pink-600":"bg-gray-100 text-gray-600"}`,children:D(R.category)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:R.fileName}),r.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[r.jsx("span",{children:R.fileType}),r.jsx("span",{children:""}),r.jsx("span",{children:R.fileSize}),r.jsx("span",{children:""}),r.jsx("span",{className:`px-2 py-0.5 rounded-full ${R.category==="CV"?"bg-blue-100 text-blue-700":R.category==="Passport"?"bg-purple-100 text-purple-700":R.category==="Certificate"?"bg-green-100 text-green-700":R.category==="Medical"?"bg-red-100 text-red-700":R.category==="Photo"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:R.category})]})]}),r.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 flex-shrink-0 ${R.status==="verified"?"bg-green-100 text-green-700":R.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[R.status==="verified"&&r.jsx(Ie,{className:"w-3 h-3"}),R.status==="expired"&&r.jsx(it,{className:"w-3 h-3"}),R.status==="pending"&&r.jsx(it,{className:"w-3 h-3"}),R.status.charAt(0).toUpperCase()+R.status.slice(1)]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(xr,{className:"w-3 h-3"}),r.jsxs("span",{children:["Uploaded ",R.uploadedDate]})]}),r.jsxs("div",{children:["By ",R.uploadedBy]}),R.expiryDate&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(it,{className:"w-3 h-3"}),r.jsxs("span",{children:["Expires: ",R.expiryDate]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>ae(R),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm",children:[r.jsx(Zt,{className:"w-3.5 h-3.5"}),"View"]}),r.jsxs("button",{onClick:()=>L(R),className:"px-3 py-1.5 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-1.5 text-sm",children:[r.jsx(Mt,{className:"w-3.5 h-3.5"}),"Download"]}),r.jsxs("button",{onClick:()=>_(R),className:"px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors flex items-center gap-1.5 text-sm",children:[r.jsx(Si,{className:"w-3.5 h-3.5"}),"Delete"]})]})]})]})},R.id))}):r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsx(Yt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No documents uploaded yet"}),r.jsxs("button",{onClick:H,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[r.jsx(Zs,{className:"w-4 h-4"}),"Upload First Document"]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(it,{className:"w-4 h-4 text-blue-600"}),"Document Categories"]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-700",children:[r.jsx("div",{children:" CV / Resume"}),r.jsx("div",{children:" Passport"}),r.jsx("div",{children:" Certificates"}),r.jsx("div",{children:" Contracts"}),r.jsx("div",{children:" Medical Reports"}),r.jsx("div",{children:" Photos"}),r.jsx("div",{children:" Other Documents"})]})]})]})})]}),B&&W&&r.jsx(Z0,{candidateId:i.id,extractedData:W,onClose:()=>{V(!1),K(null)},onApprove:ue,onReject:R=>{console.log("Extraction rejected:",R),V(!1),K(null)}}),J&&r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-5xl max-h-[95vh] overflow-hidden flex flex-col shadow-2xl",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex items-center justify-between text-white print:hidden",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx(Ut,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Employer-Safe CV"}),r.jsx("p",{className:"text-sm text-blue-100",children:"Contact information hidden for privacy"})]})]}),r.jsx("button",{onClick:()=>le(!1),className:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-colors",children:r.jsx(en,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-b border-purple-200 p-4 flex items-center justify-between gap-4 print:hidden",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Ie,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Safe to Share"}),r.jsx("p",{className:"text-xs text-gray-600",children:"All sensitive information removed"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:ye,className:`px-4 py-2 rounded-lg transition-all flex items-center gap-2 font-medium ${pe?"bg-green-600 text-white":"bg-purple-600 text-white hover:bg-purple-700"}`,children:pe?r.jsxs(r.Fragment,{children:[r.jsx(_i,{className:"w-4 h-4"}),"Link Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Yo,{className:"w-4 h-4"}),"Copy Share Link"]})}),r.jsxs("button",{onClick:Xe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",children:[r.jsx(Mt,{className:"w-4 h-4"}),"Download PDF"]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8 print:p-8",children:r.jsxs("div",{id:"printable-cv",className:"max-w-4xl mx-auto bg-white",children:[r.jsx("div",{className:"text-center mb-6",children:r.jsx("img",{src:"/ChatGPT Image Jan 20, 2026, 05_24_22 PM.png",alt:"Falisha Manpower",className:"h-16 mx-auto mb-4"})}),r.jsxs("div",{className:"text-center mb-6 pb-4 border-b-2 border-blue-600",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.name||"Candidate"}),r.jsx("p",{className:"text-lg text-gray-600 mb-2",children:i.position||"Professional"}),r.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gi,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{children:i.nationality||"Not specified"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yr,{className:"w-5 h-5 text-blue-600"}),r.jsxs("span",{children:["Seeking: ",i.country||"Not specified"]})]})]})]}),r.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ut,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-yellow-900 text-sm mb-1",children:"Contact Information Protected"}),r.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:"For privacy, direct contact details have been removed. Contact Falisha Manpower to reach this candidate."}),r.jsxs("div",{className:"text-xs text-gray-700",children:[r.jsx("p",{children:" falishamanpower4035@gmail.com"}),r.jsx("p",{children:" +92330 3333335"})]})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Professional Summary"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(xr,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Experience"})]}),r.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[i.experience_years||0," Years"]})]}),r.jsxs("div",{className:"bg-purple-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(vi,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"AI Match Score"})]}),r.jsxs("p",{className:"text-xl font-bold text-purple-600",children:[i.ai_score?.toFixed(1)||"N/A","/10"]})]})]}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:i.professional_summary||`Highly skilled ${i.position||"professional"} with ${i.experience_years||0} years of professional experience. Seeking opportunities in ${i.country||"various markets"} to contribute technical expertise and drive operational excellence.`})]}),i.previous_employment&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Work Experience"]}),r.jsx("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-blue-500",children:r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:i.previous_employment})})]}),Bn(i.skills).length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(vi,{className:"w-5 h-5 text-blue-600"}),"Core Skills & Competencies"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:Bn(i.skills).map((R,Y)=>r.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-blue-50 to-purple-50 rounded border border-blue-200 text-gray-800 font-medium text-center text-sm",children:R},Y))})]}),i.education&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Education"]}),r.jsx("div",{className:"bg-gray-50 p-3 rounded border-l-4 border-purple-500",children:r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:i.education})})]}),i.certifications&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Ie,{className:"w-5 h-5 text-blue-600"}),"Certifications"]}),r.jsx("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-500",children:r.jsx("p",{className:"text-sm whitespace-pre-line text-gray-700",children:i.certifications})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-3 pb-2 border-b-2 border-blue-600 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Additional Information"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(gi,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Nationality"})]}),r.jsx("p",{className:"text-gray-700 text-sm",children:i.nationality||"Not specified"})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(yr,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"Preferred Location"})]}),r.jsx("p",{className:"text-gray-700 text-sm",children:i.country||"Not specified"})]})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ut,{className:"w-6 h-6 text-blue-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-1 text-sm",children:"Protected by Falisha Manpower"}),r.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"This employer-safe CV protects candidate privacy. Contact information has been secured."}),r.jsxs("p",{className:"text-xs text-gray-600",children:[r.jsx("strong",{children:"For interviews:"})," falishamanpower4035@gmail.com | +92330 3333335"]})]})]})})}),r.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:r.jsxs("p",{children:["Falisha Manpower AI Recruitment System | Candidate ID: ",i.id]})})]})})]}),r.jsx("style",{children:`
            @media print {
              @page {
                size: A4;
                margin: 0.5in;
              }
              
              body {
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
                margin: 0;
                padding: 0;
              }
              
              /* Hide everything */
              * {
                display: none !important;
                visibility: hidden !important;
              }
              
              /* Show only the printable CV */
              #printable-cv {
                display: block !important;
                visibility: visible !important;
                position: relative !important;
                width: 100% !important;
                height: auto !important;
                margin: 0 !important;
                padding: 0 !important;
                page-break-after: auto;
                page-break-inside: avoid;
              }
              
              #printable-cv * {
                display: block !important;
                visibility: visible !important;
                margin-bottom: 0.5rem !important;
                page-break-inside: avoid !important;
              }
              
              /* Typography */
              #printable-cv h1 { 
                font-size: 20px !important; 
                font-weight: bold !important;
                margin-bottom: 6px !important; 
              }
              #printable-cv h2 { 
                font-size: 14px !important; 
                font-weight: bold !important;
                margin-bottom: 8px !important; 
              }
              #printable-cv p { 
                font-size: 10px !important; 
                line-height: 1.3 !important;
                margin-bottom: 4px !important;
              }
              #printable-cv img {
                max-width: 100% !important;
                height: auto !important;
                margin-bottom: 8px !important;
              }
              
              /* Reduce all spacing */
              #printable-cv .mb-6 { margin-bottom: 8px !important; }
              #printable-cv .mb-4 { margin-bottom: 6px !important; }
              #printable-cv .mb-3 { margin-bottom: 4px !important; }
              #printable-cv .mb-2 { margin-bottom: 2px !important; }
              #printable-cv .mb-1 { margin-bottom: 1px !important; }
              
              #printable-cv .pb-2 { padding-bottom: 4px !important; }
              #printable-cv .pb-4 { padding-bottom: 6px !important; }
              #printable-cv .pb-6 { padding-bottom: 8px !important; }
              
              #printable-cv .p-6 { padding: 6px !important; }
              #printable-cv .p-4 { padding: 4px !important; }
              #printable-cv .p-3 { padding: 3px !important; }
              
              #printable-cv .gap-2 { gap: 2px !important; }
              #printable-cv .gap-3 { gap: 3px !important; }
              #printable-cv .gap-4 { gap: 4px !important; }
              
              /* Grid and flexbox */
              #printable-cv .grid,
              #printable-cv .flex {
                display: flex !important;
              }
              
              #printable-cv .grid-cols-2,
              #printable-cv .grid-cols-3 {
                flex-direction: row !important;
                flex-wrap: wrap !important;
              }
              
              #printable-cv .grid-cols-2 > * {
                flex: 0 0 48% !important;
              }
              
              #printable-cv .grid-cols-3 > * {
                flex: 0 0 31% !important;
              }
              
              /* Keep colors for branding */
              #printable-cv .bg-blue-50,
              #printable-cv .bg-purple-50,
              #printable-cv .bg-yellow-50,
              #printable-cv .bg-gray-50,
              #printable-cv .bg-green-50 {
                print-color-adjust: exact !important;
                -webkit-print-color-adjust: exact !important;
              }
              
              #printable-cv .border,
              #printable-cv .border-b-2,
              #printable-cv .border-l-4 {
                border-color: inherit !important;
                print-color-adjust: exact !important;
                -webkit-print-color-adjust: exact !important;
              }
              
              #printable-cv .text-sm { font-size: 9px !important; }
              #printable-cv .text-xs { font-size: 8px !important; }
              #printable-cv .text-xl { font-size: 12px !important; }
              #printable-cv .text-2xl { font-size: 14px !important; }
              #printable-cv .text-3xl { font-size: 16px !important; }
            }
          `})]})]})}function ih(i){const s=(i||"").trim();if(!s)return"??";const n=s.split(/\s+/).filter(Boolean),l=n[0]?.[0]||"",u=n[1]?.[0]||n[0]?.[1]||"";return`${l}${u}`.toUpperCase()}function rg(i){if(!i)return[];if(Array.isArray(i))return i.filter(s=>typeof s=="string");if(typeof i=="string")try{const s=JSON.parse(i);return Array.isArray(s)?s.filter(n=>typeof n=="string"):[]}catch{return i.includes(",")?i.split(",").map(s=>s.trim()).filter(s=>s.length>0):i.trim()?[i.trim()]:[]}return[]}function sg(i){if(!i)return null;const s=Object.values(i).filter(d=>typeof d=="number"&&isFinite(d));if(s.length===0)return null;const n=s.reduce((d,p)=>d+p,0)/s.length,l=n>1?n/100:n,u=Math.max(0,Math.min(10,l*10));return Math.round(u*10)/10}function ng({initialProfessionFilter:i="all"}){const[s,n]=$.useState([]),[l,u]=$.useState(!0),[d,p]=$.useState(null),[f,m]=$.useState("card"),[x,y]=$.useState(new Set),[b,k]=$.useState("Pending"),[S,O]=$.useState(!1),[w,T]=$.useState({search:"",position:i||"all",country:"all",status:"all"}),[B,V]=$.useState([]),[W,K]=$.useState([]),[U,A]=$.useState([]),[J,le]=$.useState(null),[pe,xe]=$.useState(!1),[ve,_e]=$.useState("details"),[ye,Xe]=$.useState(null),[lt,qe]=$.useState(null);$.useEffect(()=>{let I=!0;return(async()=>{try{const ee=await Ge.getCandidates({search:w.search,position:w.position,country_of_interest:w.country,status:w.status});if(I){n(ee.candidates||[]);const ie=Array.from(new Set((ee.candidates||[]).map(Pe=>Pe.position).filter(Boolean))).sort();V(ie);const ge=Array.from(new Set((ee.candidates||[]).map(Pe=>Pe.country_of_interest).filter(Boolean))).sort();K(ge);const we=Array.from(new Set((ee.candidates||[]).map(Pe=>Pe.status||"Applied").filter(Boolean))).sort();A(we.length?we:["Applied","Pending","Deployed","Cancelled"])}}catch(ee){I&&p(ee?.message||"Failed to load candidates")}finally{I&&u(!1)}})(),()=>{I=!1}},[w]);const je=$.useMemo(()=>s.filter(I=>{const ee=w.search.toLowerCase(),ie=!w.search||I.name.toLowerCase().includes(ee)||I.email?.toLowerCase().includes(ee)||I.phone?.toLowerCase().includes(ee)||I.candidate_code?.toLowerCase().includes(ee),ge=w.position==="all"||I.position===w.position,we=w.country==="all"||(I.country_of_interest||"")===w.country,Pe=w.status==="all"||(I.status||"Applied")===w.status;return ie&&ge&&we&&Pe}),[s,w]),H=$.useMemo(()=>{const I=s.length,ee=B.length,ie=s.filter(ct=>!!ct.needs_review).length,ge=s.filter(ct=>(ct.status||"Applied")==="Deployed").length,we=Date.now(),Pe=10080*60*1e3,ot=s.filter(ct=>{const xt=ct.created_at?Date.parse(ct.created_at):NaN;return Number.isFinite(xt)&&we-xt<=Pe}).length;return{totalCandidates:I,totalProfessions:ee,pendingReview:ie,deployed:ge,newThisWeek:ot}},[s,B.length]);$.useMemo(()=>{const I=new Map;for(const ee of s){const ie=(ee.position||"").trim();ie&&I.set(ie,(I.get(ie)||0)+1)}return I},[s]);const ae=$.useMemo(()=>je.length===0?!1:je.every(I=>x.has(I.id)),[je,x]);function L(I){y(ee=>{const ie=new Set(ee);return ie.has(I)?ie.delete(I):ie.add(I),ie})}function _(){y(new Set(je.map(I=>I.id)))}function D(){y(new Set)}async function ue(){if(x.size!==0)try{O(!0);const I=Array.from(x),ee=await Ge.bulkUpdateCandidateStatus(I,b),ie=new Set((ee.candidates||[]).map(ge=>ge.id));n(ge=>ge.map(we=>ie.has(we.id)?{...we,status:b}:we)),D()}catch(I){alert(I?.message||"Failed to bulk update status")}finally{O(!1)}}function R(I){le(I),_e("details"),xe(!0)}function Y(I){le(I),_e("documents"),xe(!0)}async function G(I){try{const{download_url:ee,filename:ie}=await Ge.getCandidateCVDownload(I.id),ge=document.createElement("a");ge.href=ee,ge.download=ie,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge)}catch(ee){ee?.message?.includes("404")?alert("No CV found for this candidate. Please upload a CV first."):alert(ee?.message||"Failed to download CV")}}function be(I){const ee=document.createElement("input");ee.type="file",ee.accept="image/*",ee.onchange=async ie=>{const ge=ie.target.files?.[0];if(ge){if(ge.size>5*1024*1024){alert("Photo must be smaller than 5MB");return}try{Xe(I),console.log("Uploading photo for candidate:",I,"File:",ge.name,ge.size,"bytes");const we=await Ge.uploadCandidatePhoto(I,ge);console.log("Photo upload result:",we);const Pe=await Ge.getCandidates(w);n(Pe.candidates||[]),alert("Photo uploaded successfully!")}catch(we){console.error("Photo upload error:",we),alert(`Failed to upload photo: ${we?.message||"Unknown error"}`)}finally{Xe(null)}}},ee.click()}function me(I,ee,ie){ie?Ee(I,ee):Ce(I,ee)}async function Ee(I,ee){try{const ge=(await Ge.listCandidateDocuments(I)).find(Pe=>Pe.doc_type.toLowerCase()===ee.toLowerCase());if(!ge){alert(`No ${ee} found`);return}const we=await Ge.getDocumentDownloadUrl(ge.id);window.open(we,"_blank")}catch(ie){alert(ie?.message||"Failed to view document")}}function Ce(I,ee){const ie=document.createElement("input");ie.type="file",ie.accept=ee==="photo"?"image/*":".pdf,.jpg,.jpeg,.png,.doc,.docx",ie.onchange=async ge=>{const we=ge.target.files?.[0];if(we)try{await Ge.uploadDocument(we,I,ee,!1);const Pe=await Ge.getCandidates(w);n(Pe.candidates||[]),alert(`${ee} uploaded successfully!`)}catch(Pe){alert(Pe?.message||`Failed to upload ${ee}`)}},ie.click()}return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):d?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center max-w-md",children:[r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),r.jsx("p",{className:"text-red-700 mb-4",children:d}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidates"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your candidate pipeline"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Candidates"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:H.totalCandidates})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Professions"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:H.totalProfessions})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Pending Review"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:H.pendingReview})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Deployed"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:H.deployed})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"New This Week"}),r.jsx("div",{className:"text-3xl font-bold mt-2",children:H.newThisWeek})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("select",{value:w.country,onChange:I=>T(ee=>({...ee,country:I.target.value})),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Countries"}),W.map(I=>r.jsx("option",{value:I,children:I},I))]}),r.jsxs("select",{value:w.status,onChange:I=>T(ee=>({...ee,status:I.target.value})),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),U.map(I=>r.jsx("option",{value:I,children:I},I))]}),r.jsxs("div",{className:"md:col-span-2 relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search candidates by name, email, phone...",value:w.search,onChange:I=>T(ee=>({...ee,search:I.target.value})),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>m("card"),className:`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${f==="card"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(Zf,{className:"w-4 h-4"}),"Cards"]}),r.jsxs("button",{onClick:()=>m("table"),className:`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 ${f==="table"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[r.jsx(i0,{className:"w-4 h-4"}),"Table"]})]})]}),x.size>0&&r.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[x.size," candidate",x.size>1?"s":""," selected"]}),r.jsx("button",{onClick:D,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear selection"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("select",{value:b,onChange:I=>k(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",disabled:S,children:[r.jsx("option",{value:"Applied",children:"Applied"}),r.jsx("option",{value:"Pending",children:"Pending"}),r.jsx("option",{value:"Deployed",children:"Deployed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]}),r.jsx("button",{onClick:ue,disabled:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-50",children:S?"Updating...":"Update Status"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",r.jsx("strong",{children:je.length})," of ",r.jsx("strong",{children:s.length})," candidates"]}),r.jsx("button",{onClick:ae?D:_,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:ae?"Deselect All":"Select All"})]})]}),f==="card"?je.length===0?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Br,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No candidates found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters."})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:je.map(I=>{const ee=rg(I.skills),ie=sg(I.extraction_confidence),ge=typeof I.ai_score=="number"&&isFinite(I.ai_score)?I.ai_score:ie,we=(I.status||"Applied").toString(),Pe=x.has(I.id),ot=!!I.cv_received,ct=!!I.passport_received,xt=!!I.certificate_received||!!I.degree_received,Ft=!!I.photo_received,Tt=!!I.medical_received,br=[ot,ct,xt,Ft,Tt].filter(Boolean).length,hs=br===5;return r.jsxs("div",{className:`bg-white rounded-xl border-2 transition-all hover:shadow-2xl ${Pe?"border-blue-500 shadow-lg":"border-gray-200"}`,children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500 to-purple-600 h-32 rounded-t-xl",children:[r.jsx("div",{className:"absolute -bottom-16 left-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-xl",children:I.profile_photo_url?r.jsx("img",{src:I.profile_photo_url,alt:I.name,className:"w-full h-full rounded-full object-cover",onError:ir=>{ir.currentTarget.style.display="none";const Vr=ir.currentTarget.parentElement;Vr&&(Vr.innerHTML=`<div class="w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-4xl font-bold text-blue-600">${ih(I.name)}</div>`)}}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-4xl font-bold text-blue-600",children:ih(I.name)})}),r.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors shadow-lg",onClick:ir=>{ir.stopPropagation(),be(I.id)},disabled:ye===I.id,children:ye===I.id?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(kf,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("input",{type:"checkbox",checked:Pe,onChange:()=>L(I.id),className:"w-6 h-6 text-blue-600 rounded cursor-pointer bg-white border-2 border-white shadow-lg"})})]}),r.jsxs("div",{className:"pt-20 p-6",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:I.name}),I.needs_review&&r.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(Ys,{className:"w-3 h-3"}),"Review"]}),I.auto_extracted&&!I.needs_review&&r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(xi,{className:"w-3 h-3"}),"Auto"]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[r.jsx(Xt,{className:"w-5 h-5"}),r.jsx("span",{className:"text-lg",children:I.position||""})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsx("span",{className:"text-sm",children:I.nationality||""}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx(yr,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium text-blue-600",children:I.country_of_interest||""})]})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[r.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium flex-shrink-0 ${we==="Applied"?"bg-blue-100 text-blue-700":we==="Pending"?"bg-yellow-100 text-yellow-700":we==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:we}),ge!=null&&r.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 px-4 py-2 rounded-lg",children:[r.jsx(vi,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),r.jsx("span",{className:"text-lg font-bold text-gray-900",children:ge.toFixed(1)}),r.jsx("span",{className:"text-xs text-gray-500",children:"/10"})]}),I.experience_years!=null&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Xt,{className:"w-4 h-4"}),r.jsxs("span",{className:"font-medium",children:[I.experience_years,"y exp"]})]})]}),r.jsxs("div",{className:"space-y-3 mb-4 pb-4 border-b border-gray-200",children:[I.phone&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(tn,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Phone"}),r.jsx("div",{className:"text-gray-900 font-medium truncate",children:I.phone})]})]}),I.email&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(mt,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),r.jsx("div",{className:"text-gray-900 font-medium truncate",children:I.email})]})]}),I.created_at&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(xr,{className:"w-4 h-4 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Applied Date"}),r.jsx("div",{className:"text-gray-900 font-medium",children:new Date(I.created_at).toLocaleDateString()})]})]})]}),ee.length>0&&r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Do,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Top Skills"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[ee.slice(0,4).map((ir,Vr)=>r.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 rounded-lg text-xs font-medium border border-blue-200",children:ir},Vr)),ee.length>4&&r.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium",children:["+",ee.length-4," more"]})]})]}),r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Document List"}),r.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${br===0?"bg-red-100 text-red-700":hs?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[br," files"]})]}),r.jsx("button",{onClick:()=>Y(I),className:"text-xs text-blue-600 hover:text-blue-700",children:"View All "})]}),br>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[r.jsxs("div",{onClick:()=>me(I.id,"cv",ot),className:`relative group cursor-pointer ${ot?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(Yt,{className:`w-5 h-5 mb-1 ${ot?"text-green-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"CV"}),ot?r.jsx(Ie,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(qs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>me(I.id,"passport",ct),className:`relative group cursor-pointer ${ct?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(yi,{className:`w-5 h-5 mb-1 ${ct?"text-purple-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Passport"}),ct?r.jsx(Ie,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(qs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>me(I.id,"certificate",xt),className:`relative group cursor-pointer ${xt?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(Do,{className:`w-5 h-5 mb-1 ${xt?"text-blue-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Cert"}),xt?r.jsx(Ie,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(qs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>me(I.id,"photo",Ft),className:`relative group cursor-pointer ${Ft?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(Rh,{className:`w-5 h-5 mb-1 ${Ft?"text-pink-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Photo"}),Ft?r.jsx(Ie,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(qs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]}),r.jsxs("div",{onClick:()=>me(I.id,"medical",Tt),className:`relative group cursor-pointer ${Tt?"bg-green-50 border-green-300 text-green-800":"bg-red-50 border-red-300 text-red-800"} border-2 rounded-lg p-2 flex flex-col items-center justify-center transition-all hover:shadow-md hover:scale-105`,children:[r.jsx(yi,{className:`w-5 h-5 mb-1 ${Tt?"text-green-600":"text-red-600"}`}),r.jsx("span",{className:"text-xs font-semibold",children:"Medical"}),Tt?r.jsx(Ie,{className:"w-5 h-5 text-green-600 absolute top-1 right-1",strokeWidth:2.5}):r.jsx(qs,{className:"w-5 h-5 text-red-600 absolute top-1 right-1",strokeWidth:2.5})]})]}),!hs&&r.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-700 flex items-center gap-2",children:[r.jsx(Ys,{className:"w-3 h-3"}),"Some documents are missing"]}),hs&&r.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-xs text-green-700 flex items-center gap-2",children:[r.jsx(Ie,{className:"w-3 h-3"}),"All documents are valid"]})]}):r.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700 flex items-center gap-2",children:[r.jsx(it,{className:"w-4 h-4"}),"No documents uploaded yet"]})]}),r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>R(I),className:"px-5 py-3.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[r.jsx(Zt,{className:"w-5 h-5"}),"View Profile"]}),r.jsxs("button",{onClick:()=>G(I),className:"px-5 py-3.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-xl hover:from-purple-700 hover:to-purple-800 transition-all flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-xl",children:[r.jsx(Mt,{className:"w-5 h-5"}),"Download CV"]})]})})]})]},I.id)})}):r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:r.jsx("p",{className:"text-gray-600 text-center",children:"Table view coming soon..."})}),pe&&J&&r.jsx(tg,{candidate:J,initialTab:ve,onClose:()=>{xe(!1),le(null)}})]})}function ag(i){const s=(i||"").trim();if(!s)return"??";const n=s.split(/\s+/).filter(Boolean),l=n[0]?.[0]||"",u=n[1]?.[0]||n[0]?.[1]||"";return`${l}${u}`.toUpperCase()}function ig(){const[i,s]=$.useState([]),[n,l]=$.useState(!0),[u,d]=$.useState(null),[p,f]=$.useState("");$.useEffect(()=>{let x=!0;return(async()=>{try{const y=await Ge.getCandidates();x&&s(y.candidates||[])}catch(y){x&&d(y?.message||"Failed to load candidates")}finally{x&&l(!1)}})(),()=>{x=!1}},[]);const m=$.useMemo(()=>{if(!p)return i;const x=p.toLowerCase();return i.filter(y=>y.name.toLowerCase().includes(x)||y.position?.toLowerCase().includes(x)||y.email?.toLowerCase().includes(x)||y.country_of_interest?.toLowerCase().includes(x))},[i,p]);return n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading candidates..."})]})}):u?r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Failed to load candidates"}),r.jsx("p",{className:"text-red-700 mb-4",children:u}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidate Browser"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Browse and search all candidates"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Candidates"}),r.jsx("div",{className:"text-2xl font-bold",children:i.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search by name, position, email, or country...",value:p,onChange:x=>f(x.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",m.length," of ",i.length," candidates"]})]}),m.length===0?r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Br,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No candidates found"}),r.jsx("p",{className:"text-gray-600",children:p?"Try adjusting your search terms":"Add candidates to see them here"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(x=>{const y=(x.status||"Applied").toString(),b=x.ai_score;return r.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 hover:border-blue-400 hover:shadow-xl transition-all overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 h-24 relative",children:r.jsx("div",{className:"absolute -bottom-10 left-6",children:r.jsx("div",{className:"w-20 h-20 bg-white rounded-full p-1.5 shadow-xl",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center text-2xl font-bold text-blue-600",children:ag(x.name)})})})}),r.jsxs("div",{className:"pt-14 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:x.name}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[r.jsx(Xt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:x.position||"Position not set"})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b border-gray-200",children:[r.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-medium ${y==="Applied"?"bg-blue-100 text-blue-700":y==="Pending"?"bg-yellow-100 text-yellow-700":y==="Deployed"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y}),b!=null&&r.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg",children:[r.jsx(vi,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),r.jsx("span",{className:"text-xs font-bold text-gray-900",children:b.toFixed(1)})]})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[x.email&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded flex items-center justify-center",children:r.jsx(mt,{className:"w-3 h-3 text-green-600"})}),r.jsx("span",{className:"text-gray-700 truncate",children:x.email})]}),x.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded flex items-center justify-center",children:r.jsx(tn,{className:"w-3 h-3 text-blue-600"})}),r.jsx("span",{className:"text-gray-700",children:x.phone})]}),x.country_of_interest&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded flex items-center justify-center",children:r.jsx(yr,{className:"w-3 h-3 text-purple-600"})}),r.jsx("span",{className:"text-gray-700",children:x.country_of_interest})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Documents:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[x.cv_received&&r.jsx(Ie,{className:"w-4 h-4 text-green-500"}),x.passport_received&&r.jsx(Ie,{className:"w-4 h-4 text-green-500"}),x.photo_received&&r.jsx(Ie,{className:"w-4 h-4 text-green-500"}),!x.cv_received&&!x.passport_received&&!x.photo_received&&r.jsx("span",{className:"text-gray-400",children:"None uploaded"})]})]})]})]},x.id)})})]})}function lg(){const[i,s]=$.useState(""),[n,l]=$.useState(null),u=async(p,f)=>{l(p);try{await new Promise(y=>setTimeout(y,1500));const m=`
EMPLOYER SAFE CV - ${f}
Generated on: ${new Date().toLocaleDateString()}

Company: ${f}
CV Type: Employer Safe CV (Redacted Candidate Information)

This CV has been generated by Falisha Manpower recruitment system.
All sensitive candidate information has been removed for employer safety.
Only relevant professional information is displayed.

Features:
- Candidate anonymization
- Professional profile summary
- Skills and experience highlights
- Available position matches
- Confidential contact information

For more information, please contact:
Falisha Manpower
Phone: +92330 3333335
Email: falishamanpower4035@gmail.com
      `,x=document.createElement("a");x.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(m)),x.setAttribute("download",`EmployerCV_${f.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.txt`),document.body.appendChild(x),x.click(),document.body.removeChild(x)}catch(m){console.error("Error generating CV:",m),alert("Failed to generate CV. Please try again.")}finally{l(null)}},d=Ws.filter(p=>p.companyName.toLowerCase().includes(i.toLowerCase())||p.country.toLowerCase().includes(i.toLowerCase())||p.contactPerson.toLowerCase().includes(i.toLowerCase()));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Employer Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage your employer database and relationships"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(ki,{className:"w-4 h-4"}),"Add Employer"]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search by company name, country, or contact person...",value:i,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(p=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:r.jsx(Ni,{className:"w-6 h-6"})}),p.activeJobs>0&&r.jsxs("span",{className:"bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm",children:[p.activeJobs," Active Jobs"]})]}),r.jsx("h3",{className:"text-white",children:p.companyName}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx(yr,{className:"w-4 h-4"}),r.jsx("p",{className:"text-sm text-blue-100",children:p.country})]})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Contact Person"}),r.jsx("p",{className:"text-sm",children:p.contactPerson})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(mt,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),r.jsx("p",{className:"text-sm break-all",children:p.email})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(tn,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),r.jsx("p",{className:"text-sm",children:p.phone})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Xt,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Hiring Categories"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.categories.slice(0,3).map((f,m)=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:f},m)),p.categories.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",p.categories.length-3," more"]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 p-4 flex gap-2",children:[r.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4"}),"View Details"]}),r.jsx("button",{onClick:()=>u(p.id,p.companyName),disabled:n===p.id,className:"flex-1 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",title:"Generate safe CV for this employer",children:n===p.id?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Mt,{className:"w-4 h-4"}),"Generate CV"]})})]})]},p.id))}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"mb-4",children:"Employer Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Total Employers"}),r.jsx("p",{className:"text-2xl text-blue-900",children:Ws.length})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Active Jobs"}),r.jsx("p",{className:"text-2xl text-green-900",children:Ws.reduce((p,f)=>p+f.activeJobs,0)})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Countries"}),r.jsx("p",{className:"text-2xl text-purple-900",children:new Set(Ws.map(p=>p.country)).size})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-orange-600 mb-1",children:"Categories"}),r.jsx("p",{className:"text-2xl text-orange-900",children:new Set(Ws.flatMap(p=>p.categories)).size})]})]})]})]})}function og(){const[i,s]=$.useState(""),[n,l]=$.useState("all"),u=os.filter(d=>{const p=d.position.toLowerCase().includes(i.toLowerCase())||d.employerName.toLowerCase().includes(i.toLowerCase())||d.country.toLowerCase().includes(i.toLowerCase()),f=n==="all"||d.status===n;return p&&f});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Job Order Management"}),r.jsx("p",{className:"text-gray-600",children:"Track and manage all job orders from employers"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(ki,{className:"w-4 h-4"}),"Create Job Order"]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search by position, employer, or country...",value:i,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:n,onChange:d=>l(d.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Open",children:"Open"}),r.jsx("option",{value:"Closed",children:"Closed"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(d=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(Xt,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white mb-1",children:d.position}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-100",children:[r.jsx(Ni,{className:"w-4 h-4"}),d.employerName]})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${d.status==="Open"?"bg-white bg-opacity-20":"bg-gray-500"}`,children:d.status})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(yr,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Location"}),r.jsx("p",{className:"text-sm",children:d.country})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ff,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Salary"}),r.jsx("p",{className:"text-sm",children:d.salary})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(er,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Required"}),r.jsxs("p",{className:"text-sm",children:[d.candidates," candidates"]})]})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(it,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Urgency"}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs inline-block ${d.urgency==="High"?"bg-red-100 text-red-700":d.urgency==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:d.urgency})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Required Skills"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.skills.slice(0,3).map((p,f)=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:p},f)),d.skills.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",d.skills.length-3," more"]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-100",children:["Created on ",d.createdDate]})]}),r.jsxs("div",{className:"border-t border-gray-200 p-4 flex gap-2",children:[r.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[r.jsx(er,{className:"w-4 h-4"}),"View Matches"]}),r.jsxs("button",{className:"flex-1 px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Zt,{className:"w-4 h-4"}),"Details"]})]})]},d.id))}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"mb-4",children:"Job Order Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Open Jobs"}),r.jsx("p",{className:"text-2xl text-green-900",children:os.filter(d=>d.status==="Open").length})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Total Candidates"}),r.jsx("p",{className:"text-2xl text-blue-900",children:os.reduce((d,p)=>d+p.candidates,0)})]}),r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-red-600 mb-1",children:"High Urgency"}),r.jsx("p",{className:"text-2xl text-red-900",children:os.filter(d=>d.urgency==="High"&&d.status==="Open").length})]}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Closed Jobs"}),r.jsx("p",{className:"text-2xl text-gray-900",children:os.filter(d=>d.status==="Closed").length})]})]})]})]})}function cg(){const[i,s]=$.useState("daily"),n=We.length,l=We.filter(y=>y.status==="Deployed").length,u=We.filter(y=>y.status==="Pending").length,d=We.filter(y=>y.status==="Applied").length,p=We.reduce((y,b)=>(y[b.country]=(y[b.country]||0)+1,y),{}),f=We.reduce((y,b)=>(y[b.position]=(y[b.position]||0)+1,y),{}),m=We.reduce((y,b)=>(y[b.source]=(y[b.source]||0)+1,y),{}),x=[{id:"daily",name:"Daily Activity Report",description:"New candidates, status changes, and daily metrics",icon:xr,color:"blue"},{id:"country",name:"Country-wise Report",description:"Applications breakdown by destination country",icon:Cf,color:"green"},{id:"position",name:"Position-wise Report",description:"Applications breakdown by trade/position",icon:rh,color:"purple"},{id:"source",name:"Source Analysis",description:"Application sources and conversion rates",icon:Ih,color:"orange"},{id:"employer",name:"Employer Pipeline",description:"Job orders and fulfillment status",icon:Yt,color:"red"},{id:"status",name:"Status Summary",description:"Candidate status workflow and timeline",icon:rh,color:"indigo"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Reports & Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Generate and export detailed reports"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[r.jsx(xr,{className:"w-4 h-4"}),"Select Date Range"]}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(Mt,{className:"w-4 h-4"}),"Export All"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Applications"}),r.jsx("p",{className:"text-3xl mb-1",children:n}),r.jsx("p",{className:"text-sm text-green-600",children:"All time"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Deployed"}),r.jsx("p",{className:"text-3xl mb-1",children:l}),r.jsxs("p",{className:"text-sm text-gray-500",children:[(l/n*100).toFixed(1),"% success rate"]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"In Progress"}),r.jsx("p",{className:"text-3xl mb-1",children:u}),r.jsx("p",{className:"text-sm text-yellow-600",children:"Pending review"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Applications"}),r.jsx("p",{className:"text-3xl mb-1",children:d}),r.jsx("p",{className:"text-sm text-blue-600",children:"Ready to process"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(y=>{const b=y.icon,k={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600",red:"bg-red-100 text-red-600",indigo:"bg-indigo-100 text-indigo-600"};return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${k[y.color]}`,children:r.jsx(b,{className:"w-6 h-6"})}),r.jsx("h3",{className:"mb-2",children:y.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.description}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"flex-1 px-3 py-2 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"View"}),r.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:r.jsx(Mt,{className:"w-4 h-4"})})]})]})},y.id)})}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{children:"Country-wise Distribution"}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Mt,{className:"w-4 h-4"}),"Export to Excel"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Country"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Total Candidates"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Percentage"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase tracking-wider",children:"Visual"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(p).sort((y,b)=>b[1]-y[1]).map(([y,b])=>{const k=b/n*100;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:y}),r.jsx("td",{className:"px-6 py-4",children:b}),r.jsxs("td",{className:"px-6 py-4",children:[k.toFixed(1),"%"]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-xs",children:r.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${k}%`}})})})]},y)})})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{children:"Position-wise Distribution"}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Mt,{className:"w-4 h-4"}),"Export to Excel"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(f).sort((y,b)=>b[1]-y[1]).map(([y,b])=>{const k=b/n*100;return r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm",children:y}),r.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:b})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full bg-green-500",style:{width:`${k}%`}})}),r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[k.toFixed(1),"% of total"]})]},y)})})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"mb-6",children:"Application Source Analysis"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(m).map(([y,b])=>{const k=b/n*100;return r.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y}),r.jsx("p",{className:"text-3xl mb-1",children:b}),r.jsxs("p",{className:"text-sm text-gray-500",children:[k.toFixed(1),"%"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-3",children:r.jsx("div",{className:"h-1 rounded-full bg-indigo-500",style:{width:`${k}%`}})})]},y)})})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[r.jsx("h3",{className:"text-blue-900 mb-4",children:"AI Generated Summary (Daily Report)"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Applications:"})," ",d," new candidates today. Peak application time: 10 AM - 2 PM. Most common source: ",Object.entries(m).sort((y,b)=>b[1]-y[1])[0][0],"."]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Top Demand:"})," ",Object.entries(p).sort((y,b)=>b[1]-y[1])[0][0]," ","is the most requested destination with ",Object.entries(p).sort((y,b)=>b[1]-y[1])[0][1]," candidates."]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Positions:"})," ",Object.entries(f).sort((y,b)=>b[1]-y[1])[0][0]," ","has the highest applications (",Object.entries(f).sort((y,b)=>b[1]-y[1])[0][1]," candidates)."]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{className:"text-blue-900",children:"Recommendation:"})," Focus recruitment efforts on ",Object.entries(f).sort((y,b)=>y[1]-b[1])[0][0]," ","positions as they have lower application rates but high demand from employers."]})})]})]})]})}function ug(){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure your recruitment portal preferences"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(gr,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"WhatsApp Integration"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Automated candidate intake via WhatsApp"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Auto-reply to new messages"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Send automated greeting and application link"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Follow-up reminders"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-send reminders to incomplete applications"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Status notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Notify candidates of status changes"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(mt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"Email Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure email automation and CV import"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Email Address for CV Import"}),r.jsx("input",{type:"email",defaultValue:"cvs@falishamanpower.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Auto-import CVs from inbox"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically process CV attachments"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Daily analytics email"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Send daily reports to management"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(G0,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"AI Features"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure AI-powered automation"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI CV Parsing"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically extract data from CVs"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI Candidate Matching"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-match candidates to job orders"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI Insights & Recommendations"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Get AI-powered recruitment insights"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI Employer CV Generation"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Auto-generate employer-safe CVs"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(vf,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage notification preferences"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"New candidate notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Get notified of new applications"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Job order updates"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Notifications for new job orders"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"AI matching alerts"}),r.jsx("p",{className:"text-xs text-gray-500",children:"When AI finds high-scoring matches"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:r.jsx(er,{className:"w-5 h-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h3",{children:"User Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage admin users and permissions"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600",children:"A"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm",children:"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500",children:"admin@falishamanpower.com"})]})]}),r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Super Admin"})]}),r.jsx("button",{className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Add New User"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Mf,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-900",children:"System Information"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Portal status and configuration"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Version"}),r.jsx("p",{className:"text-sm",children:"v1.0.0 (Premium Edition)"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Database Status"}),r.jsx("p",{className:"text-sm text-green-600",children:" Connected"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"AI Service"}),r.jsx("p",{className:"text-sm text-green-600",children:" Active"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"WhatsApp Integration"}),r.jsx("p",{className:"text-sm text-green-600",children:" Connected"})]})]})]})]})}function $h(){const[i,s]=$.useState({fullName:"",email:"",phone:"",nationality:"",countryOfInterest:"",position:"",experience:"",passportNumber:"",passportExpiry:"",passportAvailable:"yes",currentLocation:"",languages:"",skills:"",additionalInfo:""}),[n,l]=$.useState(null),[u,d]=$.useState(!1),[p,f]=$.useState({}),m=["UAE","Saudi Arabia","Qatar","Oman","Kuwait","Bahrain","Malaysia","Singapore","Other"],x=["Electrician","Plumber","Mason","Carpenter","Welder","Steel Fixer","Heavy Driver","Light Driver","Painter","HVAC Technician","Mechanic","Chef/Cook","Waiter","Cleaner","Security Guard","Warehouse Worker","Other"],y=["Pakistan","India","Bangladesh","Sri Lanka","Nepal","Philippines","Indonesia","Egypt","Kenya","Uganda","Other"],b=w=>{const{name:T,value:B}=w.target;s(V=>({...V,[T]:B})),p[T]&&f(V=>({...V,[T]:""}))},k=w=>{w.target.files&&w.target.files[0]&&(l(w.target.files[0]),p.cvFile&&f(T=>({...T,cvFile:""})))},S=()=>{const w={};return i.fullName.trim()||(w.fullName="Full name is required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(w.email="Email is invalid"):w.email="Email is required",i.phone.trim()||(w.phone="Phone number is required"),i.nationality||(w.nationality="Nationality is required"),i.countryOfInterest||(w.countryOfInterest="Country of interest is required"),i.position||(w.position="Position is required"),i.experience||(w.experience="Experience is required"),n||(w.cvFile="CV/Resume is required"),f(w),Object.keys(w).length===0},O=w=>{if(w.preventDefault(),!S()){const T=document.querySelector(".border-red-500");T&&T.scrollIntoView({behavior:"smooth",block:"center"});return}console.log("Form Data:",i),console.log("CV File:",n),d(!0),window.scrollTo({top:0,behavior:"smooth"})};return u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ie,{className:"w-10 h-10 text-green-600"})}),r.jsx("h2",{className:"text-green-600 mb-4",children:"Application Submitted Successfully!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for applying with Falisha Manpower. We have received your application and will review it shortly."}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"What's Next?"}),r.jsx("br",{}),"Our recruitment team will review your profile within 2-3 business days. We'll contact you via WhatsApp or email if your profile matches any of our current job openings."]})}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Application Reference: ",r.jsxs("strong",{children:["FM",Date.now().toString().slice(-6)]})]}),r.jsx("button",{onClick:()=>{d(!1),s({fullName:"",email:"",phone:"",nationality:"",countryOfInterest:"",position:"",experience:"",passportNumber:"",passportExpiry:"",passportAvailable:"yes",currentLocation:"",languages:"",skills:"",additionalInfo:""}),l(null)},className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another Application"})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl mx-auto mb-4",children:"FM"}),r.jsx("h1",{className:"text-blue-600 mb-2",children:"Falisha Manpower"}),r.jsx("h2",{className:"mb-2",children:"Job Application Form"}),r.jsx("p",{className:"text-gray-600",children:"Fill out this form to apply for overseas employment opportunities"})]}),r.jsxs("form",{onSubmit:O,className:"bg-white rounded-lg shadow-lg p-6 md:p-8 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Dh,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:b,placeholder:"Enter your full name",className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.fullName?"border-red-500":"border-gray-300"}`}),p.fullName&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.fullName]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(mt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"email",name:"email",value:i.email,onChange:b,placeholder:"your.email@example.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.email?"border-red-500":"border-gray-300"}`})]}),p.email&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.email]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Phone Number (with country code) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(tn,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:b,placeholder:"+92 300 1234567",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${p.phone?"border-red-500":"border-gray-300"}`})]}),p.phone&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.phone]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Nationality ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(gi,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsxs("select",{name:"nationality",value:i.nationality,onChange:b,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.nationality?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select nationality"}),y.map(w=>r.jsx("option",{value:w,children:w},w))]})]}),p.nationality&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.nationality]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Current Location/City"}),r.jsx("input",{type:"text",name:"currentLocation",value:i.currentLocation,onChange:b,placeholder:"e.g., Lahore, Pakistan",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-blue-600"}),"Job Preferences"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Country of Interest ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(yr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsxs("select",{name:"countryOfInterest",value:i.countryOfInterest,onChange:b,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.countryOfInterest?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select country"}),m.map(w=>r.jsx("option",{value:w,children:w},w))]})]}),p.countryOfInterest&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.countryOfInterest]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Position/Trade ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"position",value:i.position,onChange:b,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.position?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select position"}),x.map(w=>r.jsx("option",{value:w,children:w},w))]}),p.position&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.position]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Years of Experience ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"experience",value:i.experience,onChange:b,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none ${p.experience?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select experience"}),r.jsx("option",{value:"0-1",children:"0-1 years"}),r.jsx("option",{value:"1-3",children:"1-3 years"}),r.jsx("option",{value:"3-5",children:"3-5 years"}),r.jsx("option",{value:"5-10",children:"5-10 years"}),r.jsx("option",{value:"10+",children:"10+ years"})]}),p.experience&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.experience]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Skills & Certifications"}),r.jsx("textarea",{name:"skills",value:i.skills,onChange:b,placeholder:"List your relevant skills, certifications, licenses (e.g., TIG Welding, Safety Certificate, Heavy Equipment License)",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Languages Known"}),r.jsx("input",{type:"text",name:"languages",value:i.languages,onChange:b,placeholder:"e.g., English, Urdu, Arabic",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),"Passport Information"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Do you have a valid passport?"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"passportAvailable",value:"yes",checked:i.passportAvailable==="yes",onChange:b,className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm",children:"Yes"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"passportAvailable",value:"no",checked:i.passportAvailable==="no",onChange:b,className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm",children:"No"})]})]})]}),i.passportAvailable==="yes"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Passport Number"}),r.jsx("input",{type:"text",name:"passportNumber",value:i.passportNumber,onChange:b,placeholder:"e.g., AB1234567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm mb-2",children:"Passport Expiry Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(xr,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"date",name:"passportExpiry",value:i.passportExpiry,onChange:b,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[r.jsx(Zs,{className:"w-5 h-5 text-blue-600"}),"CV/Resume Upload"]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm mb-2",children:["Upload Your CV/Resume ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${p.cvFile?"border-red-500 bg-red-50":"border-gray-300 hover:border-blue-500"} transition-colors`,children:[r.jsx(Zs,{className:`w-12 h-12 mx-auto mb-3 ${p.cvFile?"text-red-400":"text-gray-400"}`}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("span",{className:"text-blue-600 hover:text-blue-700",children:"Click to upload"}),r.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),r.jsx("input",{type:"file",onChange:k,accept:".pdf,.doc,.docx",className:"hidden"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PDF, DOC, DOCX (Max 5MB)"}),n&&r.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg",children:[r.jsx(Ie,{className:"w-4 h-4"}),n.name]})]}),p.cvFile&&r.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"})," ",p.cvFile]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"mb-4",children:"Additional Information"}),r.jsx("textarea",{name:"additionalInfo",value:i.additionalInfo,onChange:b,placeholder:"Any additional information you'd like to share...",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Ie,{className:"w-5 h-5"}),"Submit Application"]}),r.jsx("p",{className:"text-sm text-gray-500 text-center mt-4",children:"By submitting this form, you agree to our terms and conditions"})]})]}),r.jsxs("div",{className:"text-center mt-6 text-gray-600",children:[r.jsx("p",{className:"text-sm",children:" 2025 Falisha Manpower. All rights reserved."}),r.jsx("p",{className:"text-sm mt-2",children:"Need help? Contact us via WhatsApp or email"})]})]})})}function dg({onClose:i}){return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",children:r.jsxs("div",{className:"min-h-screen relative",children:[r.jsx("button",{onClick:i,className:"fixed top-4 right-4 z-50 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",title:"Close Preview",children:r.jsx(en,{className:"w-6 h-6"})}),r.jsx($h,{})]})})}function hg(){const[i,s]=$.useState(!1),[n,l]=$.useState(!1),[u,d]=$.useState(!1),p="https://falishamanpower.com/apply",f=()=>{navigator.clipboard.writeText(p),s(!0),setTimeout(()=>s(!1),2e3)},m=()=>{const k=encodeURIComponent(` *Overseas Job Opportunity* 

Apply now with Falisha Manpower for employment in Gulf countries!

 Fill out our online application form:
${p}

We're currently recruiting for positions in UAE, Saudi Arabia, Qatar, and more.

Apply today!`);window.open(`https://wa.me/?text=${k}`,"_blank")},x=()=>{const k=encodeURIComponent("Apply for Overseas Employment - Falisha Manpower"),S=encodeURIComponent(`Dear Candidate,

Thank you for your interest in overseas employment opportunities.

Please complete our online application form at:
${p}

We are currently recruiting for various positions in Gulf countries including UAE, Saudi Arabia, Qatar, Oman, and more.

Best regards,
Falisha Manpower Team`);window.location.href=`mailto:?subject=${k}&body=${S}`},y=()=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(p)}`,b=()=>{const k=document.createElement("a");k.href=y(),k.download="falisha-application-qr.png",document.body.appendChild(k),k.click(),document.body.removeChild(k)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{children:"Application Form Link"}),r.jsx("p",{className:"text-gray-600",children:"Share this link with candidates to collect applications"})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("label",{className:"block text-sm mb-3",children:"Public Application Form URL"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Yo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",value:p,readOnly:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none"})]}),r.jsx("button",{onClick:f,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx(_i,{className:"w-4 h-4"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Oh,{className:"w-4 h-4"}),"Copy"]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("button",{onClick:m,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(gr,{className:"w-6 h-6 text-green-600"})}),r.jsx("h3",{className:"mb-2",children:"Share via WhatsApp"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send the application link directly via WhatsApp"})]}),r.jsxs("button",{onClick:x,className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(mt,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h3",{className:"mb-2",children:"Share via Email"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Email the application link to candidates"})]}),r.jsxs("button",{onClick:()=>l(!n),className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow text-left",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx(sh,{className:"w-6 h-6 text-purple-600"})}),r.jsx("h3",{className:"mb-2",children:"Generate QR Code"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Create a scannable QR code for the form"})]})]}),n&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{children:"QR Code"}),r.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[r.jsx(sh,{className:"w-4 h-4"}),"Download QR Code"]})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg border-2 border-gray-200 mb-4",children:r.jsx("img",{src:y(),alt:"Application Form QR Code",className:"w-64 h-64"})}),r.jsx("p",{className:"text-sm text-gray-600 text-center max-w-md",children:"Print this QR code and display it at your office, recruitment centers, or share it on social media. Candidates can scan it to directly access the application form."})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[r.jsx("h3",{className:"text-blue-900 mb-4",children:"How to Use"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"1"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Share the Link:"})," Copy and paste the URL in your WhatsApp status, Facebook posts, or send directly to candidates"]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"2"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Use QR Code:"})," Print the QR code and display it at your office or recruitment centers for easy scanning"]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"3"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Track Applications:"})," All submissions will automatically appear in the Candidate Management section"]})})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:"4"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Mobile Friendly:"})," The form is fully optimized for mobile devices - candidates can apply from their phones"]})})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"mb-4",children:"Preview Form"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"See how the application form looks to candidates before sharing"}),r.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(Zt,{className:"w-4 h-4"}),"Open Form Preview"]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Application Form Preview"}),r.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx(dg,{})]})})]})}function pg(){const[i,s]=$.useState([]),[n,l]=$.useState("all"),[u,d]=$.useState(!1),[p,f]=$.useState(null),[m,x]=$.useState(!1),y=$.useRef(null),b=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`web-${Date.now()}-${Math.random().toString(16).slice(2)}`;$.useEffect(()=>{k().catch(()=>{})},[]);async function k(){d(!0),f(null);try{const{messages:A}=await ns.listInboxMessages({limit:25,offset:0}),J=Object.fromEntries(A.map(xe=>[xe.id,xe])),le=await Promise.all(A.map(xe=>ns.listAttachments(xe.id).catch(()=>[]))),pe=[];for(let xe=0;xe<A.length;xe++){const ve=A[xe],_e=le[xe]||[];for(const ye of _e)pe.push({id:ye.id,messageId:ve.id,fileName:ye.file_name||"Attachment",source:ve.source==="whatsapp"?"WhatsApp":ve.source==="email"?"Email":ve.source==="web"?"Web Form":"Unknown",senderName:ve.payload?.sender_name||"Unknown",senderContact:ve.payload?.sender_contact||"Unknown",receivedDate:ve.received_at?new Date(ve.received_at).toLocaleString():"-",fileSize:"-",status:ye.candidate_id?"extracted":"queued",candidateId:ye.candidate_id||void 0})}s(pe)}catch(A){f(A?.message||"Failed to load CV inbox")}finally{d(!1)}}async function S(A){s(J=>J.map(le=>le.id===A?{...le,status:"processing",errorMessage:void 0}:le));try{const le=(await ns.triggerParsing(A)).job_id;s(pe=>pe.map(xe=>xe.id===A?{...xe,jobId:le,status:"processing"}:xe)),O(le,A)}catch(J){s(le=>le.map(pe=>pe.id===A?{...pe,status:"error",errorMessage:`Processing not available: ${J?.message||"unknown error"}`}:pe))}}async function O(A,J){let le=0;const pe=60,xe=setInterval(async()=>{le+=1;try{const ve=await ns.getParsingJob(A);ve.status==="completed"?(clearInterval(xe),s(_e=>_e.map(ye=>ye.id===J?{...ye,status:"extracted",candidateId:ve.candidate_id||ye.candidateId}:ye))):ve.status==="failed"?(clearInterval(xe),s(_e=>_e.map(ye=>ye.id===J?{...ye,status:"error",errorMessage:ve.error_message||"Parsing failed"}:ye))):s(_e=>_e.map(ye=>ye.id===J?{...ye,status:ve.status}:ye))}catch(ve){clearInterval(xe),s(_e=>_e.map(ye=>ye.id===J?{...ye,status:"error",errorMessage:`Status check failed: ${ve?.message||"unknown error"}`}:ye))}le>=pe&&(clearInterval(xe),s(ve=>ve.map(_e=>_e.id===J?{..._e,status:"error",errorMessage:"Processing timeout"}:_e)))},2e3)}const w=A=>new Promise((J,le)=>{const pe=new FileReader;pe.onload=()=>J(pe.result.split(",").pop()||""),pe.onerror=()=>le(pe.error),pe.readAsDataURL(A)}),T=()=>{y.current?.click()},B=async A=>{const J=A.target.files?.[0];if(J){x(!0),f(null);try{const le=await w(J),pe=await ns.createInboxMessage({source:"web",status:"received",received_at:new Date().toISOString(),external_message_id:b(),payload:{sender_name:"Manual Upload",sender_contact:"web"}}),xe=await ns.uploadAttachment(pe.id,{file_base64:le,file_name:J.name,mime_type:J.type||"application/octet-stream",attachment_type:"manual_upload",storage_bucket:"documents",storage_path:`inbox/${J.name}`}),ve={id:xe.id,messageId:pe.id,fileName:xe.file_name||J.name,source:"Web Form",senderName:"Manual Upload",senderContact:"web",receivedDate:new Date().toLocaleString(),fileSize:`${(J.size/1024).toFixed(1)} KB`,status:"queued",candidateId:xe.candidate_id||void 0};s(_e=>[ve,..._e]),await S(xe.id)}catch(le){f(le?.message||"Manual upload failed")}finally{x(!1),A.target.value=""}}},V=async A=>{if(!window.confirm("Delete this CV from inbox?"))return;f(null);const le=i;s(pe=>pe.filter(xe=>xe.id!==A));try{await ns.deleteAttachment(A)}catch(pe){f(pe?.message||"Failed to delete CV"),s(le)}},W=A=>{S(A)},K=n==="all"?i:i.filter(A=>A.status===n),U={total:i.length,processing:i.filter(A=>A.status==="processing"||A.status==="queued").length,extracted:i.filter(A=>A.status==="extracted").length,errors:i.filter(A=>A.status==="error").length,needsReview:i.filter(A=>A.status==="extracted"&&(A.confidence||0)<85).length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl",children:"CV Inbox"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Automatic AI extraction - CVs become candidates instantly"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{ref:y,type:"file",accept:".pdf,.doc,.docx,.txt,.rtf",className:"hidden",onChange:B}),r.jsxs("button",{onClick:T,disabled:m,className:`bg-blue-600 text-white px-6 py-3 rounded-lg transition-colors flex items-center gap-2 shadow-lg ${m?"opacity-70 cursor-not-allowed":"hover:bg-blue-700"}`,children:[r.jsx(Zs,{className:"w-5 h-5"}),m?"Uploading...":"Upload CV"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-500 to-gray-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Total CVs"}),r.jsx(Lh,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:U.total}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"All time"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Processing"}),r.jsx(xi,{className:"w-6 h-6 opacity-80 animate-pulse"})]}),r.jsx("div",{className:"text-3xl font-bold",children:U.processing}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"AI extracting now..."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Extracted"}),r.jsx(Ie,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:U.extracted}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Now candidates"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Needs Review"}),r.jsx(Ys,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:U.needsReview}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Low confidence"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 shadow-lg text-white transform transition-all hover:scale-105",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm opacity-90",children:"Errors"}),r.jsx(Ys,{className:"w-6 h-6 opacity-80"})]}),r.jsx("div",{className:"text-3xl font-bold",children:U.errors}),r.jsx("div",{className:"text-xs opacity-75 mt-2",children:"Need manual fix"})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("button",{onClick:()=>l("all"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="all"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",U.total,")"]})]}),r.jsxs("button",{onClick:()=>l("processing"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="processing"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Processing ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",U.processing,")"]})]}),r.jsxs("button",{onClick:()=>l("extracted"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="extracted"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Extracted ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",U.extracted,")"]})]}),r.jsxs("button",{onClick:()=>l("error"),className:`px-5 py-2.5 rounded-lg transition-all font-medium ${n==="error"?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Errors ",r.jsxs("span",{className:"ml-1 opacity-75",children:["(",U.errors,")"]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto",children:[u&&r.jsx("div",{className:"p-4 text-sm text-gray-600",children:"Loading inbox..."}),p&&r.jsx("div",{className:"p-4 text-sm text-red-600",children:p}),r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"CV Details"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Source"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Sender Info"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Received"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:K.map(A=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A.status==="processing"||A.status==="queued"?"bg-blue-100 animate-pulse":A.status==="extracted"?"bg-green-100":"bg-red-100"}`,children:r.jsx(Yt,{className:`w-5 h-5 ${A.status==="processing"||A.status==="queued"?"text-blue-600":A.status==="extracted"?"text-green-600":"text-red-600"}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:A.fileName}),r.jsx("p",{className:"text-sm text-gray-500",children:A.fileSize}),A.status==="error"&&A.errorMessage&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:A.errorMessage})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[A.source==="WhatsApp"&&r.jsxs(r.Fragment,{children:[r.jsx(gr,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm text-green-700 font-medium",children:"WhatsApp"})]}),A.source==="Email"&&r.jsxs(r.Fragment,{children:[r.jsx(mt,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Email"})]}),A.source==="Web Form"&&r.jsxs(r.Fragment,{children:[r.jsx(Zs,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm text-purple-700 font-medium",children:"Web Form"})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.senderName}),r.jsx("p",{className:"text-sm text-gray-500",children:A.senderContact})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(xr,{className:"w-4 h-4"}),A.receivedDate]})}),r.jsxs("td",{className:"px-6 py-4",children:[(A.status==="processing"||A.status==="queued")&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium flex items-center gap-1",children:[r.jsx(xi,{className:"w-3 h-3 animate-spin"}),A.status==="queued"?"Queued":"AI Processing..."]})}),A.status==="extracted"&&r.jsxs("div",{children:[r.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium flex items-center gap-1 w-fit mb-1",children:[r.jsx(Ie,{className:"w-3 h-3"}),"Extracted"]}),A.confidence&&r.jsxs("div",{className:"text-xs text-gray-600",children:["Confidence: ",r.jsxs("span",{className:`font-semibold ${A.confidence>=85?"text-green-600":"text-yellow-600"}`,children:[A.confidence,"%"]})]})]}),A.status==="error"&&r.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium flex items-center gap-1 w-fit",children:[r.jsx(Ys,{className:"w-3 h-3"}),"Error"]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[A.status==="extracted"&&A.candidateId&&r.jsxs("button",{onClick:()=>window.location.hash="candidates",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm",children:[r.jsx(Zt,{className:"w-4 h-4"}),"View Candidate"]}),A.status==="error"&&r.jsx("button",{onClick:()=>W(A.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Retry Extraction"}),A.status!=="extracted"&&A.status!=="processing"&&r.jsxs("button",{onClick:()=>S(A.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:[r.jsx(b0,{className:"w-4 h-4"}),"Process CV"]}),r.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Download",children:r.jsx(Mt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>V(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete CV",children:r.jsx($0,{className:"w-4 h-4"})})]})})]},A.id))})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:r.jsx(xi,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:" Fully Automatic AI Processing"}),r.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"When a CV arrives from WhatsApp, Email, or Web Form, our AI automatically:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 text-sm mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"1"}),"Reads the CV file"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"2"}),"Extracts all data"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"3"}),"Creates candidate profile"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-semibold",children:"4"}),"Flags if needs review"]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:" What happens next:"})," The candidate automatically appears in ",r.jsx("strong",{children:"Candidate Management"})," with a ",r.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Needs Review"})," badge if confidence is low. You can then review and fix any missing fields."]})})]})]})})]})}const mg=[{id:"tmpl-001",name:"CV Received - WhatsApp",type:"WhatsApp",trigger:"CV Received",message:` Thank you {name}!

We have received your CV for the position of {position}.

 Your application details:
 Name: {name}
 Position: {position}
 Country of Interest: {country}

Our team will review your profile and contact you within 2-3 business days.

 Track your application: falisha.com/track/{id}

Best regards,
Falisha Manpower`,variables:["name","position","country","id"],autoSend:!0,active:!0,usageCount:1247},{id:"tmpl-002",name:"CV Received - Email",type:"Email",trigger:"CV Received",subject:"Application Received - {position} Position",message:`Dear {name},

Thank you for applying to Falisha Manpower for the position of {position}.

We have successfully received your CV and it is now under review by our recruitment team.

Application Details:
- Position Applied: {position}
- Country of Interest: {country}
- Application Date: {date}
- Application ID: {id}

What happens next?
1. Our team will review your profile within 2-3 business days
2. If shortlisted, we will contact you for an interview
3. You can track your application status at: https://falisha.com/track/{id}

If you have any questions, feel free to contact us:
 Phone: +92 300 1234567
 Email: info@falisha.com

Best regards,
Recruitment Team
Falisha Manpower`,variables:["name","position","country","date","id"],autoSend:!0,active:!0,usageCount:892},{id:"tmpl-003",name:"Interview Scheduled - WhatsApp",type:"WhatsApp",trigger:"Interview Scheduled",message:` Great news {name}!

You have been shortlisted for the {position} position.

 Interview Details:
 Date: {interview_date}
 Time: {interview_time}
 Location: {interview_location}

 Please bring:
 Original passport
 Educational certificates
 Experience letters
 2 passport size photos

Reply "CONFIRM" to confirm your attendance.

Good luck!
Falisha Manpower`,variables:["name","position","interview_date","interview_time","interview_location"],autoSend:!1,active:!0,usageCount:156},{id:"tmpl-004",name:"Interview Scheduled - Email",type:"Email",trigger:"Interview Scheduled",subject:"Interview Invitation - {position} Position at Falisha Manpower",message:`Dear {name},

Congratulations! You have been shortlisted for the {position} position.

Interview Details:
------------------
Date: {interview_date}
Time: {interview_time}
Location: {interview_location}
Duration: Approximately 30-45 minutes

Documents Required:
-------------------
1. Original Passport (valid for at least 2 years)
2. Educational Certificates (attested copies)
3. Experience Letters from previous employers
4. Professional Certificates/Licenses
5. Two recent passport-size photographs
6. Copy of this email

Interview Format:
-----------------
The interview will consist of:
- Skills assessment
- Language proficiency test
- Personal interview with HR
- Medical fitness check (if applicable)

Important Notes:
---------------
 Please arrive 15 minutes before your scheduled time
 Dress code: Business casual
 Bring all original documents for verification
 Reply to this email to confirm your attendance

If you need to reschedule, please contact us at least 24 hours in advance.

We look forward to meeting you!

Best regards,
{recruiter_name}
Falisha Manpower
Phone: {office_phone}
Email: {office_email}`,variables:["name","position","interview_date","interview_time","interview_location","recruiter_name","office_phone","office_email"],autoSend:!1,active:!0,usageCount:134},{id:"tmpl-005",name:"Offer Letter - Email",type:"Email",trigger:"Offer Letter",subject:"Job Offer - {position} in {country}",message:`Dear {name},

We are pleased to offer you the position of {position} with our client in {country}.

Job Offer Details:
------------------
Position: {position}
Country: {country}
Employer: {employer_name}
Salary: {salary} per month
Contract Duration: {contract_duration}
Benefits: {benefits}

Next Steps:
-----------
1. Review the attached employment contract
2. Sign and return the contract within 3 days
3. Complete medical examination
4. Submit all required documents
5. Attend pre-departure orientation

Required Documents:
-------------------
 Signed contract
 Medical fitness certificate
 Police clearance certificate
 Educational certificates (attested)
 Passport copy
 Passport-size photographs (6 copies)

Please confirm your acceptance by replying to this email within 48 hours.

Congratulations on your new opportunity!

Best regards,
{recruiter_name}
Falisha Manpower`,variables:["name","position","country","employer_name","salary","contract_duration","benefits","recruiter_name"],autoSend:!1,active:!0,usageCount:67},{id:"tmpl-006",name:"Application Status Update - SMS",type:"SMS",trigger:"Manual",message:"Hi {name}, your application (ID: {id}) for {position} is now {status}. Contact us for details: +92 300 1234567",variables:["name","id","position","status"],autoSend:!1,active:!0,usageCount:423}];function fg(){const[i,s]=$.useState(mg),[n,l]=$.useState(null),[u,d]=$.useState("all"),[p,f]=$.useState(!1),[m,x]=$.useState({name:"Ahmed Hassan",position:"Electrician",country:"UAE",date:"2024-12-13",id:"CND-001",interview_date:"2024-12-20",interview_time:"10:00 AM",interview_location:"Falisha Office, Lahore",recruiter_name:"Sarah Ahmed",office_phone:"+92 300 1234567",office_email:"info@falisha.com",employer_name:"ABC Construction",salary:"1500 AED",contract_duration:"2 years",benefits:"Accommodation, Food, Transportation",status:"Under Review"}),y=u==="all"?i:i.filter(S=>S.type===u),b=S=>{let O=S.message;return Object.entries(m).forEach(([w,T])=>{O=O.replace(new RegExp(`{${w}}`,"g"),T)}),O},k={total:i.length,whatsapp:i.filter(S=>S.type==="WhatsApp").length,email:i.filter(S=>S.type==="Email").length,sms:i.filter(S=>S.type==="SMS").length,auto:i.filter(S=>S.autoSend).length,active:i.filter(S=>S.active).length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl",children:"Communication Templates"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Automated messages for WhatsApp, Email & SMS"})]}),r.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg",children:[r.jsx(ki,{className:"w-5 h-5"}),"Create Template"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),r.jsx(gr,{className:"w-4 h-4 text-gray-400"})]}),r.jsx("div",{className:"text-2xl font-semibold",children:k.total})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-green-700",children:"WhatsApp"}),r.jsx(gr,{className:"w-4 h-4 text-green-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-green-900",children:k.whatsapp})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-blue-700",children:"Email"}),r.jsx(mt,{className:"w-4 h-4 text-blue-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-blue-900",children:k.email})]}),r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-purple-700",children:"SMS"}),r.jsx(So,{className:"w-4 h-4 text-purple-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-purple-900",children:k.sms})]}),r.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border-2 border-yellow-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-yellow-700",children:"Auto-Send"}),r.jsx(ui,{className:"w-4 h-4 text-yellow-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-yellow-900",children:k.auto})]}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Active"}),r.jsx(Ie,{className:"w-4 h-4 text-green-600"})]}),r.jsx("div",{className:"text-2xl font-semibold text-green-900",children:k.active})]})]}),r.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Templates"}),r.jsxs("button",{onClick:()=>d("WhatsApp"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${u==="WhatsApp"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(gr,{className:"w-4 h-4"}),"WhatsApp"]}),r.jsxs("button",{onClick:()=>d("Email"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${u==="Email"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(mt,{className:"w-4 h-4"}),"Email"]}),r.jsxs("button",{onClick:()=>d("SMS"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${u==="SMS"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(So,{className:"w-4 h-4"}),"SMS"]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(S=>r.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[r.jsxs("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${S.type==="WhatsApp"?"bg-green-100":S.type==="Email"?"bg-blue-100":"bg-purple-100"}`,children:[S.type==="WhatsApp"&&r.jsx(gr,{className:"w-6 h-6 text-green-600"}),S.type==="Email"&&r.jsx(mt,{className:"w-6 h-6 text-blue-600"}),S.type==="SMS"&&r.jsx(So,{className:"w-6 h-6 text-purple-600"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:S.name}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.type==="WhatsApp"?"bg-green-100 text-green-700":S.type==="Email"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:S.type}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:S.trigger}),S.autoSend&&r.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(ui,{className:"w-3 h-3"}),"Auto-Send"]}),S.active&&r.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium flex items-center gap-1",children:[r.jsx(Ie,{className:"w-3 h-3"}),"Active"]})]})]})]})}),S.subject&&r.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded border border-gray-200",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Subject:"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.subject})]}),r.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded border border-gray-200",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Message:"}),r.jsx("div",{className:"text-sm text-gray-800 whitespace-pre-wrap line-clamp-4 font-mono",children:S.message})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Variables Used:"}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:S.variables.map(O=>r.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-mono",children:`{${O}}`},O))})]}),r.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4 pb-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ui,{className:"w-4 h-4"}),r.jsxs("span",{children:["Used ",S.usageCount," times"]})]})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[r.jsxs("button",{onClick:()=>{l(S),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Zt,{className:"w-4 h-4"}),"Preview"]}),r.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Oh,{className:"w-4 h-4"}),"Copy"]}),r.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx($o,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx(Si,{className:"w-4 h-4"}),"Delete"]})]})]})},S.id))}),p&&n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Template Preview"}),r.jsx("button",{onClick:()=>f(!1),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx("span",{className:"text-2xl",children:""})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold mb-2",children:n.name}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:n.type}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs",children:n.trigger})]})]}),n.subject&&r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Subject:"}),r.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:b({...n,message:n.subject})})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Message:"}),r.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded whitespace-pre-wrap",children:b(n)})]}),r.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded",children:r.jsxs("div",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Note:"})," This preview uses sample data. Actual messages will use real candidate information."]})})]}),r.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Close"}),r.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(ui,{className:"w-5 h-5"}),"Send Test Message"]})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:r.jsx(Mo,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automated Communication System"}),r.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:['Templates with "Auto-Send" enabled will automatically send messages when triggered. You can use variables like ',"{name}",", ","{position}",", etc. to personalize messages."]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ie,{className:"w-4 h-4 text-green-600"}),"Auto-send on CV received"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ie,{className:"w-4 h-4 text-green-600"}),"Personalized variables"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ie,{className:"w-4 h-4 text-green-600"}),"Multi-channel support"]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[r.jsx(Ie,{className:"w-4 h-4 text-green-600"}),"Usage tracking"]})]})]})]})})]})}const Mh={Admin:{candidates:{view:!0,create:!0,edit:!0,delete:!0,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!0},jobs:{view:!0,create:!0,edit:!0,delete:!0},documents:{view:!0,upload:!0,delete:!0},analytics:{view:!0,export:!0},users:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,edit:!0}},Manager:{candidates:{view:!0,create:!0,edit:!0,delete:!1,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!1},jobs:{view:!0,create:!0,edit:!0,delete:!1},documents:{view:!0,upload:!0,delete:!1},analytics:{view:!0,export:!0},users:{view:!0,create:!1,edit:!1,delete:!1},settings:{view:!0,edit:!1}},Recruiter:{candidates:{view:!0,create:!0,edit:!0,delete:!1,export:!0},employers:{view:!0,create:!0,edit:!0,delete:!1},jobs:{view:!0,create:!0,edit:!0,delete:!1},documents:{view:!0,upload:!0,delete:!1},analytics:{view:!0,export:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1}},Viewer:{candidates:{view:!0,create:!1,edit:!1,delete:!1,export:!1},employers:{view:!0,create:!1,edit:!1,delete:!1},jobs:{view:!0,create:!1,edit:!1,delete:!1},documents:{view:!0,upload:!1,delete:!1},analytics:{view:!0,export:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,edit:!1}}},$s=[{id:"1",name:"Sarah Admin",email:"admin@falisha.com",password:"admin123",role:"Admin",phone:"+1 (555) 100-0001",department:"Management",joinedDate:"2023-01-15",lastActive:"2 minutes ago",status:"Active"},{id:"2",name:"John Recruiter",email:"john@falisha.com",password:"recruiter123",role:"Recruiter",phone:"+1 (555) 100-0002",department:"Recruitment",joinedDate:"2023-03-20",lastActive:"15 minutes ago",status:"Active"},{id:"3",name:"Maria Manager",email:"maria@falisha.com",password:"manager123",role:"Manager",phone:"+1 (555) 100-0003",department:"Operations",joinedDate:"2023-02-10",lastActive:"1 hour ago",status:"Active"},{id:"4",name:"David Viewer",email:"david@falisha.com",password:"viewer123",role:"Viewer",phone:"+1 (555) 100-0004",department:"Support",joinedDate:"2023-06-01",lastActive:"3 hours ago",status:"Active"},{id:"5",name:"Lisa Recruiter",email:"lisa@falisha.com",password:"recruiter123",role:"Recruiter",phone:"+1 (555) 100-0005",department:"Recruitment",joinedDate:"2023-04-15",lastActive:"30 minutes ago",status:"Active"},{id:"6",name:"James Inactive",email:"james@falisha.com",password:"inactive123",role:"Recruiter",phone:"+1 (555) 100-0006",department:"Recruitment",joinedDate:"2023-05-01",lastActive:"2 days ago",status:"Inactive"}];function gg(i){const s=Mh[i.role];return i.permissions?{candidates:{...s.candidates,...i.permissions.candidates},employers:{...s.employers,...i.permissions.employers},jobs:{...s.jobs,...i.permissions.jobs},documents:{...s.documents,...i.permissions.documents},analytics:{...s.analytics,...i.permissions.analytics},users:{...s.users,...i.permissions.users},settings:{...s.settings,...i.permissions.settings}}:s}function xg(i,s,n){return gg(i)[s]?.[n]||!1}function Ei(i,s){var n={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.indexOf(l)<0&&(n[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(i);u<l.length;u++)s.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(i,l[u])&&(n[l[u]]=i[l[u]]);return n}function yg(i,s,n,l){function u(d){return d instanceof n?d:new n(function(p){p(d)})}return new(n||(n=Promise))(function(d,p){function f(y){try{x(l.next(y))}catch(b){p(b)}}function m(y){try{x(l.throw(y))}catch(b){p(b)}}function x(y){y.done?d(y.value):u(y.value).then(f,m)}x((l=l.apply(i,s||[])).next())})}const vg=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);class Xo extends Error{constructor(s,n="FunctionsError",l){super(s),this.name=n,this.context=l}}class bg extends Xo{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class lh extends Xo{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class oh extends Xo{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Uo;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Uo||(Uo={}));class wg{constructor(s,{headers:n={},customFetch:l,region:u=Uo.Any}={}){this.url=s,this.headers=n,this.region=u,this.fetch=vg(l)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return yg(this,arguments,void 0,function*(n,l={}){var u;let d,p;try{const{headers:f,method:m,body:x,signal:y,timeout:b}=l;let k={},{region:S}=l;S||(S=this.region);const O=new URL(`${this.url}/${n}`);S&&S!=="any"&&(k["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let w;x&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",w=x):typeof x=="string"?(k["Content-Type"]="text/plain",w=x):typeof FormData<"u"&&x instanceof FormData?w=x:(k["Content-Type"]="application/json",w=JSON.stringify(x)):w=x;let T=y;b&&(p=new AbortController,d=setTimeout(()=>p.abort(),b),y?(T=p.signal,y.addEventListener("abort",()=>p.abort())):T=p.signal);const B=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),f),body:w,signal:T}).catch(U=>{throw new bg(U)}),V=B.headers.get("x-relay-error");if(V&&V==="true")throw new lh(B);if(!B.ok)throw new oh(B);let W=((u=B.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),K;return W==="application/json"?K=yield B.json():W==="application/octet-stream"||W==="application/pdf"?K=yield B.blob():W==="text/event-stream"?K=B:W==="multipart/form-data"?K=yield B.formData():K=yield B.text(),{data:K,error:null,response:B}}catch(f){return{data:null,error:f,response:f instanceof oh||f instanceof lh?f.context:void 0}}finally{d&&clearTimeout(d)}})}}var jg=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},Ng=class{constructor(i){var s,n;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let p=null,f=null,m=null,x=d.status,y=d.statusText;if(d.ok){var b,k;if(n.method!=="HEAD"){var S;const B=await d.text();B===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?f=B:f=JSON.parse(B))}const w=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),T=(k=d.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");w&&T&&T.length>1&&(m=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(p={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,x=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var O;const w=await d.text();try{p=JSON.parse(w),Array.isArray(p)&&d.status===404&&(f=[],p=null,x=200,y="OK")}catch{d.status===404&&w===""?(x=204,y="No Content"):p={message:w}}if(p&&n.isMaybeSingle&&(!(p==null||(O=p.details)===null||O===void 0)&&O.includes("0 rows"))&&(p=null,x=200,y="OK"),p&&n.shouldThrowOnError)throw new jg(p)}return{error:p,data:f,count:m,status:x,statusText:y}});return this.shouldThrowOnError||(u=u.catch(d=>{var p;let f="";const m=d?.cause;if(m){var x,y,b,k;const O=(x=m?.message)!==null&&x!==void 0?x:"",w=(y=m?.code)!==null&&y!==void 0?y:"";f=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,f+=`

Caused by: ${(k=m?.name)!==null&&k!==void 0?k:"Error"}: ${O}`,w&&(f+=` (${w})`),m?.stack&&(f+=`
${m.stack}`)}else{var S;f=(S=d?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,s)}returns(){return this}overrideTypes(){return this}},_g=class extends Ng{select(i){let s=!1;const n=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:n,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",p=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:n=s}={}){const l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:n,referencedTable:l=n}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:n=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var p;const f=[i?"analyze":null,s?"verbose":null,n?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${f};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const ch=new RegExp("[,()]");var Hs=class extends _g{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const n=Array.from(new Set(s)).map(l=>typeof l=="string"&&ch.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,s){const n=Array.from(new Set(s)).map(l=>typeof l=="string"&&ch.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:n,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(i,s,n){return this.url.searchParams.append(i,`not.${s}.${n}`),this}or(i,{foreignTable:s,referencedTable:n=s}={}){const l=n?`${n}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,n){return this.url.searchParams.append(i,`${s}.${n}`),this}},kg=class{constructor(i,{headers:s={},schema:n,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=n,this.fetch=l}select(i,s){const{head:n=!1,count:l}=s??{},u=n?"HEAD":"GET";let d=!1;const p=(i??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",p),l&&this.headers.append("Prefer",`count=${l}`),new Hs({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:n=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(d.length>0){const p=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new Hs({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:n=!1,count:l,defaultToNull:u=!0}={}){var d;const p="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(f.length>0){const m=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new Hs({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var n;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Hs({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:i}={}){var s;const n="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Hs({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}},Sg=class Uh{constructor(s,{headers:n={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(n),this.schemaName=l,this.fetch=u}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kg(new URL(`${this.url}/${s}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Uh(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,n={},{head:l=!1,get:u=!1,count:d}={}){var p;let f;const m=new URL(`${this.url}/rpc/${s}`);let x;l||u?(f=l?"HEAD":"GET",Object.entries(n).filter(([b,k])=>k!==void 0).map(([b,k])=>[b,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([b,k])=>{m.searchParams.append(b,k)})):(f="POST",x=n);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new Hs({method:f,url:m,headers:y,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class Eg{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const l=n.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const l=this.getWebSocketConstructor();return new l(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Cg="2.89.0",Ag=`realtime-js/${Cg}`,Fh="1.0.0",Pg="2.0.0",uh=Fh,Fo=1e4,Tg=1e3,Og=100;var Fr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Fr||(Fr={}));var Ye;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ye||(Ye={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var zo;(function(i){i.websocket="websocket"})(zo||(zo={}));var cs;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(cs||(cs={}));class Rg{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,n){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(s));let l=[s.join_ref,s.ref,s.topic,s.event,s.payload];return n(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(s){var n;return this._isArrayBuffer((n=s.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var n,l;const u=(l=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(s){var n,l;const u=(l=(n=s.payload)===null||n===void 0?void 0:n.payload)!==null&&l!==void 0?l:{},p=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(s,n,l){var u,d;const p=s.topic,f=(u=s.ref)!==null&&u!==void 0?u:"",m=(d=s.join_ref)!==null&&d!==void 0?d:"",x=s.payload.event,y=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+p.length+x.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+k);let O=new DataView(S),w=0;O.setUint8(w++,this.KINDS.userBroadcastPush),O.setUint8(w++,m.length),O.setUint8(w++,f.length),O.setUint8(w++,p.length),O.setUint8(w++,x.length),O.setUint8(w++,b.length),O.setUint8(w++,n),Array.from(m,B=>O.setUint8(w++,B.charCodeAt(0))),Array.from(f,B=>O.setUint8(w++,B.charCodeAt(0))),Array.from(p,B=>O.setUint8(w++,B.charCodeAt(0))),Array.from(x,B=>O.setUint8(w++,B.charCodeAt(0))),Array.from(b,B=>O.setUint8(w++,B.charCodeAt(0)));var T=new Uint8Array(S.byteLength+l.byteLength);return T.set(new Uint8Array(S),0),T.set(new Uint8Array(l),S.byteLength),T.buffer}decode(s,n){if(this._isArrayBuffer(s)){let l=this._binaryDecode(s);return n(l)}if(typeof s=="string"){const l=JSON.parse(s),[u,d,p,f,m]=l;return n({join_ref:u,ref:d,topic:p,event:f,payload:m})}return n({})}_binaryDecode(s){const n=new DataView(s),l=n.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,n,u)}}_decodeUserBroadcast(s,n,l){const u=n.getUint8(1),d=n.getUint8(2),p=n.getUint8(3),f=n.getUint8(4);let m=this.HEADER_LENGTH+4;const x=l.decode(s.slice(m,m+u));m=m+u;const y=l.decode(s.slice(m,m+d));m=m+d;const b=l.decode(s.slice(m,m+p));m=m+p;const k=s.slice(m,s.byteLength),S=f===this.JSON_ENCODING?JSON.parse(l.decode(k)):k,O={type:this.BROADCAST_EVENT,event:y,payload:S};return p>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(s){var n;return s instanceof ArrayBuffer||((n=s?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(s,n){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([l])=>n.includes(l)))}}class zh{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Oe||(Oe={}));const dh=(i,s,n={})=>{var l;const u=(l=n.skipTypes)!==null&&l!==void 0?l:[];return s?Object.keys(s).reduce((d,p)=>(d[p]=Lg(p,i,s,u),d),{}):{}},Lg=(i,s,n,l)=>{const u=s.find(f=>f.name===i),d=u?.type,p=n[i];return d&&!l.includes(d)?Bh(d,p):Bo(p)},Bh=(i,s)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Mg(s,n)}switch(i){case Oe.bool:return Ig(s);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return Dg(s);case Oe.json:case Oe.jsonb:return $g(s);case Oe.timestamp:return Ug(s);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Bo(s);default:return Bo(s)}},Bo=i=>i,Ig=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Dg=i=>{if(typeof i=="string"){const s=parseFloat(i);if(!Number.isNaN(s))return s}return i},$g=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Mg=(i,s)=>{if(typeof i!="string")return i;const n=i.length-1,l=i[n];if(i[0]==="{"&&l==="}"){let d;const p=i.slice(1,n);try{d=JSON.parse("["+p+"]")}catch{d=p?p.split(","):[]}return d.map(f=>Bh(s,f))}return i},Ug=i=>typeof i=="string"?i.replace(" ","T"):i,Vh=i=>{const s=new URL(i);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class Eo{constructor(s,n,l={},u=Fo){this.channel=s,this.event=n,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var l;return this._hasReceived(s)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(l=>l.status===s).forEach(l=>l.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var hh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(hh||(hh={}));class qn{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:p,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qn.syncState(this.state,u,d,p),this.pendingDiffs.forEach(m=>{this.state=qn.syncDiff(this.state,m,d,p)}),this.pendingDiffs=[],f()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:p,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=qn.syncDiff(this.state,u,d,p),f())}),this.onJoin((u,d,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:p})}),this.onLeave((u,d,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,l,u){const d=this.cloneDeep(s),p=this.transformState(n),f={},m={};return this.map(d,(x,y)=>{p[x]||(m[x]=y)}),this.map(p,(x,y)=>{const b=d[x];if(b){const k=y.map(T=>T.presence_ref),S=b.map(T=>T.presence_ref),O=y.filter(T=>S.indexOf(T.presence_ref)<0),w=b.filter(T=>k.indexOf(T.presence_ref)<0);O.length>0&&(f[x]=O),w.length>0&&(m[x]=w)}else f[x]=y}),this.syncDiff(d,{joins:f,leaves:m},l,u)}static syncDiff(s,n,l,u){const{joins:d,leaves:p}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(f,m)=>{var x;const y=(x=s[f])!==null&&x!==void 0?x:[];if(s[f]=this.cloneDeep(m),y.length>0){const b=s[f].map(S=>S.presence_ref),k=y.filter(S=>b.indexOf(S.presence_ref)<0);s[f].unshift(...k)}l(f,y,m)}),this.map(p,(f,m)=>{let x=s[f];if(!x)return;const y=m.map(b=>b.presence_ref);x=x.filter(b=>y.indexOf(b.presence_ref)<0),s[f]=x,u(f,x,m),x.length===0&&delete s[f]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(l=>n(l,s[l]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,l)=>{const u=s[l];return"metas"in u?n[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[l]=u,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ph;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(ph||(ph={}));var Hn;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Hn||(Hn={}));var fr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class Qs{constructor(s,n={config:{}},l){var u,d;if(this.topic=s,this.params=n,this.socket=l,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(p,f)=>{this._trigger(this._replyEventName(f),p)}),this.presence=new qn(this),this.broadcastEndpointURL=Vh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,n=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:p,presence:f,private:m}}=this.params,x=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Hn.PRESENCE]&&this.bindings[Hn.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},k={broadcast:p,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:x,private:m};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>s?.(fr.CHANNEL_ERROR,S)),this._onClose(()=>s?.(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:k},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){s?.(fr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,T=(O=w?.length)!==null&&O!==void 0?O:0,B=[];for(let V=0;V<T;V++){const W=w[V],{filter:{event:K,schema:U,table:A,filter:J}}=W,le=S&&S[V];if(le&&le.event===K&&Qs.isFilterValueEqual(le.schema,U)&&Qs.isFilterValueEqual(le.table,A)&&Qs.isFilterValueEqual(le.filter,J))B.push(Object.assign(Object.assign({},W),{id:le.id}));else{this.unsubscribe(),this.state=Ye.errored,s?.(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,s&&s(fr.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ye.errored,s?.(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{s?.(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,l){return this.state===Ye.joined&&s===Hn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,n,l)}async httpSend(s,n,l={}){var u;if(n==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const x=await f.json();m=x.error||x.message||m}catch{}return Promise.reject(new Error(m))}async send(s,n={}){var l,u;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:p}=s,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:p,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=x.body)===null||u===void 0?void 0:u.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var p,f,m;const x=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(f=(p=this.params)===null||p===void 0?void 0:p.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Eo(this,Qt.leave,{},s),l.receive("ok",()=>{n(),u("ok")}).receive("timeout",()=>{n(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(s,n,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),p=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:u.signal}));return clearTimeout(d),p}_push(s,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Eo(this,s,n,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Og){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,l){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,l){var u,d;const p=s.toLocaleLowerCase(),{close:f,error:m,leave:x,join:y}=Qt;if(l&&[f,m,x,y].indexOf(p)>=0&&l!==this._joinRef())return;let k=this._onMessage(p,n,l);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var O,w,T;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((T=(w=S.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===p}).map(S=>S.callback(k,l)):(d=this.bindings[p])===null||d===void 0||d.filter(S=>{var O,w,T,B,V,W;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in S){const K=S.id,U=(O=S.filter)===null||O===void 0?void 0:O.event;return K&&((w=n.ids)===null||w===void 0?void 0:w.includes(K))&&(U==="*"||U?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const K=(V=(B=S?.filter)===null||B===void 0?void 0:B.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return K==="*"||K===((W=n?.event)===null||W===void 0?void 0:W.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===p}).map(S=>{if(typeof k=="object"&&"ids"in k){const O=k.data,{schema:w,table:T,commit_timestamp:B,type:V,errors:W}=O;k=Object.assign(Object.assign({},{schema:w,table:T,commit_timestamp:B,eventType:V,new:{},old:{},errors:W}),this._getPayloadRecords(O))}S.callback(k,l)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,l){const u=s.toLocaleLowerCase(),d={type:u,filter:n,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(s,n){const l=s.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Qs.isEqual(u.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const l in s)if(s[l]!==n[l])return!1;return!0}static isFilterValueEqual(s,n){return(s??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Qt.close,{},s)}_onError(s){this._on(Qt.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=dh(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=dh(s.columns,s.old_record)),n}}const Co=()=>{},di={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fg=[1e3,2e3,5e3,1e4],zg=1e4,Bg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vg{constructor(s,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fo,this.transport=null,this.heartbeatIntervalMs=di.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Co,this.ref=0,this.reconnectTimer=null,this.vsn=uh,this.logger=Co,this.conn=null,this.sendBuffer=[],this.serializer=new Rg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=n?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${zo.websocket}`,this.httpEndpoint=Vh(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Eg.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,l){this.logger(s,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return cs.Connecting;case Fr.open:return cs.Open;case Fr.closing:return cs.Closing;default:return cs.Closed}}isConnected(){return this.connectionState()===cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const l=`realtime:${s}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Qs(`realtime:${s}`,n,this);return this.channels.push(d),d}}push(s){const{topic:n,event:l,payload:u,ref:d}=s,p=()=>{this.encode(s,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${l} (${d})`,u),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Tg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},di.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(l=>l.topic===s&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(x){this.log("error","error in heartbeat callback",x)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:p}=n,f=p?`(${p})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${u} ${f}`.trim(),d),this.channels.filter(x=>x._isMember(l)).forEach(x=>x._trigger(u,d,p)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===Fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Qt.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const l=s.match(/\?/)?"&":"?",u=new URLSearchParams(n);return`${s}${l}${u}`}_workerObjectUrl(s){let n;if(s)n=s;else{const l=new Blob([Bg],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n,l=!1;if(s)n=s,l=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),n=this.accessTokenValue}else n=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(u=>{const d={access_token:n,version:Ag};n&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(l=>{try{l(n)}catch(u){this.log("error",`error in ${s} callback`,u)}})}catch(l){this.log("error",`error triggering ${s} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new zh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},di.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,l,u,d,p,f,m,x,y,b,k,S;switch(this.transport=(n=s?.transport)!==null&&n!==void 0?n:null,this.timeout=(l=s?.timeout)!==null&&l!==void 0?l:Fo,this.heartbeatIntervalMs=(u=s?.heartbeatIntervalMs)!==null&&u!==void 0?u:di.HEARTBEAT_INTERVAL,this.worker=(d=s?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(p=s?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(f=s?.heartbeatCallback)!==null&&f!==void 0?f:Co,this.vsn=(m=s?.vsn)!==null&&m!==void 0?m:uh,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=s?.reconnectAfterMs)!==null&&x!==void 0?x:(O=>Fg[O-1]||zg),this.vsn){case Fh:this.encode=(y=s?.encode)!==null&&y!==void 0?y:((O,w)=>w(JSON.stringify(O))),this.decode=(b=s?.decode)!==null&&b!==void 0?b:((O,w)=>w(JSON.parse(O)));break;case Pg:this.encode=(k=s?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(S=s?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}var Gn=class extends Error{constructor(i,s){super(i),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&s.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Wg(i,s,n){const l=new URL(s,i);if(n)for(const[u,d]of Object.entries(n))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function qg(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Hg(i){const s=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:l,query:u,body:d,headers:p}){const f=Wg(i.baseUrl,l,u),m=await qg(i.auth),x=await s(f,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...m,...p},body:d?JSON.stringify(d):void 0}),y=await x.text(),b=(x.headers.get("content-type")||"").includes("application/json"),k=b&&y?JSON.parse(y):y;if(!x.ok){const S=b?k:void 0,O=S?.error;throw new Gn(O?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:O?.type,icebergCode:O?.code,details:S})}return{status:x.status,headers:x.headers,data:k}}}}function hi(i){return i.join("")}var Kg=class{constructor(i,s=""){this.client=i,this.prefix=s}async listNamespaces(i){const s=i?{parent:hi(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,s){const n={namespace:i.namespace,properties:s?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hi(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hi(i.namespace)}`}),!0}catch(s){if(s instanceof Gn&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(i,s){try{return await this.createNamespace(i,s)}catch(n){if(n instanceof Gn&&n.status===409)return;throw n}}};function Ms(i){return i.join("")}var Gg=class{constructor(i,s="",n){this.client=i,this.prefix=s,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables`})).data.identifiers}async createTable(i,s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables`,body:s,headers:n})).data.metadata}async updateTable(i,s){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,body:s});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(s?.purge??!1)}})}async loadTable(i){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,headers:s})).data.metadata}async tableExists(i){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(i.namespace)}/tables/${i.name}`,headers:s}),!0}catch(n){if(n instanceof Gn&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,s){try{return await this.createTable(i,s)}catch(n){if(n instanceof Gn&&n.status===409)return await this.loadTable({namespace:i.namespace,name:s.name});throw n}}},Jg=class{constructor(i){let s="v1";i.catalogName&&(s+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Hg({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Kg(this.client,s),this.tableOps=new Gg(this.client,s,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,s){return this.namespaceOps.createNamespace(i,s)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,s){return this.tableOps.createTable(i,s)}async updateTable(i,s){return this.tableOps.updateTable(i,s)}async dropTable(i,s){await this.tableOps.dropTable(i,s)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,s){return this.namespaceOps.createNamespaceIfNotExists(i,s)}async createTableIfNotExists(i,s){return this.tableOps.createTableIfNotExists(i,s)}},Ci=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ue(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Qg=class extends Ci{constructor(i,s,n){super(i),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vo=class extends Ci{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}};const Zo=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),Yg=()=>Response,Wo=i=>{if(Array.isArray(i))return i.map(n=>Wo(n));if(typeof i=="function"||i!==Object(i))return i;const s={};return Object.entries(i).forEach(([n,l])=>{const u=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[u]=Wo(l)}),s},Xg=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Zg=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Jn(i){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Jn(i)}function ex(i,s){if(Jn(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var l=n.call(i,s);if(Jn(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function tx(i){var s=ex(i,"string");return Jn(s)=="symbol"?s:s+""}function rx(i,s,n){return(s=tx(s))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,i}function mh(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);s&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),n.push.apply(n,l)}return n}function he(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?mh(Object(n),!0).forEach(function(l){rx(i,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(n,l))})}return i}const Ao=i=>{var s;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(s=i.error)===null||s===void 0?void 0:s.message)||JSON.stringify(i)},sx=async(i,s,n)=>{i instanceof await Yg()&&!n?.noResolveJson?i.json().then(l=>{const u=i.status||500,d=l?.statusCode||u+"";s(new Qg(Ao(l),u,d))}).catch(l=>{s(new Vo(Ao(l),l))}):s(new Vo(Ao(i),i))},nx=(i,s,n,l)=>{const u={method:i,headers:s?.headers||{}};return i==="GET"||!l?u:(Xg(l)?(u.headers=he({"Content-Type":"application/json"},s?.headers),u.body=JSON.stringify(l)):u.body=l,s?.duplex&&(u.duplex=s.duplex),he(he({},u),n))};async function ea(i,s,n,l,u,d){return new Promise((p,f)=>{i(n,nx(s,l,u,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>p(m)).catch(m=>sx(m,f,l))})}async function Qn(i,s,n,l){return ea(i,"GET",s,n,l)}async function Jt(i,s,n,l,u){return ea(i,"POST",s,l,u,n)}async function qo(i,s,n,l,u){return ea(i,"PUT",s,l,u,n)}async function ax(i,s,n,l){return ea(i,"HEAD",s,he(he({},n),{},{noResolveJson:!0}),l)}async function ec(i,s,n,l,u){return ea(i,"DELETE",s,l,u,n)}var ix=class{constructor(i,s){this.downloadFn=i,this.shouldThrowOnError=s}then(i,s){return this.execute().then(i,s)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}}};let Wh;Wh=Symbol.toStringTag;var lx=class{constructor(i,s){this.downloadFn=i,this.shouldThrowOnError=s,this[Wh]="BlobDownloadBuilder",this.promise=null}asStream(){return new ix(this.downloadFn,this.shouldThrowOnError)}then(i,s){return this.getPromise().then(i,s)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Ue(s))return{data:null,error:s};throw s}}};const ox={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cx=class{constructor(i,s={},n,l){this.shouldThrowOnError=!1,this.url=i,this.headers=s,this.bucketId=n,this.fetch=Zo(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,s,n,l){var u=this;try{let d;const p=he(he({},fh),l);let f=he(he({},u.headers),i==="POST"&&{"x-upsert":String(p.upsert)});const m=p.metadata;typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),m&&d.append("metadata",u.encodeMetadata(m)),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.has("cacheControl")||d.append("cacheControl",p.cacheControl),m&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(m))):(d=n,f["cache-control"]=`max-age=${p.cacheControl}`,f["content-type"]=p.contentType,m&&(f["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!p.duplex&&(p.duplex="half")),l?.headers&&(f=he(he({},f),l.headers));const x=u._removeEmptyFolders(s),y=u._getFinalPath(x),b=await(i=="PUT"?qo:Jt)(u.fetch,`${u.url}/object/${y}`,d,he({headers:f},p?.duplex?{duplex:p.duplex}:{}));return{data:{path:x,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Ue(d))return{data:null,error:d};throw d}}async upload(i,s,n){return this.uploadOrUpdate("POST",i,s,n)}async uploadToSignedUrl(i,s,n,l){var u=this;const d=u._removeEmptyFolders(i),p=u._getFinalPath(d),f=new URL(u.url+`/object/upload/sign/${p}`);f.searchParams.set("token",s);try{let m;const x=he({upsert:fh.upsert},l),y=he(he({},u.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",x.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",x.cacheControl)):(m=n,y["cache-control"]=`max-age=${x.cacheControl}`,y["content-type"]=x.contentType),{data:{path:d,fullPath:(await qo(u.fetch,f.toString(),m,{headers:y})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(Ue(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(i,s){var n=this;try{let l=n._getFinalPath(i);const u=he({},n.headers);s?.upsert&&(u["x-upsert"]="true");const d=await Jt(n.fetch,`${n.url}/object/upload/sign/${l}`,{},{headers:u}),p=new URL(n.url+d.url),f=p.searchParams.get("token");if(!f)throw new Ci("No token returned by API");return{data:{signedUrl:p.toString(),path:i,token:f},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async update(i,s,n){return this.uploadOrUpdate("PUT",i,s,n)}async move(i,s,n){var l=this;try{return{data:await Jt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ue(u))return{data:null,error:u};throw u}}async copy(i,s,n){var l=this;try{return{data:{path:(await Jt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ue(u))return{data:null,error:u};throw u}}async createSignedUrl(i,s,n){var l=this;try{let u=l._getFinalPath(i),d=await Jt(l.fetch,`${l.url}/object/sign/${u}`,he({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:l.headers});const p=n?.download?`&download=${n.download===!0?"":n.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${p}`)},{data:d,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ue(u))return{data:null,error:u};throw u}}async createSignedUrls(i,s,n){var l=this;try{const u=await Jt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:s,paths:i},{headers:l.headers}),d=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:u.map(p=>he(he({},p),{},{signedUrl:p.signedURL?encodeURI(`${l.url}${p.signedURL}${d}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ue(u))return{data:null,error:u};throw u}}download(i,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(s?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(i),p=()=>Qn(this.fetch,`${this.url}/${n}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new lx(p,this.shouldThrowOnError)}async info(i){var s=this;const n=s._getFinalPath(i);try{return{data:Wo(await Qn(s.fetch,`${s.url}/object/info/${n}`,{headers:s.headers})),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async exists(i){var s=this;const n=s._getFinalPath(i);try{return await ax(s.fetch,`${s.url}/object/${n}`,{headers:s.headers}),{data:!0,error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ue(l)&&l instanceof Vo){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,s){const n=this._getFinalPath(i),l=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const d=typeof s?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(s?.transform||{});p!==""&&l.push(p);let f=l.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${f}`)}}}async remove(i){var s=this;try{return{data:await ec(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:i},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async list(i,s,n){var l=this;try{const u=he(he(he({},ox),s),{},{prefix:i||""});return{data:await Jt(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},n),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ue(u))return{data:null,error:u};throw u}}async listV2(i,s){var n=this;try{const l=he({},i);return{data:await Jt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,l,{headers:n.headers},s),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}};const qh="2.89.0",Hh={"X-Client-Info":`storage-js/${qh}`};var ux=class{constructor(i,s={},n,l){this.shouldThrowOnError=!1;const u=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=he(he({},Hh),s),this.fetch=Zo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var s=this;try{const n=s.listBucketOptionsToQueryString(i);return{data:await Qn(s.fetch,`${s.url}/bucket${n}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async getBucket(i){var s=this;try{return{data:await Qn(s.fetch,`${s.url}/bucket/${i}`,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async createBucket(i,s={public:!1}){var n=this;try{return{data:await Jt(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async updateBucket(i,s){var n=this;try{return{data:await qo(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ue(l))return{data:null,error:l};throw l}}async emptyBucket(i){var s=this;try{return{data:await Jt(s.fetch,`${s.url}/bucket/${i}/empty`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async deleteBucket(i){var s=this;try{return{data:await ec(s.fetch,`${s.url}/bucket/${i}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(i){const s={};return i&&("limit"in i&&(s.limit=String(i.limit)),"offset"in i&&(s.offset=String(i.offset)),i.search&&(s.search=i.search),i.sortColumn&&(s.sortColumn=i.sortColumn),i.sortOrder&&(s.sortOrder=i.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},dx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},Hh),s),this.fetch=Zo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var s=this;try{return{data:await Jt(s.fetch,`${s.url}/bucket`,{name:i},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async listBuckets(i){var s=this;try{const n=new URLSearchParams;i?.limit!==void 0&&n.set("limit",i.limit.toString()),i?.offset!==void 0&&n.set("offset",i.offset.toString()),i?.sortColumn&&n.set("sortColumn",i.sortColumn),i?.sortOrder&&n.set("sortOrder",i.sortOrder),i?.search&&n.set("search",i.search);const l=n.toString(),u=l?`${s.url}/bucket?${l}`:`${s.url}/bucket`;return{data:await Qn(s.fetch,u,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}async deleteBucket(i){var s=this;try{return{data:await ec(s.fetch,`${s.url}/bucket/${i}`,{},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}}from(i){var s=this;if(!Zg(i))throw new Ci("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Jg({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(n,{get(u,d){const p=u[d];return typeof p!="function"?p:async(...f)=>{try{return{data:await p.apply(u,f),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const tc={"X-Client-Info":`storage-js/${qh}`,"Content-Type":"application/json"};var Kh=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function At(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Po=class extends Kh{constructor(i,s,n){super(i),this.name="StorageVectorsApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hx=class extends Kh{constructor(i,s){super(i),this.name="StorageVectorsUnknownError",this.originalError=s}};const rc=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),px=i=>{if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},gh=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),mx=async(i,s,n)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(d=>{const p=d?.statusCode||d?.code||l+"";s(new Po(gh(d),l,p))}).catch(()=>{const d=l+"";s(new Po(u.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";s(new Po(u.statusText||`HTTP ${l} error`,l,d))}}else s(new hx(gh(i),i))},fx=(i,s,n,l)=>{const u={method:i,headers:s?.headers||{}};return l?(px(l)?(u.headers=he({"Content-Type":"application/json"},s?.headers),u.body=JSON.stringify(l)):u.body=l,he(he({},u),n)):u};async function gx(i,s,n,l,u,d){return new Promise((p,f)=>{i(n,fx(s,l,u,d)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const x=m.headers.get("content-type");return!x||!x.includes("application/json")?{}:m.json()}).then(m=>p(m)).catch(m=>mx(m,f,l))})}async function Pt(i,s,n,l,u){return gx(i,"POST",s,l,u,n)}var xx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},tc),s),this.fetch=rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/CreateIndex`,i,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async getIndex(i,s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:s},{headers:n.headers}),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(At(l))return{data:null,error:l};throw l}}async listIndexes(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/ListIndexes`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async deleteIndex(i,s){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:s},{headers:n.headers})||{},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(At(l))return{data:null,error:l};throw l}}},yx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},tc),s),this.fetch=rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var s=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pt(s.fetch,`${s.url}/PutVectors`,i,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async getVectors(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/GetVectors`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async listVectors(i){var s=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Pt(s.fetch,`${s.url}/ListVectors`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async queryVectors(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/QueryVectors`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async deleteVectors(i){var s=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pt(s.fetch,`${s.url}/DeleteVectors`,i,{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}},vx=class{constructor(i,s={},n){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=he(he({},tc),s),this.fetch=rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async getBucket(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:i},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async listBuckets(i={}){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/ListVectorBuckets`,i,{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}async deleteBucket(i){var s=this;try{return{data:await Pt(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}}},bx=class extends vx{constructor(i,s={}){super(i,s.headers||{},s.fetch)}from(i){return new wx(this.url,this.headers,i,this.fetch)}async createBucket(i){var s=()=>super.createBucket,n=this;return s().call(n,i)}async getBucket(i){var s=()=>super.getBucket,n=this;return s().call(n,i)}async listBuckets(i={}){var s=()=>super.listBuckets,n=this;return s().call(n,i)}async deleteBucket(i){var s=()=>super.deleteBucket,n=this;return s().call(n,i)}},wx=class extends xx{constructor(i,s,n,l){super(i,s,l),this.vectorBucketName=n}async createIndex(i){var s=()=>super.createIndex,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var s=()=>super.listIndexes,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var s=()=>super.getIndex,n=this;return s().call(n,n.vectorBucketName,i)}async deleteIndex(i){var s=()=>super.deleteIndex,n=this;return s().call(n,n.vectorBucketName,i)}index(i){return new jx(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},jx=class extends yx{constructor(i,s,n,l,u){super(i,s,u),this.vectorBucketName=n,this.indexName=l}async putVectors(i){var s=()=>super.putVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var s=()=>super.getVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var s=()=>super.listVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var s=()=>super.queryVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var s=()=>super.deleteVectors,n=this;return s().call(n,he(he({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Nx=class extends ux{constructor(i,s={},n,l){super(i,s,n,l)}from(i){return new cx(this.url,this.headers,i,this.fetch)}get vectors(){return new bx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dx(this.url+"/iceberg",this.headers,this.fetch)}};const Gh="2.89.0",Ks=30*1e3,Ho=3,To=Ho*Ks,_x="http://localhost:9999",kx="supabase.auth.token",Sx={"X-Client-Info":`gotrue-js/${Gh}`},Ko="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ex=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cx=600*1e3;class Yn extends Error{constructor(s,n,l){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}}function ne(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Ax extends Yn{constructor(s,n,l){super(s,n,l),this.name="AuthApiError",this.status=n,this.code=l}}function Px(i){return ne(i)&&i.name==="AuthApiError"}class us extends Yn{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}}class vr extends Yn{constructor(s,n,l,u){super(s,l,u),this.name=n,this.status=l}}class Ct extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tx(i){return ne(i)&&i.name==="AuthSessionMissingError"}class Us extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pi extends vr{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class mi extends vr{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ox(i){return ne(i)&&i.name==="AuthImplicitGrantRedirectError"}class xh extends vr{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rx extends vr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Go extends vr{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}}function Oo(i){return ne(i)&&i.name==="AuthRetryableFetchError"}class yh extends vr{constructor(s,n,l){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}}class Jo extends vr{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),Lx=(()=>{const i=new Array(128);for(let s=0;s<i.length;s+=1)i[s]=-1;for(let s=0;s<vh.length;s+=1)i[vh[s].charCodeAt(0)]=-2;for(let s=0;s<bi.length;s+=1)i[bi[s].charCodeAt(0)]=s;return i})();function bh(i,s,n){if(i!==null)for(s.queue=s.queue<<8|i,s.queuedBits+=8;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;n(bi[l]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const l=s.queue>>s.queuedBits-6&63;n(bi[l]),s.queuedBits-=6}}function Qh(i,s,n){const l=Lx[i];if(l>-1)for(s.queue=s.queue<<6|l,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function wh(i){const s=[],n=p=>{s.push(String.fromCodePoint(p))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=p=>{$x(p,l,n)};for(let p=0;p<i.length;p+=1)Qh(i.charCodeAt(p),u,d);return s.join("")}function Ix(i,s){if(i<=127){s(i);return}else if(i<=2047){s(192|i>>6),s(128|i&63);return}else if(i<=65535){s(224|i>>12),s(128|i>>6&63),s(128|i&63);return}else if(i<=1114111){s(240|i>>18),s(128|i>>12&63),s(128|i>>6&63),s(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Dx(i,s){for(let n=0;n<i.length;n+=1){let l=i.charCodeAt(n);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(i.charCodeAt(n+1)-56320&65535|u)+65536,n+=1}Ix(l,s)}}function $x(i,s,n){if(s.utf8seq===0){if(i<=127){n(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){s.utf8seq=l;break}if(s.utf8seq===2)s.codepoint=i&31;else if(s.utf8seq===3)s.codepoint=i&15;else if(s.utf8seq===4)s.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|i&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function Xs(i){const s=[],n={queue:0,queuedBits:0},l=u=>{s.push(u)};for(let u=0;u<i.length;u+=1)Qh(i.charCodeAt(u),n,l);return new Uint8Array(s)}function Mx(i){const s=[];return Dx(i,n=>s.push(n)),new Uint8Array(s)}function ds(i){const s=[],n={queue:0,queuedBits:0},l=u=>{s.push(u)};return i.forEach(u=>bh(u,n,l)),bh(null,n,l),s.join("")}function Ux(i){return Math.round(Date.now()/1e3)+i}function Fx(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},Yh=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function zx(i){const s={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((u,d)=>{s[d]=u})}catch{}return n.searchParams.forEach((l,u)=>{s[u]=l}),s}const Xh=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),Bx=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Gs=async(i,s,n)=>{await i.setItem(s,JSON.stringify(n))},is=async(i,s)=>{const n=await i.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nt=async(i,s)=>{await i.removeItem(s)};class Ai{constructor(){this.promise=new Ai.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}Ai.promiseConstructor=Promise;function Ro(i){const s=i.split(".");if(s.length!==3)throw new Jo("Invalid JWT structure");for(let l=0;l<s.length;l++)if(!Ex.test(s[l]))throw new Jo("JWT not in base64url format");return{header:JSON.parse(wh(s[0])),payload:JSON.parse(wh(s[1])),signature:Xs(s[2]),raw:{header:s[0],payload:s[1]}}}async function Vx(i){return await new Promise(s=>{setTimeout(()=>s(null),i)})}function Wx(i,s){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const p=await i(d);if(!s(d,null,p)){l(p);return}}catch(p){if(!s(d,p)){u(p);return}}})()})}function qx(i){return("0"+i.toString(16)).substr(-2)}function Hx(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let u="";for(let d=0;d<56;d++)u+=n.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(s),Array.from(s,qx).join("")}async function Kx(i){const n=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",n),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Gx(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await Kx(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fs(i,s,n=!1){const l=Hx();let u=l;n&&(u+="/PASSWORD_RECOVERY"),await Gs(i,`${s}-code-verifier`,u);const d=await Gx(l);return[d,l===d?"plain":"s256"]}const Jx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qx(i){const s=i.headers.get(Ko);if(!s||!s.match(Jx))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Yx(i){if(!i)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(i<=s)throw new Error("JWT has expired")}function Xx(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zs(i){if(!Zx.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lo(){const i={};return new Proxy(i,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ey(i,s){return new Proxy(i,{get:(n,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,l,u)}return!s.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(n,l,u)}})}function jh(i){return JSON.parse(JSON.stringify(i))}const ls=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ty=[502,503,504];async function Nh(i){var s;if(!Bx(i))throw new Go(ls(i),0);if(ty.includes(i.status))throw new Go(ls(i),i.status);let n;try{n=await i.json()}catch(d){throw new us(ls(d),d)}let l;const u=Qx(i);if(u&&u.getTime()>=Jh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new yh(ls(n),i.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(l==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,p)=>d&&typeof p=="string",!0))throw new yh(ls(n),i.status,n.weak_password.reasons);throw new Ax(ls(n),i.status||500,l)}const ry=(i,s,n,l)=>{const u={method:i,headers:s?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),n))};async function de(i,s,n,l){var u;const d=Object.assign({},l?.headers);d[Ko]||(d[Ko]=Jh["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const p=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(p.redirect_to=l.redirectTo);const f=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",m=await sy(i,s,n+f,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function sy(i,s,n,l,u,d){const p=ry(s,l,u,d);let f;try{f=await i(n,Object.assign({},p))}catch(m){throw console.error(m),new Go(ls(m),0)}if(f.ok||await Nh(f),l?.noResolveJson)return f;try{return await f.json()}catch(m){await Nh(m)}}function Gt(i){var s;let n=null;iy(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Ux(i.expires_in)));const l=(s=i.user)!==null&&s!==void 0?s:i;return{data:{session:n,user:l},error:null}}function _h(i){const s=Gt(i);return!s.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(s.data.weak_password=i.weak_password),s}function zr(i){var s;return{data:{user:(s=i.user)!==null&&s!==void 0?s:i},error:null}}function ny(i){return{data:i,error:null}}function ay(i){const{action_link:s,email_otp:n,hashed_token:l,redirect_to:u,verification_type:d}=i,p=Ei(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:s,email_otp:n,hashed_token:l,redirect_to:u,verification_type:d},m=Object.assign({},p);return{data:{properties:f,user:m},error:null}}function kh(i){return i}function iy(i){return i.access_token&&i.refresh_token&&i.expires_in}const Io=["global","local","others"];class ly{constructor({url:s="",headers:n={},fetch:l}){this.url=s,this.headers=n,this.fetch=Xh(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,n=Io[0]){if(Io.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Io.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(s,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zr})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(s){try{const{options:n}=s,l=Ei(s,["options"]),u=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:ay,redirectTo:n?.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:zr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,l,u,d,p,f,m;try{const x={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=s?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:kh});if(y.error)throw y.error;const b=await y.json(),k=(p=y.headers.get("x-total-count"))!==null&&p!==void 0?p:0,S=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const w=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(O.split(";")[1].split("=")[1]);x[`${T}Page`]=w}),x.total=parseInt(k)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(ne(x))return{data:{users:[]},error:x};throw x}}async getUserById(s){zs(s);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:zr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){zs(s);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:zr})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(s,n=!1){zs(s);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:zr})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(s){zs(s.userId);try{const{data:n,error:l}=await de(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:n,error:l}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(s){zs(s.userId),zs(s.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(s){var n,l,u,d,p,f,m;try{const x={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=s?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:kh});if(y.error)throw y.error;const b=await y.json(),k=(p=y.headers.get("x-total-count"))!==null&&p!==void 0?p:0,S=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const w=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(O.split(";")[1].split("=")[1]);x[`${T}Page`]=w}),x.total=parseInt(k)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(ne(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(s){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(s){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(s,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(s){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(s){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function Sh(i={}){return{getItem:s=>i[s]||null,setItem:(s,n)=>{i[s]=n},removeItem:s=>{delete i[s]}}}const Bs={debug:!!(globalThis&&Yh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zh extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class oy extends Zh{}async function cy(i,s,n){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,s);const l=new globalThis.AbortController;return s>0&&setTimeout(()=>{l.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await n()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(s===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new oy(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Bs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ep(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function dy(i){return parseInt(i,16)}function hy(i){const s=new TextEncoder().encode(i);return"0x"+Array.from(s,l=>l.toString(16).padStart(2,"0")).join("")}function py(i){var s;const{chainId:n,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:p,notBefore:f,requestId:m,resources:x,scheme:y,uri:b,version:k}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((s=i.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=ep(i.address),O=y?`${y}://${l}`:l,w=i.statement?`${i.statement}
`:"",T=`${O} wants you to sign in with your Ethereum account:
${S}

${w}`;let B=`URI: ${b}
Version: ${k}
Chain ID: ${n}${p?`
Nonce: ${p}`:""}
Issued At: ${d.toISOString()}`;if(u&&(B+=`
Expiration Time: ${u.toISOString()}`),f&&(B+=`
Not Before: ${f.toISOString()}`),m&&(B+=`
Request ID: ${m}`),x){let V=`
Resources:`;for(const W of x){if(!W||typeof W!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${W}`);V+=`
- ${W}`}B+=V}return`${T}
${B}`}class Ke extends Error{constructor({message:s,code:n,cause:l,name:u}){var d;super(s,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class wi extends Ke{constructor(s,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:s}),this.name="WebAuthnUnknownError",this.originalError=n}}function my({error:i,options:s}){var n,l,u;const{publicKey:d}=s;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(s.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ke({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const p=window.location.hostname;if(tp(p)){if(d.rp.id!==p)return new Ke({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function fy({error:i,options:s}){const{publicKey:n}=s;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(s.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ke({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(tp(l)){if(n.rpId!==l)return new Ke({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class gy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const xy=new gy;function yy(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:s,user:n,excludeCredentials:l}=i,u=Ei(i,["challenge","user","excludeCredentials"]),d=Xs(s).buffer,p=Object.assign(Object.assign({},n),{id:Xs(n.id).buffer}),f=Object.assign(Object.assign({},u),{challenge:d,user:p});if(l&&l.length>0){f.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const x=l[m];f.excludeCredentials[m]=Object.assign(Object.assign({},x),{id:Xs(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return f}function vy(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:s,allowCredentials:n}=i,l=Ei(i,["challenge","allowCredentials"]),u=Xs(s).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const f=n[p];d.allowCredentials[p]=Object.assign(Object.assign({},f),{id:Xs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function by(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:ds(new Uint8Array(i.response.attestationObject)),clientDataJSON:ds(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function wy(i){var s;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,l=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ds(new Uint8Array(u.authenticatorData)),clientDataJSON:ds(new Uint8Array(u.clientDataJSON)),signature:ds(new Uint8Array(u.signature)),userHandle:u.userHandle?ds(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function tp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Eh(){var i,s;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.get)=="function")}async function jy(i){try{const s=await navigator.credentials.create(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new wi("Browser returned unexpected credential type",s)}:{data:null,error:new wi("Empty credential response",s)}}catch(s){return{data:null,error:my({error:s,options:i})}}}async function Ny(i){try{const s=await navigator.credentials.get(i);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new wi("Browser returned unexpected credential type",s)}:{data:null,error:new wi("Empty credential response",s)}}catch(s){return{data:null,error:fy({error:s,options:i})}}}const _y={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ky={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ji(...i){const s=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),n=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of i)if(u)for(const d in u){const p=u[d];if(p!==void 0)if(Array.isArray(p))l[d]=p;else if(n(p))l[d]=p;else if(s(p)){const f=l[d];s(f)?l[d]=ji(f,p):l[d]=ji(p)}else l[d]=p}return l}function Sy(i,s){return ji(_y,i,s||{})}function Ey(i,s){return ji(ky,i,s||{})}class Cy{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:n,friendlyName:l,signal:u},d){try{const{data:p,error:f}=await this.client.mfa.challenge({factorId:s,webauthn:n});if(!p)return{data:null,error:f};const m=u??xy.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:x}=p.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${l}`),x.displayName||(x.displayName=x.name)}switch(p.webauthn.type){case"create":{const x=Sy(p.webauthn.credential_options.publicKey,d?.create),{data:y,error:b}=await jy({publicKey:x,signal:m});return y?{data:{factorId:s,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const x=Ey(p.webauthn.credential_options.publicKey,d?.request),{data:y,error:b}=await Ny(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:x,signal:m}));return y?{data:{factorId:s,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(p){return ne(p)?{data:null,error:p}:{data:null,error:new us("Unexpected error in challenge",p)}}}async _verify({challengeId:s,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:s,webauthn:l})}async _authenticate({factorId:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new Yn("rpId is required for WebAuthn authentication")};try{if(!Eh())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:p,error:f}=await this.challenge({factorId:s,webauthn:{rpId:n,rpOrigins:l},signal:u},{request:d});if(!p)return{data:null,error:f};const{webauthn:m}=p;return this._verify({factorId:s,challengeId:p.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:l,credential_response:m.credential_response}})}catch(p){return ne(p)?{data:null,error:p}:{data:null,error:new us("Unexpected error in authenticate",p)}}}async _register({friendlyName:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new Yn("rpId is required for WebAuthn registration")};try{if(!Eh())return{data:null,error:new us("Browser does not support WebAuthn",null)};const{data:p,error:f}=await this._enroll({friendlyName:s});if(!p)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===s&&k.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:m,error:x}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:u},{create:d});return m?this._verify({factorId:p.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:x}}catch(p){return ne(p)?{data:null,error:p}:{data:null,error:new us("Unexpected error in register",p)}}}}uy();const Ay={url:_x,storageKey:kx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ch(i,s,n){return await n()}const Vs={};class Xn{get jwks(){var s,n;return(n=(s=Vs[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=Vs[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:s})}constructor(s){var n,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Ay),s);if(this.storageKey=d.storageKey,this.instanceID=(n=Xn.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Xn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&at()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new ly({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Xh(d.fetch),this.lock=d.lock||Ch,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&at()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=cy:this.lock=Ch,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Cy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Yh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gh}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let n={},l="none";if(at()&&(n=zx(window.location.href),this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce")),at()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(n,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Ox(d)){const m=(s=d.details)===null||s===void 0?void 0:s.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:p,redirectType:f}=u;return this._debug("#_initialize()","detected session in URL",p,"redirect type",f),await this._saveSession(p),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?this._returnResult({error:n}):this._returnResult({error:new us("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,l,u;try{const d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=s?.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=s?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Gt}),{data:p,error:f}=d;if(f||!p)return this._returnResult({data:{user:null,session:null},error:f});const m=p.session,x=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(d){if(ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(s){var n,l,u;try{let d;if("email"in s){const{email:y,password:b,options:k}=s;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await Fs(this.storage,this.storageKey)),d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:y,password:b,data:(n=k?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:S,code_challenge_method:O},xform:Gt})}else if("phone"in s){const{phone:y,password:b,options:k}=s;d=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(l=k?.data)!==null&&l!==void 0?l:{},channel:(u=k?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Gt})}else throw new pi("You must provide either an email or phone number and a password");const{data:p,error:f}=d;if(f||!p)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=p.session,x=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(d){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(s){try{let n;if("email"in s){const{email:d,password:p,options:f}=s;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:p,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_h})}else if("phone"in s){const{phone:d,password:p,options:f}=s;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:p,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_h})}else throw new pi("You must provide either an email or phone number and a password");const{data:l,error:u}=n;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Us;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(s){var n,l,u,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=s.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;switch(n){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(s){var n,l,u,d,p,f,m,x,y,b,k;let S,O;if("message"in s)S=s.message,O=s.signature;else{const{chain:w,wallet:T,statement:B,options:V}=s;let W;if(at())if(typeof T=="object")W=T;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")W=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=T}const K=new URL((n=V?.url)!==null&&n!==void 0?n:window.location.href),U=await W.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=ep(U[0]);let J=(l=V?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!J){const pe=await W.request({method:"eth_chainId"});J=dy(pe)}const le={domain:K.host,address:A,statement:B,uri:K.href,version:"1",chainId:J,nonce:(u=V?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(p=(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(f=V?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(x=V?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(y=V?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=py(le),O=await W.request({method:"personal_sign",params:[hy(S),A]})}try{const{data:w,error:T}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((b=s.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(k=s.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Gt});if(T)throw T;if(!w||!w.session||!w.user){const B=new Us;return this._returnResult({data:{user:null,session:null},error:B})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:T})}catch(w){if(ne(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(s){var n,l,u,d,p,f,m,x,y,b,k,S;let O,w;if("message"in s)O=s.message,w=s.signature;else{const{chain:T,wallet:B,statement:V,options:W}=s;let K;if(at())if(typeof B=="object")K=B;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))K=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=B}const U=new URL((n=W?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in K&&K.signIn){const A=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},W?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),V?{statement:V}:null));let J;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")J=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)J=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)O=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),w=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${U.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(u=(l=W?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=W?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${W.signInWithSolana.notBefore}`]:[],...!((p=W?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${W.signInWithSolana.expirationTime}`]:[],...!((f=W?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${W.signInWithSolana.chainId}`]:[],...!((m=W?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${W.signInWithSolana.nonce}`]:[],...!((x=W?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${W.signInWithSolana.requestId}`]:[],...!((b=(y=W?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...W.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const A=await K.signMessage(new TextEncoder().encode(O),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=A}}try{const{data:T,error:B}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ds(w)},!((k=s.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(S=s.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Gt});if(B)throw B;if(!T||!T.session||!T.user){const V=new Us;return this._returnResult({data:{user:null,session:null},error:V})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:B})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(s){const n=await is(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(n??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Rx;const{data:d,error:p}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:l},xform:Gt});if(await nt(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!d||!d.session||!d.user){const f=new Us;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:p})}catch(d){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(s){try{const{options:n,provider:l,token:u,access_token:d,nonce:p}=s,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:p,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Gt}),{data:m,error:x}=f;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!m||!m.session||!m.user){const y=new Us;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:x})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(s){var n,l,u,d,p;try{if("email"in s){const{email:f,options:m}=s;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await Fs(this.storage,this.storageKey));const{error:b}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:x,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in s){const{phone:f,options:m}=s,{data:x,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(p=m?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:y})}throw new pi("You must provide either an email or phone number.")}catch(f){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(s){var n,l;try{let u,d;"options"in s&&(u=(n=s.options)===null||n===void 0?void 0:n.redirectTo,d=(l=s.options)===null||l===void 0?void 0:l.captchaToken);const{data:p,error:f}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Gt});if(f)throw f;if(!p)throw new Error("An error occurred on token verification.");const m=p.session,x=p.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:x,session:m},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(s){var n,l,u,d,p;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Fs(this.storage,this.storageKey));const x=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(l=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=s?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:ny});return!((d=x.data)===null||d===void 0)&&d.url&&at()&&!(!((p=s.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(f){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:l}=s;if(l)throw l;if(!n)throw new Ct;const{error:u}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:l,type:u,options:d}=s,{error:p}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in s){const{phone:l,type:u,options:d}=s,{data:p,error:f}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:f})}throw new pi("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const l=s.expires_at?s.expires_at*1e3-Date.now()<To:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",s.expires_at),!l){if(this.userStorage){const p=await is(this.userStorage,this.storageKey+"-user");p?.user?s.user=p.user:s.user=Lo()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};s.user=ey(s.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(s){try{return s?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:zr}):await this._useSession(async n=>{var l,u,d;const{data:p,error:f}=n;if(f)throw f;return!(!((l=p.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:zr})})}catch(n){if(ne(n))return Tx(n)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Ct;const p=u.session;let f=null,m=null;this.flowType==="pkce"&&s.email!=null&&([f,m]=await Fs(this.storage,this.storageKey));const{data:x,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:f,code_challenge_method:m}),jwt:p.access_token,xform:zr});if(y)throw y;return p.user=x.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Ct;const n=Date.now()/1e3;let l=n,u=!0,d=null;const{payload:p}=Ro(s.access_token);if(p.exp&&(l=p.exp,u=l<=n),u){const{data:f,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};d=f}else{const{data:f,error:m}=await this._getUser(s.access_token);if(m)throw m;d={access_token:s.access_token,refresh_token:s.refresh_token,user:f.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var l;if(!s){const{data:p,error:f}=n;if(f)throw f;s=(l=p.session)!==null&&l!==void 0?l:void 0}if(!s?.refresh_token)throw new Ct;const{data:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(s,n){try{if(!at())throw new mi("No browser detected.");if(s.error||s.error_description||s.error_code)throw new mi(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new xh("No code detected.");const{data:V,error:W}=await this._exchangeCodeForSession(s.code);if(W)throw W;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:p,expires_in:f,expires_at:m,token_type:x}=s;if(!d||!f||!p||!x)throw new mi("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(f);let k=y+b;m&&(k=parseInt(m));const S=k-y;S*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const O=k-b;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,k,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,k,y);const{data:w,error:T}=await this._getUser(d);if(T)throw T;const B={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:k,refresh_token:p,token_type:x,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:s.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:u,error:d}=n;if(d)return this._returnResult({error:d});const p=(l=u.session)===null||l===void 0?void 0:l.access_token;if(p){const{error:f}=await this.admin.signOut(p,s);if(f&&!(Px(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return s!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const n=Fx(),l={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(s){return await this._useSession(async n=>{var l,u;try{const{data:{session:d},error:p}=n;if(p)throw p;await((l=this.stateChangeEmitters.get(s))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,n={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Fs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var s;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var n;try{const{data:l,error:u}=await this._useSession(async d=>{var p,f,m,x,y;const{data:b,error:k}=d;if(k)throw k;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(p=s.options)===null||p===void 0?void 0:p.redirectTo,scopes:(f=s.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return at()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:s.provider,url:l?.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:s.provider,url:null},error:l});throw l}}async linkIdentityIdToken(s){return await this._useSession(async n=>{var l;try{const{error:u,data:{session:d}}=n;if(u)throw u;const{options:p,provider:f,token:m,access_token:x,nonce:y}=s,b=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:f,id_token:m,access_token:x,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Gt}),{data:k,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Us}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:S}))}catch(u){if(await nt(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(s){try{return await this._useSession(async n=>{var l,u;const{data:d,error:p}=n;if(p)throw p;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await Wx(async u=>(u>0&&await Vx(200*Math.pow(2,u-1)),this._debug(n,"refreshing attempt",u),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Gt})),(u,d)=>{const p=200*Math.pow(2,u);return d&&Oo(d)&&Date.now()+p-l<Ks})}catch(l){if(this._debug(n,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",l),at()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:s,url:l},error:null}}async _recoverAndRefresh(){var s,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await is(this.storage,this.storageKey);if(u&&this.userStorage){let p=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:u.user},await Gs(this.userStorage,this.storageKey+"-user",p)),u.user=(s=p?.user)!==null&&s!==void 0?s:Lo()}else if(u&&!u.user&&!u.user){const p=await is(this.storage,this.storageKey+"-user");p&&p?.user?(u.user=p.user,await nt(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,u)):u.user=Lo()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((n=u.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<To;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${To}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:p}=await this._callRefreshToken(u.refresh_token);p&&(console.error(p),Oo(p)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:f}=await this._getUser(u.access_token);!f&&p?.user?(u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(l,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(s){var n,l;if(!s)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ai;const{data:d,error:p}=await this._refreshAccessToken(s);if(p)throw p;if(!d.session)throw new Ct;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const f={data:d.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(d){if(this._debug(u,"error",d),ne(d)){const p={data:null,error:d};return Oo(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(p),p}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(s,n,l=!0){const u=`#_notifyAllSubscribers(${s})`;this._debug(u,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:s,session:n});const d=[],p=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(s,n)}catch(m){d.push(m)}});if(await Promise.all(p),d.length>0){for(let f=0;f<d.length;f+=1)console.error(d[f]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},s),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:n.user});const u=Object.assign({},n);delete u.user;const d=jh(u);await Gs(this.storage,this.storageKey,d)}else{const u=jh(n);await Gs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-s)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ks}ms, refresh threshold is ${Ho} ticks`),u<=Ho&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof Zh)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,l){const u=[`provider=${encodeURIComponent(n)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,p]=await Fs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(p)}`});u.push(f.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${s}?${u.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var l;const{data:u,error:d}=n;return d?this._returnResult({data:null,error:d}):await de(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(s){try{return await this._useSession(async n=>{var l,u;const{data:d,error:p}=n;if(p)return this._returnResult({data:null,error:p});const f=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:m,error:x}=await de(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return x?this._returnResult({data:null,error:x}):(s.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?by(s.webauthn.credential_response):wy(s.webauthn.credential_response)})}:{code:s.code}),{data:f,error:m}=await de(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:p,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const p=await de(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(p.error)return p;const{data:f}=p;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:yy(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(s){const{data:n,error:l}=await this._challenge({factorId:s.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){var s;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(s=n?.factors)!==null&&s!==void 0?s:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var s,n;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Ro(l.access_token);let p=null;d.aal&&(p=d.aal);let f=p;((n=(s=l.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const x=d.amr||[];return{data:{currentLevel:p,nextLevel:f,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async n=>{const{data:{session:l},error:u}=n;return u?this._returnResult({data:null,error:u}):l?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(s,n){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Ct});const p=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return p.data&&p.data.redirect_url&&at()&&!n?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(s,n){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Ct});const p=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return p.data&&p.data.redirect_url&&at()&&!n?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:n},error:l}=s;return l?this._returnResult({data:null,error:l}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(s){if(ne(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async n=>{const{data:{session:l},error:u}=n;return u?this._returnResult({data:null,error:u}):l?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(s,n={keys:[]}){let l=n.keys.find(f=>f.kid===s);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(f=>f.kid===s),l&&this.jwks_cached_at+Cx>u)return l;const{data:d,error:p}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(f=>f.kid===s),!l)?null:l}async getClaims(s,n={}){try{let l=s;if(!l){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});l=S.session.access_token}const{header:u,payload:d,signature:p,raw:{header:f,payload:m}}=Ro(l);n?.allowExpired||Yx(d.exp);const x=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!x){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:d,header:u,signature:p},error:null}}const y=Xx(u.alg),b=await crypto.subtle.importKey("jwk",x,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,p,Mx(`${f}.${m}`)))throw new Jo("Invalid JWT signature");return{data:{claims:d,header:u,signature:p},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Xn.nextInstanceID={};const Py=Xn,Ty="2.89.0";let Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";const Oy={"X-Client-Info":`supabase-js-${Wn}/${Ty}`},Ry={headers:Oy},Ly={schema:"public"},Iy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dy={};function Zn(i){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Zn(i)}function $y(i,s){if(Zn(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var l=n.call(i,s);if(Zn(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}function My(i){var s=$y(i,"string");return Zn(s)=="symbol"?s:s+""}function Uy(i,s,n){return(s=My(s))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,i}function Ah(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);s&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),n.push.apply(n,l)}return n}function ze(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ah(Object(n),!0).forEach(function(l){Uy(i,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(n,l))})}return i}const Fy=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),zy=()=>Headers,By=(i,s,n)=>{const l=Fy(n),u=zy();return async(d,p)=>{var f;const m=(f=await s())!==null&&f!==void 0?f:i;let x=new u(p?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${m}`),l(d,ze(ze({},p),{},{headers:x}))}};function Vy(i){return i.endsWith("/")?i:i+"/"}function Wy(i,s){var n,l;const{db:u,auth:d,realtime:p,global:f}=i,{db:m,auth:x,realtime:y,global:b}=s,k={db:ze(ze({},m),u),auth:ze(ze({},x),d),realtime:ze(ze({},y),p),storage:{},global:ze(ze(ze({},b),f),{},{headers:ze(ze({},(n=b?.headers)!==null&&n!==void 0?n:{}),(l=f?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?k.accessToken=i.accessToken:delete k.accessToken,k}function qy(i){const s=i?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vy(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Hy=class extends Py{constructor(i){super(i)}},Ky=class{constructor(i,s,n){var l,u;this.supabaseUrl=i,this.supabaseKey=s;const d=qy(i);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:Ly,realtime:Dy,auth:ze(ze({},Iy),{},{storageKey:p}),global:Ry},m=Wy(n??{},f);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=m.auth)!==null&&x!==void 0?x:{},this.headers,m.global.fetch)}this.fetch=By(s,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Sg(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new Nx(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new wg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,s,n)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,s,n;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:n,storage:l,userStorage:u,storageKey:d,flowType:p,lock:f,debug:m,throwOnError:x},y,b){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hy({url:this.authUrl.href,headers:ze(ze({},k),y),storageKey:d,autoRefreshToken:i,persistSession:s,detectSessionInUrl:n,storage:l,userStorage:u,flowType:p,lock:f,debug:m,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Vg(this.realtimeUrl.href,ze(ze({},i),{},{params:ze(ze({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(i,s,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Gy=(i,s,n)=>new Ky(i,s,n);function Jy(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const s=i.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qy="https://hncvsextwmvjydcukdwx.supabase.co",Yy="sb_publishable_5qD27qPFc04oqSmS61s1tw_lgt8FhBV",fi=Gy(Qy,Yy),rp=$.createContext(void 0),sc=()=>{const i=$.useContext(rp);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},Xy=({children:i})=>{const[s,n]=$.useState(null),[l,u]=$.useState(!0);$.useEffect(()=>{fi.auth.getSession().then(({data:{session:x}})=>{n(x),u(!1)}).catch(x=>{console.error("Error getting session:",x),u(!1)});const{data:{subscription:m}}=fi.auth.onAuthStateChange((x,y)=>{n(y),u(!1)});return()=>m.unsubscribe()},[]);const f={session:s,loading:l,signIn:async(m,x)=>{const{error:y}=await fi.auth.signInWithPassword({email:m,password:x});if(y)throw y},signOut:async()=>{const{error:m}=await fi.auth.signOut();if(m)throw m}};return r.jsx(rp.Provider,{value:f,children:i})};function Zy(){const{user:i}=sc(),[s,n]=$.useState(""),[l,u]=$.useState("all"),[d,p]=$.useState("all"),[f,m]=$.useState(null),[x,y]=$.useState(!1),[b,k]=$.useState(null),S=$s.filter(w=>{const T=w.name.toLowerCase().includes(s.toLowerCase())||w.email.toLowerCase().includes(s.toLowerCase()),B=l==="all"||w.role===l,V=d==="all"||w.status===d;return T&&B&&V}),O={total:$s.length,active:$s.filter(w=>w.status==="Active").length,admins:$s.filter(w=>w.role==="Admin").length,recruiters:$s.filter(w=>w.role==="Recruiter").length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl",children:"User Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, roles, and permissions"})]}),r.jsxs("button",{onClick:()=>y(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg flex items-center gap-2",children:[r.jsx(ki,{className:"w-5 h-5"}),"Add New User"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Total Users"}),r.jsx(er,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.total})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Active Users"}),r.jsx(mf,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.active})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Administrators"}),r.jsx(Ut,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.admins})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm opacity-90",children:"Recruiters"}),r.jsx(Kn,{className:"w-8 h-8 opacity-80"})]}),r.jsx("div",{className:"text-3xl",children:O.recruiters})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Roles"}),r.jsx("option",{value:"Admin",children:"Admin"}),r.jsx("option",{value:"Manager",children:"Manager"}),r.jsx("option",{value:"Recruiter",children:"Recruiter"}),r.jsx("option",{value:"Viewer",children:"Viewer"})]}),r.jsxs("select",{value:d,onChange:w=>p(w.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Inactive",children:"Inactive"}),r.jsx("option",{value:"Suspended",children:"Suspended"})]}),r.jsxs("div",{className:"md:col-span-2 relative",children:[r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"text",placeholder:"Search users by name or email...",value:s,onChange:w=>n(w.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",r.jsx("strong",{children:S.length})," of ",r.jsx("strong",{children:$s.length})," users"]}),r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[r.jsx(Mt,{className:"w-4 h-4"}),"Export Users"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"User"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Department"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Last Active"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs uppercase tracking-wider text-gray-600",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(w=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:w.name[0]}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[w.name,w.id===i?.id&&r.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"You"})]}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[r.jsx(mt,{className:"w-3 h-3"}),w.email]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${w.role==="Admin"?"bg-purple-100 text-purple-700":w.role==="Manager"?"bg-blue-100 text-blue-700":w.role==="Recruiter"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:[w.role==="Admin"&&r.jsx(Ut,{className:"w-3 h-3"}),w.role==="Manager"&&r.jsx(Kn,{className:"w-3 h-3"}),w.role==="Recruiter"&&r.jsx(er,{className:"w-3 h-3"}),w.role==="Viewer"&&r.jsx(Zt,{className:"w-3 h-3"}),w.role]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-sm text-gray-900",children:w.department})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w.status==="Active"?"bg-green-100 text-green-700":w.status==="Inactive"?"bg-gray-100 text-gray-700":"bg-red-100 text-red-700"}`,children:w.status})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:w.lastActive}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Joined ",w.joinedDate]})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>k(w),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Permissions",children:r.jsx(Ut,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>m(w),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit User",children:r.jsx(R0,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",disabled:w.id===i?.id,children:r.jsx(Si,{className:"w-4 h-4"})})]})})]},w.id))})]})})}),b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl",children:"User Permissions"}),r.jsxs("p",{className:"text-blue-100 mt-1",children:[b.name," - ",b.role]})]}),r.jsx("button",{onClick:()=>k(null),className:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-colors",children:r.jsx(en,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:Object.entries(Mh[b.role]).map(([w,T])=>r.jsxs("div",{className:"mb-6 last:mb-0",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 capitalize flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ut,{className:"w-4 h-4 text-blue-600"})}),w]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(T).map(([B,V])=>r.jsxs("div",{className:`p-3 rounded-lg border-2 flex items-center justify-between ${V?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[r.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:B}),V?r.jsx(_i,{className:"w-5 h-5 text-green-600"}):r.jsx(en,{className:"w-5 h-5 text-red-600"})]},B))})]},w))}),r.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Permissions are inherited from the ",r.jsx("strong",{children:b.role})," role"]}),r.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})]})]})}),S.length===0&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Br,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-gray-900 mb-2",children:"No users found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters to find what you're looking for."})]})]})}function ev(){const{signIn:i,loading:s}=sc(),[n,l]=$.useState(""),[u,d]=$.useState(""),[p,f]=$.useState(!1),[m,x]=$.useState(""),[y,b]=$.useState(!1),k=async w=>{w.preventDefault(),x(""),b(!0);try{await i(n,u)}catch(T){x(T.message||"Login failed")}finally{b(!1)}},S=[{role:"Admin",email:"admin@falisha.com",password:"admin123",color:"from-purple-500 to-purple-600"}],O=(w,T)=>{l(w),d(T)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 lg:p-12",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:r.jsx(Ut,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl text-gray-900 mb-2",children:"Falisha Manpower"}),r.jsx("p",{className:"text-gray-600",children:"AI-Powered Recruitment Portal"})]}),r.jsxs("form",{onSubmit:k,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(mt,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:"email",value:n,onChange:w=>l(w.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(c0,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{type:p?"text":"password",value:u,onChange:w=>d(w.target.value),className:"w-full pl-12 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>f(!p),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?r.jsx(Vf,{className:"w-5 h-5"}):r.jsx(Zt,{className:"w-5 h-5"})})]})]}),m&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(it,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-900",children:"Login Failed"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Remember me"})]}),r.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),r.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-medium",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):r.jsxs(r.Fragment,{children:[r.jsx(d0,{className:"w-5 h-5"}),"Sign In"]})})]}),r.jsxs("div",{className:"relative my-8",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-300"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),r.jsxs("button",{className:"px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx("svg",{className:"w-5 h-5",fill:"#1877F2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white",children:[r.jsx("h2",{className:"text-2xl mb-4",children:"Welcome Back!"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Access your recruitment dashboard to manage candidates, track applications, and streamline your hiring process with AI-powered insights."}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[r.jsx(er,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl mb-1",children:"150+"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Candidates"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[r.jsx(Ut,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl mb-1",children:"98%"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Success Rate"})]}),r.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[r.jsx(Kn,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl mb-1",children:"45"}),r.jsx("div",{className:"text-xs text-blue-100",children:"Deployed"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[r.jsx("h3",{className:"text-xl mb-2 text-gray-900",children:"Demo Accounts"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Click any account below to quick login and explore different role permissions"}),r.jsx("div",{className:"space-y-3",children:S.map(w=>r.jsx("button",{onClick:()=>O(w.email,w.password),className:"w-full group",children:r.jsx("div",{className:`bg-gradient-to-r ${w.color} rounded-lg p-4 hover:shadow-lg transition-all`,children:r.jsxs("div",{className:"flex items-center justify-between text-white",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:[w.role==="Admin"&&r.jsx(Ut,{className:"w-5 h-5"}),w.role==="Manager"&&r.jsx(Kn,{className:"w-5 h-5"}),w.role==="Recruiter"&&r.jsx(er,{className:"w-5 h-5"}),w.role==="Viewer"&&r.jsx(Zt,{className:"w-5 h-5"})]}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:w.role}),r.jsx("div",{className:"text-xs text-white text-opacity-90",children:w.email})]})]}),r.jsx("div",{className:"text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Login "})]})})},w.email))}),r.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Role Permissions:"}),r.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Admin:"})," Full access to all features and settings"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Manager:"})," Manage candidates, view analytics, no user management"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Recruiter:"})," Add/edit candidates, upload documents, basic analytics"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Viewer:"})," Read-only access to candidates and jobs"]})]})]})]})]})]})})}const tv=({apiBaseUrl:i="http://localhost:1000/api"})=>{const[s,n]=$.useState([]),[l,u]=$.useState({}),[d,p]=$.useState(!1),[f,m]=$.useState(null),[x,y]=$.useState(!1),[b,k]=$.useState(null),[S,O]=$.useState(""),[w,T]=$.useState(""),[B,V]=$.useState(""),[W,K]=$.useState(""),[U]=$.useState(20),[A,J]=$.useState(0),[le,pe]=$.useState(0),xe=async()=>{p(!0);try{const L=new URLSearchParams;S&&L.append("source",S),w&&L.append("status",w),L.append("limit",U.toString()),L.append("offset",A.toString());const D=await(await fetch(`${i}/cv-inbox?${L.toString()}`)).json();n(D.messages||[]),pe(D.total||0)}catch(L){console.error("Failed to fetch messages:",L)}finally{p(!1)}},ve=async L=>{try{const D=await(await fetch(`${i}/cv-inbox/${L}/attachments`)).json();u(ue=>({...ue,[L]:D}))}catch(_){console.error("Failed to fetch attachments:",_)}};$.useEffect(()=>{xe()},[A,S,w]);const _e=async(L,_)=>{try{(await fetch(`${i}/cv-inbox/${L}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:_})})).ok&&(n(ue=>ue.map(R=>R.id===L?{...R,status:_}:R)),f?.id===L&&m({...f,status:_}))}catch(D){console.error("Failed to update status:",D)}},ye=async L=>{if(confirm("Are you sure you want to delete this message?"))try{(await fetch(`${i}/cv-inbox/${L}`,{method:"DELETE"})).ok&&n(D=>D.filter(ue=>ue.id!==L))}catch(_){console.error("Failed to delete message:",_)}},Xe=async L=>{m(L),l[L.id]||await ve(L.id)},lt=(L,_,D)=>{const ue=`${i}/cv-inbox/${L}/attachments/${_}/download`,R=document.createElement("a");R.href=ue,R.download=D,R.click()},qe=L=>{switch(L){case"processed":return r.jsx(Ie,{className:"w-4 h-4 text-green-600"});case"failed":return r.jsx(it,{className:"w-4 h-4 text-red-600"});default:return r.jsx(Th,{className:"w-4 h-4 text-yellow-600"})}},je=L=>({whatsapp:"bg-green-100 text-green-800",gmail:"bg-blue-100 text-blue-800",api:"bg-purple-100 text-purple-800"})[L]||"bg-gray-100 text-gray-800",H=Math.ceil(le/U),ae=Math.floor(A/U)+1;return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(mt,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CV Inbox"})]}),r.jsxs("p",{className:"text-gray-600",children:[le," total messages  Displaying ",s.length," on page ",ae]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Qf,{className:"w-5 h-5 text-gray-600"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),r.jsxs("select",{value:S,onChange:L=>{O(L.target.value),J(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Sources"}),r.jsx("option",{value:"whatsapp",children:"WhatsApp"}),r.jsx("option",{value:"gmail",children:"Gmail"}),r.jsx("option",{value:"api",children:"API"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:w,onChange:L=>{T(L.target.value),J(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"processed",children:"Processed"}),r.jsx("option",{value:"failed",children:"Failed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From"}),r.jsx("input",{type:"date",value:B,onChange:L=>V(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To"}),r.jsx("input",{type:"date",value:W,onChange:L=>K(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[d?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading messages..."}):s.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No messages found"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Source"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Message ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Payload"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Received"}),r.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(L=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${je(L.source)}`,children:L.source})}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 font-mono",children:[L.external_message_id.slice(0,20),"..."]}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:[L.payload?.text&&L.payload.text.slice(0,30),"..."]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[qe(L.status),r.jsxs("select",{value:L.status,onChange:_=>_e(L.id,_.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:outline-none focus:ring-blue-500",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"processed",children:"Processed"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(L.received_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 text-sm",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>Xe(L),className:"p-2 hover:bg-blue-50 rounded-md text-blue-600 transition-colors",title:"View attachments",children:r.jsx(Zt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ye(L.id),className:"p-2 hover:bg-red-50 rounded-md text-red-600 transition-colors",title:"Delete message",children:r.jsx(Si,{className:"w-4 h-4"})})]})})]},L.id))})]})}),H>1&&r.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",ae," of ",H]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>J(Math.max(0,A-U)),disabled:A===0,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 disabled:opacity-50 hover:bg-gray-50 transition-colors",children:"Previous"}),r.jsx("button",{onClick:()=>J(A+U),disabled:A+U>=le,className:"px-4 py-2 border border-gray-300 rounded-md bg-white text-gray-700 disabled:opacity-50 hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-gray-50 border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attachments"}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-500 hover:text-gray-700 transition-colors",children:""})]}),r.jsx("div",{className:"p-6",children:!l[f.id]||l[f.id].length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No attachments"}):r.jsx("div",{className:"space-y-3",children:l[f.id].map(L=>r.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:L.file_name}),r.jsx("p",{className:"text-sm text-gray-500",children:L.mime_type})]}),r.jsx("button",{onClick:()=>lt(f.id,L.id,L.file_name),className:"ml-4 p-2 hover:bg-blue-50 rounded-md text-blue-600 transition-colors",title:"Download",children:r.jsx(Mt,{className:"w-5 h-5"})})]},L.id))})})]})})]})})},Vn={company:{name:"Falisha Manpower",logo:"/logo.png"},contact:{phone:"+92330 3333335",email:"falishamanpower4035@gmail.com"}},rv={},sv=()=>{const{session:i,signOut:s,loading:n}=sc(),[l,u]=$.useState("dashboard"),[d,p]=$.useState(!1),[f,m]=$.useState("all"),[x,y]=$.useState(!1),b=i?{name:i.user.user_metadata?.name||i.user.email?.split("@")[0]||"User",email:i.user.email||"",role:(i.user.user_metadata?.role||"viewer").charAt(0).toUpperCase()+(i.user.user_metadata?.role||"viewer").slice(1),lastActive:"Today"}:{name:"Guest",email:"",role:"Viewer",lastActive:"Today"},[k,S]=$.useState(["all"]),[O,w]=$.useState({all:0});$.useEffect(()=>{let V=!0;return(async()=>{try{const W=await Ge.getCandidates();if(!V)return;const K=Array.from(new Set(W.map(A=>A.position).filter(Boolean))).sort();S(["all",...K]);const U={all:W.length};K.forEach(A=>{U[A]=W.filter(J=>J.position===A).length}),w(U)}catch{}})(),()=>{V=!1}},[]);const T=l==="candidate-browser",B=()=>{switch(l){case"dashboard":return r.jsx(ah,{});case"cv-inbox":return r.jsx(pg,{});case"inbox-ui":return r.jsx(tv,{apiBaseUrl:rv?.VITE_API_BASE_URL||"/api"});case"candidates":return r.jsx(ng,{initialProfessionFilter:f});case"candidate-browser":return r.jsx(ig,{});case"employers":return r.jsx(lg,{});case"jobs":return r.jsx(og,{});case"templates":return r.jsx(fg,{});case"application-link":return r.jsx(hg,{});case"reports":return r.jsx(cg,{});case"settings":return r.jsx(ug,{});case"users":return r.jsx(Zy,{});default:return r.jsx(ah,{})}};return typeof window<"u"&&window.location.pathname==="/apply"?r.jsx($h,{}):n?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:Vn.company.logo,alt:Vn.company.name,className:"h-12 w-12 object-contain"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-blue-600 font-bold text-lg",children:Vn.company.name}),r.jsxs("p",{className:"text-gray-600 text-xs flex gap-2",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(tn,{className:"w-3 h-3"}),Vn.contact.phone]}),r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(mt,{className:"w-3 h-3"}),Vn.contact.email]})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>y(!x),className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${b.role==="Admin"?"bg-purple-500":b.role==="Manager"?"bg-blue-500":b.role==="Recruiter"?"bg-green-500":"bg-gray-500"}`}),b.role]})]}),r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${b.role==="Admin"?"bg-gradient-to-br from-purple-500 to-purple-600":b.role==="Manager"?"bg-gradient-to-br from-blue-500 to-blue-600":b.role==="Recruiter"?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-gray-500 to-gray-600"}`,children:b.name[0]}),r.jsx(Tf,{className:`w-4 h-4 text-gray-400 transition-transform ${x?"rotate-180":""}`})]}),x&&r.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:b.name}),r.jsx("p",{className:"text-xs text-gray-500",children:b.email}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last active: ",b.lastActive]})]}),r.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(er,{className:"w-4 h-4"}),"My Profile"]}),r.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Mo,{className:"w-4 h-4"}),"Preferences"]}),r.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:r.jsxs("button",{onClick:()=>{s(),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx(p0,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})})}),r.jsxs("div",{className:"flex",children:[!T&&r.jsx("aside",{className:"w-64 bg-white border-r border-gray-200 min-h-[calc(100vh-73px)]",children:r.jsxs("nav",{className:"p-4 space-y-1",children:[r.jsxs("button",{onClick:()=>u("dashboard"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="dashboard"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(s0,{className:"w-4 h-4"}),"Dashboard"]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"CANDIDATE OPERATIONS"}),r.jsxs("button",{onClick:()=>u("cv-inbox"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="cv-inbox"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Lh,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"CV Inbox"}),r.jsx("span",{className:"bg-purple-100 text-purple-600 px-1.5 py-0.5 rounded text-xs",children:"5 New"})]}),r.jsxs("button",{onClick:()=>u("inbox-ui"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="inbox-ui"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"Inbox Manager"})]}),r.jsxs("button",{onClick:()=>{u("candidates"),m("all")},className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidates"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(er,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"Candidates"}),r.jsx("span",{className:"text-xs text-gray-500",children:O.all??0})]}),k.map(V=>r.jsxs("button",{onClick:()=>{u("candidates"),m(V)},className:`w-full flex items-center gap-3 pl-12 pr-4 py-2 rounded-lg transition-colors text-sm ${l==="candidates"&&f===V?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:[r.jsx("span",{className:"flex-1 text-left",children:V}),r.jsx("span",{className:"text-xs text-gray-500",children:O[V]})]},V)),r.jsxs("button",{onClick:()=>u("candidate-browser"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="candidate-browser"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Gf,{className:"w-4 h-4"}),r.jsx("span",{className:"flex-1 text-left",children:"Browser (Excel)"})]})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"EMPLOYER & JOBS"}),r.jsxs("button",{onClick:()=>u("employers"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="employers"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Ni,{className:"w-4 h-4"}),"Employers"]}),r.jsxs("button",{onClick:()=>u("jobs"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="jobs"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Xt,{className:"w-4 h-4"}),"Job Orders"]})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"COMMUNICATION"}),r.jsxs("button",{onClick:()=>u("templates"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="templates"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(gr,{className:"w-4 h-4"}),"Templates"]}),r.jsxs("button",{onClick:()=>u("application-link"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="application-link"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Yo,{className:"w-4 h-4"}),"Application Link"]})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"px-4 text-xs font-semibold text-gray-500 mb-2",children:"SYSTEM"}),xg(b,"users","view")&&r.jsxs("button",{onClick:()=>u("users"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="users"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Ut,{className:"w-4 h-4"}),"User Management"]}),r.jsxs("button",{onClick:()=>u("reports"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="reports"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Yt,{className:"w-4 h-4"}),"Reports"]}),r.jsxs("button",{onClick:()=>u("settings"),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm ${l==="settings"?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(Mo,{className:"w-4 h-4"}),"Settings"]})]})]})}),r.jsxs("main",{className:"flex-1",children:[T&&r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:r.jsxs("button",{onClick:()=>u("candidates"),className:"flex items-center gap-2 text-gray-700 hover:text-blue-600 transition-colors",children:[r.jsx(gf,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Back to Candidates"})]})}),r.jsx("div",{className:T?"":"p-6",children:B()})]})]})]}):r.jsx(ev,{})};function nv(){return r.jsx(Xy,{children:r.jsx(sv,{})})}of.createRoot(document.getElementById("root")).render(r.jsx(nv,{}));
